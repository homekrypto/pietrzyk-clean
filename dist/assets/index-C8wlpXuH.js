var VC=Object.defineProperty;var zC=(t,e,n)=>e in t?VC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var B=(t,e,n)=>zC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function FC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $C(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Tx={exports:{}},td={},xx={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Symbol.for("react.element"),UC=Symbol.for("react.portal"),BC=Symbol.for("react.fragment"),qC=Symbol.for("react.strict_mode"),WC=Symbol.for("react.profiler"),HC=Symbol.for("react.provider"),KC=Symbol.for("react.context"),GC=Symbol.for("react.forward_ref"),QC=Symbol.for("react.suspense"),YC=Symbol.for("react.memo"),XC=Symbol.for("react.lazy"),Cw=Symbol.iterator;function JC(t){return t===null||typeof t!="object"?null:(t=Cw&&t[Cw]||t["@@iterator"],typeof t=="function"?t:null)}var kx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sx=Object.assign,Ix={};function zo(t,e,n){this.props=t,this.context=e,this.refs=Ix,this.updater=n||kx}zo.prototype.isReactComponent={};zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bx(){}bx.prototype=zo.prototype;function Ug(t,e,n){this.props=t,this.context=e,this.refs=Ix,this.updater=n||kx}var Bg=Ug.prototype=new bx;Bg.constructor=Ug;Sx(Bg,zo.prototype);Bg.isPureReactComponent=!0;var Nw=Array.isArray,Ax=Object.prototype.hasOwnProperty,qg={current:null},Px={key:!0,ref:!0,__self:!0,__source:!0};function Rx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ax.call(e,r)&&!Px.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Gl,type:t,key:i,ref:o,props:s,_owner:qg.current}}function ZC(t,e){return{$$typeof:Gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gl}function e2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dw=/\/+/g;function bf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e2(""+t.key):e.toString(36)}function Ec(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gl:case UC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+bf(o,0):r,Nw(s)?(n="",t!=null&&(n=t.replace(Dw,"$&/")+"/"),Ec(s,e,n,"",function(u){return u})):s!=null&&(Wg(s)&&(s=ZC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Nw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+bf(i,a);o+=Ec(i,e,n,l,s)}else if(l=JC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+bf(i,a++),o+=Ec(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zu(t,e,n){if(t==null)return t;var r=[],s=0;return Ec(t,r,"","",function(i){return e.call(n,i,s++)}),r}function t2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},Tc={transition:null},n2={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Tc,ReactCurrentOwner:qg};function Cx(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:zu,forEach:function(t,e,n){zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zu(t,function(){e++}),e},toArray:function(t){return zu(t,function(e){return e})||[]},only:function(t){if(!Wg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=zo;ie.Fragment=BC;ie.Profiler=WC;ie.PureComponent=Ug;ie.StrictMode=qC;ie.Suspense=QC;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n2;ie.act=Cx;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ax.call(e,l)&&!Px.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gl,type:t.type,key:s,ref:i,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:KC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HC,_context:t},t.Consumer=t};ie.createElement=Rx;ie.createFactory=function(t){var e=Rx.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:GC,render:t}};ie.isValidElement=Wg;ie.lazy=function(t){return{$$typeof:XC,_payload:{_status:-1,_result:t},_init:t2}};ie.memo=function(t,e){return{$$typeof:YC,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Tc.transition;Tc.transition={};try{t()}finally{Tc.transition=e}};ie.unstable_act=Cx;ie.useCallback=function(t,e){return Ct.current.useCallback(t,e)};ie.useContext=function(t){return Ct.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};ie.useEffect=function(t,e){return Ct.current.useEffect(t,e)};ie.useId=function(){return Ct.current.useId()};ie.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Ct.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};ie.useRef=function(t){return Ct.current.useRef(t)};ie.useState=function(t){return Ct.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Ct.current.useTransition()};ie.version="18.3.1";xx.exports=ie;var C=xx.exports;const Nx=FC(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2=C,s2=Symbol.for("react.element"),i2=Symbol.for("react.fragment"),o2=Object.prototype.hasOwnProperty,a2=r2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l2={key:!0,ref:!0,__self:!0,__source:!0};function Dx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)o2.call(e,r)&&!l2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:s2,type:t,key:i,ref:o,props:s,_owner:a2.current}}td.Fragment=i2;td.jsx=Dx;td.jsxs=Dx;Tx.exports=td;var v=Tx.exports,zp={},Ox={exports:{}},Xt={},Lx={exports:{}},jx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Q){var Y=$.length;$.push(Q);e:for(;0<Y;){var ye=Y-1>>>1,pe=$[ye];if(0<s(pe,Q))$[ye]=Q,$[Y]=pe,Y=ye;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],Y=$.pop();if(Y!==Q){$[0]=Y;e:for(var ye=0,pe=$.length,be=pe>>>1;ye<be;){var Zt=2*(ye+1)-1,pn=$[Zt],mn=Zt+1,en=$[mn];if(0>s(pn,Y))mn<pe&&0>s(en,pn)?($[ye]=en,$[mn]=Y,ye=mn):($[ye]=pn,$[Zt]=Y,ye=Zt);else if(mn<pe&&0>s(en,Y))$[ye]=en,$[mn]=Y,ye=mn;else break e}}return Q}function s($,Q){var Y=$.sortIndex-Q.sortIndex;return Y!==0?Y:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,m=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=$)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function R($){if(x=!1,E($),!y)if(n(l)!==null)y=!0,He(O);else{var Q=n(u);Q!==null&&re(R,Q.startTime-$)}}function O($,Q){y=!1,x&&(x=!1,w(T),T=-1),m=!0;var Y=f;try{for(E(Q),d=n(l);d!==null&&(!(d.expirationTime>Q)||$&&!N());){var ye=d.callback;if(typeof ye=="function"){d.callback=null,f=d.priorityLevel;var pe=ye(d.expirationTime<=Q);Q=t.unstable_now(),typeof pe=="function"?d.callback=pe:d===n(l)&&r(l),E(Q)}else r(l);d=n(l)}if(d!==null)var be=!0;else{var Zt=n(u);Zt!==null&&re(R,Zt.startTime-Q),be=!1}return be}finally{d=null,f=Y,m=!1}}var D=!1,k=null,T=-1,b=5,A=-1;function N(){return!(t.unstable_now()-A<b)}function L(){if(k!==null){var $=t.unstable_now();A=$;var Q=!0;try{Q=k(!0,$)}finally{Q?P():(D=!1,k=null)}}else D=!1}var P;if(typeof _=="function")P=function(){_(L)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Ee=G.port2;G.port1.onmessage=L,P=function(){Ee.postMessage(null)}}else P=function(){S(L,0)};function He($){k=$,D||(D=!0,P())}function re($,Q){T=S(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,He(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var Y=f;f=Q;try{return $()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=f;f=$;try{return Q()}finally{f=Y}},t.unstable_scheduleCallback=function($,Q,Y){var ye=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ye+Y:ye):Y=ye,$){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Y+pe,$={id:h++,callback:Q,priorityLevel:$,startTime:Y,expirationTime:pe,sortIndex:-1},Y>ye?($.sortIndex=Y,e(u,$),n(l)===null&&$===n(u)&&(x?(w(T),T=-1):x=!0,re(R,Y-ye))):($.sortIndex=pe,e(l,$),y||m||(y=!0,He(O))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var Q=f;return function(){var Y=f;f=Q;try{return $.apply(this,arguments)}finally{f=Y}}}})(jx);Lx.exports=jx;var u2=Lx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2=C,Yt=u2;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mx=new Set,hl={};function gi(t,e){Eo(t,e),Eo(t+"Capture",e)}function Eo(t,e){for(hl[t]=e,t=0;t<e.length;t++)Mx.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,h2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ow={},Lw={};function d2(t){return Fp.call(Lw,t)?!0:Fp.call(Ow,t)?!1:h2.test(t)?Lw[t]=!0:(Ow[t]=!0,!1)}function f2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p2(t,e,n,r){if(e===null||typeof e>"u"||f2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hg=/[\-:]([a-z])/g;function Kg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hg,Kg);ut[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hg,Kg);ut[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hg,Kg);ut[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gg(t,e,n,r){var s=ut.hasOwnProperty(e)?ut[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p2(e,n,s,r)&&(n=null),r||s===null?d2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=c2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fu=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),Qg=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),Vx=Symbol.for("react.provider"),zx=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),Fx=Symbol.for("react.offscreen"),jw=Symbol.iterator;function ga(t){return t===null||typeof t!="object"?null:(t=jw&&t[jw]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Af;function Ra(t){if(Af===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Af=e&&e[1]||""}return`
`+Af+t}var Pf=!1;function Rf(t,e){if(!t||Pf)return"";Pf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ra(t):""}function m2(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=Rf(t.type,!1),t;case 11:return t=Rf(t.type.render,!1),t;case 1:return t=Rf(t.type,!0),t;default:return""}}function qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ui:return"Fragment";case $i:return"Portal";case $p:return"Profiler";case Qg:return"StrictMode";case Up:return"Suspense";case Bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zx:return(t.displayName||"Context")+".Consumer";case Vx:return(t._context.displayName||"Context")+".Provider";case Yg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xg:return e=t.displayName||null,e!==null?e:qp(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return qp(t(e))}catch{}}return null}function g2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qp(e);case 8:return e===Qg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $x(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y2(t){var e=$x(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $u(t){t._valueTracker||(t._valueTracker=y2(t))}function Ux(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$x(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wp(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bx(t,e){e=e.checked,e!=null&&Gg(t,"checked",e,!1)}function Hp(t,e){Bx(t,e);var n=ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kp(t,e.type,ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kp(t,e,n){(e!=="number"||Xc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ca=Array.isArray;function io(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ms(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Ca(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ms(n)}}function qx(t,e){var n=ms(e.value),r=ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uu,Hx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v2=["Webkit","ms","Moz","O"];Object.keys($a).forEach(function(t){v2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$a[e]=$a[t]})});function Kx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$a.hasOwnProperty(t)&&$a[t]?(""+e).trim():e+"px"}function Gx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Kx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var w2=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yp(t,e){if(e){if(w2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jp=null;function Jg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zp=null,oo=null,ao=null;function $w(t){if(t=Xl(t)){if(typeof Zp!="function")throw Error(F(280));var e=t.stateNode;e&&(e=od(e),Zp(t.stateNode,t.type,e))}}function Qx(t){oo?ao?ao.push(t):ao=[t]:oo=t}function Yx(){if(oo){var t=oo,e=ao;if(ao=oo=null,$w(t),e)for(t=0;t<e.length;t++)$w(e[t])}}function Xx(t,e){return t(e)}function Jx(){}var Cf=!1;function Zx(t,e,n){if(Cf)return t(e,n);Cf=!0;try{return Xx(t,e,n)}finally{Cf=!1,(oo!==null||ao!==null)&&(Jx(),Yx())}}function fl(t,e){var n=t.stateNode;if(n===null)return null;var r=od(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var em=!1;if(_r)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){em=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{em=!1}function _2(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Ua=!1,Jc=null,Zc=!1,tm=null,E2={onError:function(t){Ua=!0,Jc=t}};function T2(t,e,n,r,s,i,o,a,l){Ua=!1,Jc=null,_2.apply(E2,arguments)}function x2(t,e,n,r,s,i,o,a,l){if(T2.apply(this,arguments),Ua){if(Ua){var u=Jc;Ua=!1,Jc=null}else throw Error(F(198));Zc||(Zc=!0,tm=u)}}function yi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ek(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uw(t){if(yi(t)!==t)throw Error(F(188))}function k2(t){var e=t.alternate;if(!e){if(e=yi(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Uw(s),t;if(i===r)return Uw(s),e;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function tk(t){return t=k2(t),t!==null?nk(t):null}function nk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nk(t);if(e!==null)return e;t=t.sibling}return null}var rk=Yt.unstable_scheduleCallback,Bw=Yt.unstable_cancelCallback,S2=Yt.unstable_shouldYield,I2=Yt.unstable_requestPaint,$e=Yt.unstable_now,b2=Yt.unstable_getCurrentPriorityLevel,Zg=Yt.unstable_ImmediatePriority,sk=Yt.unstable_UserBlockingPriority,eh=Yt.unstable_NormalPriority,A2=Yt.unstable_LowPriority,ik=Yt.unstable_IdlePriority,nd=null,$n=null;function P2(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(nd,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:N2,R2=Math.log,C2=Math.LN2;function N2(t){return t>>>=0,t===0?32:31-(R2(t)/C2|0)|0}var Bu=64,qu=4194304;function Na(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function th(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Na(a):(i&=o,i!==0&&(r=Na(i)))}else o=n&~s,o!==0?r=Na(o):i!==0&&(r=Na(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),s=1<<n,r|=t[n],e&=~s;return r}function D2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-An(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=D2(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function nm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ok(){var t=Bu;return Bu<<=1,!(Bu&4194240)&&(Bu=64),t}function Nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ql(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function L2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-An(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ey(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ge=0;function ak(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lk,ty,uk,ck,hk,rm=!1,Wu=[],es=null,ts=null,ns=null,pl=new Map,ml=new Map,qr=[],j2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qw(t,e){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(e.pointerId)}}function va(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xl(e),e!==null&&ty(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function M2(t,e,n,r,s){switch(e){case"focusin":return es=va(es,t,e,n,r,s),!0;case"dragenter":return ts=va(ts,t,e,n,r,s),!0;case"mouseover":return ns=va(ns,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return pl.set(i,va(pl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ml.set(i,va(ml.get(i)||null,t,e,n,r,s)),!0}return!1}function dk(t){var e=Ks(t.target);if(e!==null){var n=yi(e);if(n!==null){if(e=n.tag,e===13){if(e=ek(n),e!==null){t.blockedOn=e,hk(t.priority,function(){uk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jp=r,n.target.dispatchEvent(r),Jp=null}else return e=Xl(n),e!==null&&ty(e),t.blockedOn=n,!1;e.shift()}return!0}function Ww(t,e,n){xc(t)&&n.delete(e)}function V2(){rm=!1,es!==null&&xc(es)&&(es=null),ts!==null&&xc(ts)&&(ts=null),ns!==null&&xc(ns)&&(ns=null),pl.forEach(Ww),ml.forEach(Ww)}function wa(t,e){t.blockedOn===e&&(t.blockedOn=null,rm||(rm=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,V2)))}function gl(t){function e(s){return wa(s,t)}if(0<Wu.length){wa(Wu[0],t);for(var n=1;n<Wu.length;n++){var r=Wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(es!==null&&wa(es,t),ts!==null&&wa(ts,t),ns!==null&&wa(ns,t),pl.forEach(e),ml.forEach(e),n=0;n<qr.length;n++)r=qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)dk(n),n.blockedOn===null&&qr.shift()}var lo=Cr.ReactCurrentBatchConfig,nh=!0;function z2(t,e,n,r){var s=ge,i=lo.transition;lo.transition=null;try{ge=1,ny(t,e,n,r)}finally{ge=s,lo.transition=i}}function F2(t,e,n,r){var s=ge,i=lo.transition;lo.transition=null;try{ge=4,ny(t,e,n,r)}finally{ge=s,lo.transition=i}}function ny(t,e,n,r){if(nh){var s=sm(t,e,n,r);if(s===null)Uf(t,e,r,rh,n),qw(t,r);else if(M2(s,t,e,n,r))r.stopPropagation();else if(qw(t,r),e&4&&-1<j2.indexOf(t)){for(;s!==null;){var i=Xl(s);if(i!==null&&lk(i),i=sm(t,e,n,r),i===null&&Uf(t,e,r,rh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Uf(t,e,r,null,n)}}var rh=null;function sm(t,e,n,r){if(rh=null,t=Jg(r),t=Ks(t),t!==null)if(e=yi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ek(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rh=t,null}function fk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b2()){case Zg:return 1;case sk:return 4;case eh:case A2:return 16;case ik:return 536870912;default:return 16}default:return 16}}var Xr=null,ry=null,kc=null;function pk(){if(kc)return kc;var t,e=ry,n=e.length,r,s="value"in Xr?Xr.value:Xr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return kc=s.slice(t,1<r?1-r:void 0)}function Sc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hu(){return!0}function Hw(){return!1}function Jt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hu:Hw,this.isPropagationStopped=Hw,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hu)},persist:function(){},isPersistent:Hu}),e}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sy=Jt(Fo),Yl=Oe({},Fo,{view:0,detail:0}),$2=Jt(Yl),Df,Of,_a,rd=Oe({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(Df=t.screenX-_a.screenX,Of=t.screenY-_a.screenY):Of=Df=0,_a=t),Df)},movementY:function(t){return"movementY"in t?t.movementY:Of}}),Kw=Jt(rd),U2=Oe({},rd,{dataTransfer:0}),B2=Jt(U2),q2=Oe({},Yl,{relatedTarget:0}),Lf=Jt(q2),W2=Oe({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),H2=Jt(W2),K2=Oe({},Fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G2=Jt(K2),Q2=Oe({},Fo,{data:0}),Gw=Jt(Q2),Y2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=J2[t])?!!e[t]:!1}function iy(){return Z2}var eN=Oe({},Yl,{key:function(t){if(t.key){var e=Y2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(t){return t.type==="keypress"?Sc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tN=Jt(eN),nN=Oe({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qw=Jt(nN),rN=Oe({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),sN=Jt(rN),iN=Oe({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oN=Jt(iN),aN=Oe({},rd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lN=Jt(aN),uN=[9,13,27,32],oy=_r&&"CompositionEvent"in window,Ba=null;_r&&"documentMode"in document&&(Ba=document.documentMode);var cN=_r&&"TextEvent"in window&&!Ba,mk=_r&&(!oy||Ba&&8<Ba&&11>=Ba),Yw=" ",Xw=!1;function gk(t,e){switch(t){case"keyup":return uN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function hN(t,e){switch(t){case"compositionend":return yk(e);case"keypress":return e.which!==32?null:(Xw=!0,Yw);case"textInput":return t=e.data,t===Yw&&Xw?null:t;default:return null}}function dN(t,e){if(Bi)return t==="compositionend"||!oy&&gk(t,e)?(t=pk(),kc=ry=Xr=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mk&&e.locale!=="ko"?null:e.data;default:return null}}var fN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fN[t.type]:e==="textarea"}function vk(t,e,n,r){Qx(r),e=sh(e,"onChange"),0<e.length&&(n=new sy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qa=null,yl=null;function pN(t){Pk(t,0)}function sd(t){var e=Hi(t);if(Ux(e))return t}function mN(t,e){if(t==="change")return e}var wk=!1;if(_r){var jf;if(_r){var Mf="oninput"in document;if(!Mf){var Zw=document.createElement("div");Zw.setAttribute("oninput","return;"),Mf=typeof Zw.oninput=="function"}jf=Mf}else jf=!1;wk=jf&&(!document.documentMode||9<document.documentMode)}function e_(){qa&&(qa.detachEvent("onpropertychange",_k),yl=qa=null)}function _k(t){if(t.propertyName==="value"&&sd(yl)){var e=[];vk(e,yl,t,Jg(t)),Zx(pN,e)}}function gN(t,e,n){t==="focusin"?(e_(),qa=e,yl=n,qa.attachEvent("onpropertychange",_k)):t==="focusout"&&e_()}function yN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sd(yl)}function vN(t,e){if(t==="click")return sd(e)}function wN(t,e){if(t==="input"||t==="change")return sd(e)}function _N(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:_N;function vl(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fp.call(e,s)||!Cn(t[s],e[s]))return!1}return!0}function t_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function n_(t,e){var n=t_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=t_(n)}}function Ek(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ek(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Tk(){for(var t=window,e=Xc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xc(t.document)}return e}function ay(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EN(t){var e=Tk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ek(n.ownerDocument.documentElement,n)){if(r!==null&&ay(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=n_(n,i);var o=n_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TN=_r&&"documentMode"in document&&11>=document.documentMode,qi=null,im=null,Wa=null,om=!1;function r_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;om||qi==null||qi!==Xc(r)||(r=qi,"selectionStart"in r&&ay(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wa&&vl(Wa,r)||(Wa=r,r=sh(im,"onSelect"),0<r.length&&(e=new sy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qi)))}function Ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wi={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},Vf={},xk={};_r&&(xk=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function id(t){if(Vf[t])return Vf[t];if(!Wi[t])return t;var e=Wi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xk)return Vf[t]=e[n];return t}var kk=id("animationend"),Sk=id("animationiteration"),Ik=id("animationstart"),bk=id("transitionend"),Ak=new Map,s_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(t,e){Ak.set(t,e),gi(e,[t])}for(var zf=0;zf<s_.length;zf++){var Ff=s_[zf],xN=Ff.toLowerCase(),kN=Ff[0].toUpperCase()+Ff.slice(1);Is(xN,"on"+kN)}Is(kk,"onAnimationEnd");Is(Sk,"onAnimationIteration");Is(Ik,"onAnimationStart");Is("dblclick","onDoubleClick");Is("focusin","onFocus");Is("focusout","onBlur");Is(bk,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function i_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,x2(r,e,void 0,t),t.currentTarget=null}function Pk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;i_(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;i_(s,a,u),i=l}}}if(Zc)throw t=tm,Zc=!1,tm=null,t}function xe(t,e){var n=e[hm];n===void 0&&(n=e[hm]=new Set);var r=t+"__bubble";n.has(r)||(Rk(e,t,2,!1),n.add(r))}function $f(t,e,n){var r=0;e&&(r|=4),Rk(n,t,r,e)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function wl(t){if(!t[Gu]){t[Gu]=!0,Mx.forEach(function(n){n!=="selectionchange"&&(SN.has(n)||$f(n,!1,t),$f(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gu]||(e[Gu]=!0,$f("selectionchange",!1,e))}}function Rk(t,e,n,r){switch(fk(e)){case 1:var s=z2;break;case 4:s=F2;break;default:s=ny}n=s.bind(null,e,n,t),s=void 0,!em||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Uf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ks(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Zx(function(){var u=i,h=Jg(n),d=[];e:{var f=Ak.get(t);if(f!==void 0){var m=sy,y=t;switch(t){case"keypress":if(Sc(n)===0)break e;case"keydown":case"keyup":m=tN;break;case"focusin":y="focus",m=Lf;break;case"focusout":y="blur",m=Lf;break;case"beforeblur":case"afterblur":m=Lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=B2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sN;break;case kk:case Sk:case Ik:m=H2;break;case bk:m=oN;break;case"scroll":m=$2;break;case"wheel":m=lN;break;case"copy":case"cut":case"paste":m=G2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qw}var x=(e&4)!==0,S=!x&&t==="scroll",w=x?f!==null?f+"Capture":null:f;x=[];for(var _=u,E;_!==null;){E=_;var R=E.stateNode;if(E.tag===5&&R!==null&&(E=R,w!==null&&(R=fl(_,w),R!=null&&x.push(_l(_,R,E)))),S)break;_=_.return}0<x.length&&(f=new m(f,y,null,n,h),d.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Jp&&(y=n.relatedTarget||n.fromElement)&&(Ks(y)||y[Er]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ks(y):null,y!==null&&(S=yi(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=Kw,R="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=Qw,R="onPointerLeave",w="onPointerEnter",_="pointer"),S=m==null?f:Hi(m),E=y==null?f:Hi(y),f=new x(R,_+"leave",m,n,h),f.target=S,f.relatedTarget=E,R=null,Ks(h)===u&&(x=new x(w,_+"enter",y,n,h),x.target=E,x.relatedTarget=S,R=x),S=R,m&&y)t:{for(x=m,w=y,_=0,E=x;E;E=Pi(E))_++;for(E=0,R=w;R;R=Pi(R))E++;for(;0<_-E;)x=Pi(x),_--;for(;0<E-_;)w=Pi(w),E--;for(;_--;){if(x===w||w!==null&&x===w.alternate)break t;x=Pi(x),w=Pi(w)}x=null}else x=null;m!==null&&o_(d,f,m,x,!1),y!==null&&S!==null&&o_(d,S,y,x,!0)}}e:{if(f=u?Hi(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=mN;else if(Jw(f))if(wk)O=wN;else{O=yN;var D=gN}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=vN);if(O&&(O=O(t,u))){vk(d,O,n,h);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Kp(f,"number",f.value)}switch(D=u?Hi(u):window,t){case"focusin":(Jw(D)||D.contentEditable==="true")&&(qi=D,im=u,Wa=null);break;case"focusout":Wa=im=qi=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,r_(d,n,h);break;case"selectionchange":if(TN)break;case"keydown":case"keyup":r_(d,n,h)}var k;if(oy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Bi?gk(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(mk&&n.locale!=="ko"&&(Bi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Bi&&(k=pk()):(Xr=h,ry="value"in Xr?Xr.value:Xr.textContent,Bi=!0)),D=sh(u,T),0<D.length&&(T=new Gw(T,t,null,n,h),d.push({event:T,listeners:D}),k?T.data=k:(k=yk(n),k!==null&&(T.data=k)))),(k=cN?hN(t,n):dN(t,n))&&(u=sh(u,"onBeforeInput"),0<u.length&&(h=new Gw("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=k))}Pk(d,e)})}function _l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fl(t,n),i!=null&&r.unshift(_l(t,i,s)),i=fl(t,e),i!=null&&r.push(_l(t,i,s))),t=t.return}return r}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function o_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=fl(n,i),l!=null&&o.unshift(_l(n,l,a))):s||(l=fl(n,i),l!=null&&o.push(_l(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IN=/\r\n?/g,bN=/\u0000|\uFFFD/g;function a_(t){return(typeof t=="string"?t:""+t).replace(IN,`
`).replace(bN,"")}function Qu(t,e,n){if(e=a_(e),a_(t)!==e&&n)throw Error(F(425))}function ih(){}var am=null,lm=null;function um(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cm=typeof setTimeout=="function"?setTimeout:void 0,AN=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,PN=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(t){return l_.resolve(null).then(t).catch(RN)}:cm;function RN(t){setTimeout(function(){throw t})}function Bf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gl(e)}function rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function u_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Fn="__reactFiber$"+$o,El="__reactProps$"+$o,Er="__reactContainer$"+$o,hm="__reactEvents$"+$o,CN="__reactListeners$"+$o,NN="__reactHandles$"+$o;function Ks(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Er]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=u_(t);t!==null;){if(n=t[Fn])return n;t=u_(t)}return e}t=n,n=t.parentNode}return null}function Xl(t){return t=t[Fn]||t[Er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function od(t){return t[El]||null}var dm=[],Ki=-1;function bs(t){return{current:t}}function Ie(t){0>Ki||(t.current=dm[Ki],dm[Ki]=null,Ki--)}function _e(t,e){Ki++,dm[Ki]=t.current,t.current=e}var gs={},Tt=bs(gs),Ft=bs(!1),si=gs;function To(t,e){var n=t.type.contextTypes;if(!n)return gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $t(t){return t=t.childContextTypes,t!=null}function oh(){Ie(Ft),Ie(Tt)}function c_(t,e,n){if(Tt.current!==gs)throw Error(F(168));_e(Tt,e),_e(Ft,n)}function Ck(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(F(108,g2(t)||"Unknown",s));return Oe({},n,r)}function ah(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gs,si=Tt.current,_e(Tt,t),_e(Ft,Ft.current),!0}function h_(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Ck(t,e,si),r.__reactInternalMemoizedMergedChildContext=t,Ie(Ft),Ie(Tt),_e(Tt,t)):Ie(Ft),_e(Ft,n)}var hr=null,ad=!1,qf=!1;function Nk(t){hr===null?hr=[t]:hr.push(t)}function DN(t){ad=!0,Nk(t)}function As(){if(!qf&&hr!==null){qf=!0;var t=0,e=ge;try{var n=hr;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,ad=!1}catch(s){throw hr!==null&&(hr=hr.slice(t+1)),rk(Zg,As),s}finally{ge=e,qf=!1}}return null}var Gi=[],Qi=0,lh=null,uh=0,rn=[],sn=0,ii=null,dr=1,fr="";function $s(t,e){Gi[Qi++]=uh,Gi[Qi++]=lh,lh=t,uh=e}function Dk(t,e,n){rn[sn++]=dr,rn[sn++]=fr,rn[sn++]=ii,ii=t;var r=dr;t=fr;var s=32-An(r)-1;r&=~(1<<s),n+=1;var i=32-An(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,dr=1<<32-An(e)+s|n<<s|r,fr=i+t}else dr=1<<i|n<<s|r,fr=t}function ly(t){t.return!==null&&($s(t,1),Dk(t,1,0))}function uy(t){for(;t===lh;)lh=Gi[--Qi],Gi[Qi]=null,uh=Gi[--Qi],Gi[Qi]=null;for(;t===ii;)ii=rn[--sn],rn[sn]=null,fr=rn[--sn],rn[sn]=null,dr=rn[--sn],rn[sn]=null}var Gt=null,Ht=null,Ae=!1,kn=null;function Ok(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,Ht=rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ii!==null?{id:dr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,Ht=null,!0):!1;default:return!1}}function fm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pm(t){if(Ae){var e=Ht;if(e){var n=e;if(!d_(t,e)){if(fm(t))throw Error(F(418));e=rs(n.nextSibling);var r=Gt;e&&d_(t,e)?Ok(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Gt=t)}}else{if(fm(t))throw Error(F(418));t.flags=t.flags&-4097|2,Ae=!1,Gt=t}}}function f_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function Yu(t){if(t!==Gt)return!1;if(!Ae)return f_(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!um(t.type,t.memoizedProps)),e&&(e=Ht)){if(fm(t))throw Lk(),Error(F(418));for(;e;)Ok(t,e),e=rs(e.nextSibling)}if(f_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Gt?rs(t.stateNode.nextSibling):null;return!0}function Lk(){for(var t=Ht;t;)t=rs(t.nextSibling)}function xo(){Ht=Gt=null,Ae=!1}function cy(t){kn===null?kn=[t]:kn.push(t)}var ON=Cr.ReactCurrentBatchConfig;function Ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Xu(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function p_(t){var e=t._init;return e(t._payload)}function jk(t){function e(w,_){if(t){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=as(w,_),w.index=0,w.sibling=null,w}function i(w,_,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,E,R){return _===null||_.tag!==6?(_=Xf(E,w.mode,R),_.return=w,_):(_=s(_,E),_.return=w,_)}function l(w,_,E,R){var O=E.type;return O===Ui?h(w,_,E.props.children,R,E.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ur&&p_(O)===_.type)?(R=s(_,E.props),R.ref=Ea(w,_,E),R.return=w,R):(R=Nc(E.type,E.key,E.props,null,w.mode,R),R.ref=Ea(w,_,E),R.return=w,R)}function u(w,_,E,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Jf(E,w.mode,R),_.return=w,_):(_=s(_,E.children||[]),_.return=w,_)}function h(w,_,E,R,O){return _===null||_.tag!==7?(_=ti(E,w.mode,R,O),_.return=w,_):(_=s(_,E),_.return=w,_)}function d(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Xf(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fu:return E=Nc(_.type,_.key,_.props,null,w.mode,E),E.ref=Ea(w,null,_),E.return=w,E;case $i:return _=Jf(_,w.mode,E),_.return=w,_;case Ur:var R=_._init;return d(w,R(_._payload),E)}if(Ca(_)||ga(_))return _=ti(_,w.mode,E,null),_.return=w,_;Xu(w,_)}return null}function f(w,_,E,R){var O=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(w,_,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fu:return E.key===O?l(w,_,E,R):null;case $i:return E.key===O?u(w,_,E,R):null;case Ur:return O=E._init,f(w,_,O(E._payload),R)}if(Ca(E)||ga(E))return O!==null?null:h(w,_,E,R,null);Xu(w,E)}return null}function m(w,_,E,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(E)||null,a(_,w,""+R,O);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Fu:return w=w.get(R.key===null?E:R.key)||null,l(_,w,R,O);case $i:return w=w.get(R.key===null?E:R.key)||null,u(_,w,R,O);case Ur:var D=R._init;return m(w,_,E,D(R._payload),O)}if(Ca(R)||ga(R))return w=w.get(E)||null,h(_,w,R,O,null);Xu(_,R)}return null}function y(w,_,E,R){for(var O=null,D=null,k=_,T=_=0,b=null;k!==null&&T<E.length;T++){k.index>T?(b=k,k=null):b=k.sibling;var A=f(w,k,E[T],R);if(A===null){k===null&&(k=b);break}t&&k&&A.alternate===null&&e(w,k),_=i(A,_,T),D===null?O=A:D.sibling=A,D=A,k=b}if(T===E.length)return n(w,k),Ae&&$s(w,T),O;if(k===null){for(;T<E.length;T++)k=d(w,E[T],R),k!==null&&(_=i(k,_,T),D===null?O=k:D.sibling=k,D=k);return Ae&&$s(w,T),O}for(k=r(w,k);T<E.length;T++)b=m(k,w,T,E[T],R),b!==null&&(t&&b.alternate!==null&&k.delete(b.key===null?T:b.key),_=i(b,_,T),D===null?O=b:D.sibling=b,D=b);return t&&k.forEach(function(N){return e(w,N)}),Ae&&$s(w,T),O}function x(w,_,E,R){var O=ga(E);if(typeof O!="function")throw Error(F(150));if(E=O.call(E),E==null)throw Error(F(151));for(var D=O=null,k=_,T=_=0,b=null,A=E.next();k!==null&&!A.done;T++,A=E.next()){k.index>T?(b=k,k=null):b=k.sibling;var N=f(w,k,A.value,R);if(N===null){k===null&&(k=b);break}t&&k&&N.alternate===null&&e(w,k),_=i(N,_,T),D===null?O=N:D.sibling=N,D=N,k=b}if(A.done)return n(w,k),Ae&&$s(w,T),O;if(k===null){for(;!A.done;T++,A=E.next())A=d(w,A.value,R),A!==null&&(_=i(A,_,T),D===null?O=A:D.sibling=A,D=A);return Ae&&$s(w,T),O}for(k=r(w,k);!A.done;T++,A=E.next())A=m(k,w,T,A.value,R),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?T:A.key),_=i(A,_,T),D===null?O=A:D.sibling=A,D=A);return t&&k.forEach(function(L){return e(w,L)}),Ae&&$s(w,T),O}function S(w,_,E,R){if(typeof E=="object"&&E!==null&&E.type===Ui&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Fu:e:{for(var O=E.key,D=_;D!==null;){if(D.key===O){if(O=E.type,O===Ui){if(D.tag===7){n(w,D.sibling),_=s(D,E.props.children),_.return=w,w=_;break e}}else if(D.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ur&&p_(O)===D.type){n(w,D.sibling),_=s(D,E.props),_.ref=Ea(w,D,E),_.return=w,w=_;break e}n(w,D);break}else e(w,D);D=D.sibling}E.type===Ui?(_=ti(E.props.children,w.mode,R,E.key),_.return=w,w=_):(R=Nc(E.type,E.key,E.props,null,w.mode,R),R.ref=Ea(w,_,E),R.return=w,w=R)}return o(w);case $i:e:{for(D=E.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(w,_.sibling),_=s(_,E.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=Jf(E,w.mode,R),_.return=w,w=_}return o(w);case Ur:return D=E._init,S(w,_,D(E._payload),R)}if(Ca(E))return y(w,_,E,R);if(ga(E))return x(w,_,E,R);Xu(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(w,_.sibling),_=s(_,E),_.return=w,w=_):(n(w,_),_=Xf(E,w.mode,R),_.return=w,w=_),o(w)):n(w,_)}return S}var ko=jk(!0),Mk=jk(!1),ch=bs(null),hh=null,Yi=null,hy=null;function dy(){hy=Yi=hh=null}function fy(t){var e=ch.current;Ie(ch),t._currentValue=e}function mm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){hh=t,hy=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(hy!==t)if(t={context:t,memoizedValue:e,next:null},Yi===null){if(hh===null)throw Error(F(308));Yi=t,hh.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return e}var Gs=null;function py(t){Gs===null?Gs=[t]:Gs.push(t)}function Vk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,py(e)):(n.next=s.next,s.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Br=!1;function my(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ss(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Tr(t,n)}return s=r.interleaved,s===null?(e.next=e,py(r)):(e.next=s.next,s.next=e),r.interleaved=e,Tr(t,n)}function Ic(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ey(t,n)}}function m_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dh(t,e,n,r){var s=t.updateQueue;Br=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,h=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(f=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){d=y.call(m,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(m,d,f):y,f==null)break e;d=Oe({},d,f);break e;case 2:Br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ai|=o,t.lanes=o,t.memoizedState=d}}function g_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var Jl={},Un=bs(Jl),Tl=bs(Jl),xl=bs(Jl);function Qs(t){if(t===Jl)throw Error(F(174));return t}function gy(t,e){switch(_e(xl,e),_e(Tl,t),_e(Un,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qp(e,t)}Ie(Un),_e(Un,e)}function So(){Ie(Un),Ie(Tl),Ie(xl)}function Fk(t){Qs(xl.current);var e=Qs(Un.current),n=Qp(e,t.type);e!==n&&(_e(Tl,t),_e(Un,n))}function yy(t){Tl.current===t&&(Ie(Un),Ie(Tl))}var Re=bs(0);function fh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wf=[];function vy(){for(var t=0;t<Wf.length;t++)Wf[t]._workInProgressVersionPrimary=null;Wf.length=0}var bc=Cr.ReactCurrentDispatcher,Hf=Cr.ReactCurrentBatchConfig,oi=0,Ne=null,Ke=null,et=null,ph=!1,Ha=!1,kl=0,LN=0;function pt(){throw Error(F(321))}function wy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function _y(t,e,n,r,s,i){if(oi=i,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bc.current=t===null||t.memoizedState===null?zN:FN,t=n(r,s),Ha){i=0;do{if(Ha=!1,kl=0,25<=i)throw Error(F(301));i+=1,et=Ke=null,e.updateQueue=null,bc.current=$N,t=n(r,s)}while(Ha)}if(bc.current=mh,e=Ke!==null&&Ke.next!==null,oi=0,et=Ke=Ne=null,ph=!1,e)throw Error(F(300));return t}function Ey(){var t=kl!==0;return kl=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ne.memoizedState=et=t:et=et.next=t,et}function fn(){if(Ke===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=et===null?Ne.memoizedState:et.next;if(e!==null)et=e,Ke=t;else{if(t===null)throw Error(F(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},et===null?Ne.memoizedState=et=t:et=et.next=t}return et}function Sl(t,e){return typeof e=="function"?e(t):e}function Kf(t){var e=fn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((oi&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ne.lanes|=h,ai|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Cn(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ne.lanes|=i,ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gf(t){var e=fn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Cn(i,e.memoizedState)||(Vt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function $k(){}function Uk(t,e){var n=Ne,r=fn(),s=e(),i=!Cn(r.memoizedState,s);if(i&&(r.memoizedState=s,Vt=!0),r=r.queue,Ty(Wk.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Il(9,qk.bind(null,n,r,s,e),void 0,null),nt===null)throw Error(F(349));oi&30||Bk(n,e,s)}return s}function Bk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qk(t,e,n,r){e.value=n,e.getSnapshot=r,Hk(e)&&Kk(t)}function Wk(t,e,n){return n(function(){Hk(e)&&Kk(t)})}function Hk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function Kk(t){var e=Tr(t,1);e!==null&&Pn(e,t,1,-1)}function y_(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=VN.bind(null,Ne,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gk(){return fn().memoizedState}function Ac(t,e,n,r){var s=Mn();Ne.flags|=t,s.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function ld(t,e,n,r){var s=fn();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,r!==null&&wy(r,o.deps)){s.memoizedState=Il(e,n,i,r);return}}Ne.flags|=t,s.memoizedState=Il(1|e,n,i,r)}function v_(t,e){return Ac(8390656,8,t,e)}function Ty(t,e){return ld(2048,8,t,e)}function Qk(t,e){return ld(4,2,t,e)}function Yk(t,e){return ld(4,4,t,e)}function Xk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Jk(t,e,n){return n=n!=null?n.concat([t]):null,ld(4,4,Xk.bind(null,e,t),n)}function xy(){}function Zk(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eS(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tS(t,e,n){return oi&21?(Cn(n,e)||(n=ok(),Ne.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function jN(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Hf.transition;Hf.transition={};try{t(!1),e()}finally{ge=n,Hf.transition=r}}function nS(){return fn().memoizedState}function MN(t,e,n){var r=os(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rS(t))sS(e,n);else if(n=Vk(t,e,n,r),n!==null){var s=Pt();Pn(n,t,r,s),iS(n,e,r)}}function VN(t,e,n){var r=os(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rS(t))sS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Cn(a,o)){var l=e.interleaved;l===null?(s.next=s,py(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Vk(t,e,s,r),n!==null&&(s=Pt(),Pn(n,t,r,s),iS(n,e,r))}}function rS(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function sS(t,e){Ha=ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ey(t,n)}}var mh={readContext:dn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},zN={readContext:dn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:v_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ac(4194308,4,Xk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ac(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ac(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MN.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:y_,useDebugValue:xy,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=y_(!1),e=t[0];return t=jN.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,s=Mn();if(Ae){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),nt===null)throw Error(F(349));oi&30||Bk(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,v_(Wk.bind(null,r,i,t),[t]),r.flags|=2048,Il(9,qk.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mn(),e=nt.identifierPrefix;if(Ae){var n=fr,r=dr;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FN={readContext:dn,useCallback:Zk,useContext:dn,useEffect:Ty,useImperativeHandle:Jk,useInsertionEffect:Qk,useLayoutEffect:Yk,useMemo:eS,useReducer:Kf,useRef:Gk,useState:function(){return Kf(Sl)},useDebugValue:xy,useDeferredValue:function(t){var e=fn();return tS(e,Ke.memoizedState,t)},useTransition:function(){var t=Kf(Sl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:$k,useSyncExternalStore:Uk,useId:nS,unstable_isNewReconciler:!1},$N={readContext:dn,useCallback:Zk,useContext:dn,useEffect:Ty,useImperativeHandle:Jk,useInsertionEffect:Qk,useLayoutEffect:Yk,useMemo:eS,useReducer:Gf,useRef:Gk,useState:function(){return Gf(Sl)},useDebugValue:xy,useDeferredValue:function(t){var e=fn();return Ke===null?e.memoizedState=t:tS(e,Ke.memoizedState,t)},useTransition:function(){var t=Gf(Sl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:$k,useSyncExternalStore:Uk,useId:nS,unstable_isNewReconciler:!1};function En(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ud={isMounted:function(t){return(t=t._reactInternals)?yi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),s=os(t),i=vr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ss(t,i,s),e!==null&&(Pn(e,t,s,r),Ic(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),s=os(t),i=vr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ss(t,i,s),e!==null&&(Pn(e,t,s,r),Ic(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=os(t),s=vr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ss(t,s,r),e!==null&&(Pn(e,t,r,n),Ic(e,t,r))}};function w_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(s,i):!0}function oS(t,e,n){var r=!1,s=gs,i=e.contextType;return typeof i=="object"&&i!==null?i=dn(i):(s=$t(e)?si:Tt.current,r=e.contextTypes,i=(r=r!=null)?To(t,s):gs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ud,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function __(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ud.enqueueReplaceState(e,e.state,null)}function ym(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},my(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=dn(i):(i=$t(e)?si:Tt.current,s.context=To(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ud.enqueueReplaceState(s,s.state,null),dh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=m2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Qf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UN=typeof WeakMap=="function"?WeakMap:Map;function aS(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yh||(yh=!0,Am=r),vm(t,e)},n}function lS(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){vm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vm(t,e),typeof r!="function"&&(is===null?is=new Set([this]):is.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function E_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=nD.bind(null,t,e,n),e.then(t,t))}function T_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function x_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,ss(n,e,1))),n.lanes|=1),t)}var BN=Cr.ReactCurrentOwner,Vt=!1;function It(t,e,n,r){e.child=t===null?Mk(e,null,n,r):ko(e,t.child,n,r)}function k_(t,e,n,r,s){n=n.render;var i=e.ref;return uo(e,s),r=_y(t,e,n,r,i,s),n=Ey(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xr(t,e,s)):(Ae&&n&&ly(e),e.flags|=1,It(t,e,r,s),e.child)}function S_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Cy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,uS(t,e,i,r,s)):(t=Nc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(o,r)&&t.ref===e.ref)return xr(t,e,s)}return e.flags|=1,t=as(i,r),t.ref=e.ref,t.return=e,e.child=t}function uS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(vl(i,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,xr(t,e,s)}return wm(t,e,n,r,s)}function cS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Ji,Wt),Wt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Ji,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_e(Ji,Wt),Wt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,_e(Ji,Wt),Wt|=r;return It(t,e,s,n),e.child}function hS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wm(t,e,n,r,s){var i=$t(n)?si:Tt.current;return i=To(e,i),uo(e,s),n=_y(t,e,n,r,i,s),r=Ey(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xr(t,e,s)):(Ae&&r&&ly(e),e.flags|=1,It(t,e,n,s),e.child)}function I_(t,e,n,r,s){if($t(n)){var i=!0;ah(e)}else i=!1;if(uo(e,s),e.stateNode===null)Pc(t,e),oS(e,n,r),ym(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=$t(n)?si:Tt.current,u=To(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&__(e,o,r,u),Br=!1;var f=e.memoizedState;o.state=f,dh(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Ft.current||Br?(typeof h=="function"&&(gm(e,n,h,r),l=e.memoizedState),(a=Br||w_(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:En(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=$t(n)?si:Tt.current,l=To(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&__(e,o,r,l),Br=!1,f=e.memoizedState,o.state=f,dh(e,r,o,s);var y=e.memoizedState;a!==d||f!==y||Ft.current||Br?(typeof m=="function"&&(gm(e,n,m,r),y=e.memoizedState),(u=Br||w_(e,n,u,r,f,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return _m(t,e,n,r,i,s)}function _m(t,e,n,r,s,i){hS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&h_(e,n,!1),xr(t,e,i);r=e.stateNode,BN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ko(e,t.child,null,i),e.child=ko(e,null,a,i)):It(t,e,a,i),e.memoizedState=r.state,s&&h_(e,n,!0),e.child}function dS(t){var e=t.stateNode;e.pendingContext?c_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&c_(t,e.context,!1),gy(t,e.containerInfo)}function b_(t,e,n,r,s){return xo(),cy(s),e.flags|=256,It(t,e,n,r),e.child}var Em={dehydrated:null,treeContext:null,retryLane:0};function Tm(t){return{baseLanes:t,cachePool:null,transitions:null}}function fS(t,e,n){var r=e.pendingProps,s=Re.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_e(Re,s&1),t===null)return pm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=dd(o,r,0,null),t=ti(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tm(n),e.memoizedState=Em,t):ky(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qN(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=as(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=as(a,i):(i=ti(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Tm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Em,r}return i=t.child,t=i.sibling,r=as(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ky(t,e){return e=dd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ju(t,e,n,r){return r!==null&&cy(r),ko(e,t.child,null,n),t=ky(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qN(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Qf(Error(F(422))),Ju(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=dd({mode:"visible",children:r.children},s,0,null),i=ti(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ko(e,t.child,null,o),e.child.memoizedState=Tm(o),e.memoizedState=Em,i);if(!(e.mode&1))return Ju(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(F(419)),r=Qf(i,r,void 0),Ju(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vt||a){if(r=nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tr(t,s),Pn(r,t,s,-1))}return Ry(),r=Qf(Error(F(421))),Ju(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=rD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ht=rs(s.nextSibling),Gt=e,Ae=!0,kn=null,t!==null&&(rn[sn++]=dr,rn[sn++]=fr,rn[sn++]=ii,dr=t.id,fr=t.overflow,ii=e),e=ky(e,r.children),e.flags|=4096,e)}function A_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mm(t.return,e,n)}function Yf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function pS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(It(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,n,e);else if(t.tag===19)A_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Re,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&fh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Yf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&fh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Yf(e,!0,n,null,i);break;case"together":Yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=as(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=as(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WN(t,e,n){switch(e.tag){case 3:dS(e),xo();break;case 5:Fk(e);break;case 1:$t(e.type)&&ah(e);break;case 4:gy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;_e(ch,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?fS(t,e,n):(_e(Re,Re.current&1),t=xr(t,e,n),t!==null?t.sibling:null);_e(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,cS(t,e,n)}return xr(t,e,n)}var mS,xm,gS,yS;mS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xm=function(){};gS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qs(Un.current);var i=null;switch(n){case"input":s=Wp(t,s),r=Wp(t,r),i=[];break;case"select":s=Oe({},s,{value:void 0}),r=Oe({},r,{value:void 0}),i=[];break;case"textarea":s=Gp(t,s),r=Gp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ih)}Yp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};yS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ta(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HN(t,e,n){var r=e.pendingProps;switch(uy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return $t(e.type)&&oh(),mt(e),null;case 3:return r=e.stateNode,So(),Ie(Ft),Ie(Tt),vy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(Cm(kn),kn=null))),xm(t,e),mt(e),null;case 5:yy(e);var s=Qs(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)gS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return mt(e),null}if(t=Qs(Un.current),Yu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Fn]=e,r[El]=i,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<Da.length;s++)xe(Da[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":Mw(r,i),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xe("invalid",r);break;case"textarea":zw(r,i),xe("invalid",r)}Yp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qu(r.textContent,a,t),s=["children",""+a]):hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":$u(r),Vw(r,i,!0);break;case"textarea":$u(r),Fw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ih)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[El]=r,mS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xp(n,r),n){case"dialog":xe("cancel",t),xe("close",t),s=r;break;case"iframe":case"object":case"embed":xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Da.length;s++)xe(Da[s],t);s=r;break;case"source":xe("error",t),s=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),s=r;break;case"details":xe("toggle",t),s=r;break;case"input":Mw(t,r),s=Wp(t,r),xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Oe({},r,{value:void 0}),xe("invalid",t);break;case"textarea":zw(t,r),s=Gp(t,r),xe("invalid",t);break;default:s=r}Yp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Gx(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hx(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dl(t,l):typeof l=="number"&&dl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xe("scroll",t):l!=null&&Gg(t,i,l,o))}switch(n){case"input":$u(t),Vw(t,r,!1);break;case"textarea":$u(t),Fw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ms(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?io(t,!!r.multiple,i,!1):r.defaultValue!=null&&io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ih)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)yS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Qs(xl.current),Qs(Un.current),Yu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(i=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:Qu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return mt(e),null;case 13:if(Ie(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Ht!==null&&e.mode&1&&!(e.flags&128))Lk(),xo(),e.flags|=98560,i=!1;else if(i=Yu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Fn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),i=!1}else kn!==null&&(Cm(kn),kn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?Qe===0&&(Qe=3):Ry())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return So(),xm(t,e),t===null&&wl(e.stateNode.containerInfo),mt(e),null;case 10:return fy(e.type._context),mt(e),null;case 17:return $t(e.type)&&oh(),mt(e),null;case 19:if(Ie(Re),i=e.memoizedState,i===null)return mt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ta(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fh(t),o!==null){for(e.flags|=128,Ta(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Re,Re.current&1|2),e.child}t=t.sibling}i.tail!==null&&$e()>bo&&(e.flags|=128,r=!0,Ta(i,!1),e.lanes=4194304)}else{if(!r)if(t=fh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ta(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ae)return mt(e),null}else 2*$e()-i.renderingStartTime>bo&&n!==1073741824&&(e.flags|=128,r=!0,Ta(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$e(),e.sibling=null,n=Re.current,_e(Re,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return Py(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function KN(t,e){switch(uy(e),e.tag){case 1:return $t(e.type)&&oh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),Ie(Ft),Ie(Tt),vy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yy(e),null;case 13:if(Ie(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Re),null;case 4:return So(),null;case 10:return fy(e.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var Zu=!1,wt=!1,GN=typeof WeakSet=="function"?WeakSet:Set,W=null;function Xi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function km(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var P_=!1;function QN(t,e){if(am=nh,t=Tk(),ay(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++h===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lm={focusedElem:t,selectionRange:n},nh=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:En(e.type,x),S);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(R){Ve(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return y=P_,P_=!1,y}function Ka(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&km(e,n,i)}s=s.next}while(s!==r)}}function cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vS(t){var e=t.alternate;e!==null&&(t.alternate=null,vS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[El],delete e[hm],delete e[CN],delete e[NN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wS(t){return t.tag===5||t.tag===3||t.tag===4}function R_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ih));else if(r!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}function bm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bm(t,e,n),t=t.sibling;t!==null;)bm(t,e,n),t=t.sibling}var st=null,Tn=!1;function jr(t,e,n){for(n=n.child;n!==null;)_S(t,e,n),n=n.sibling}function _S(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(nd,n)}catch{}switch(n.tag){case 5:wt||Xi(n,e);case 6:var r=st,s=Tn;st=null,jr(t,e,n),st=r,Tn=s,st!==null&&(Tn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(Tn?(t=st,n=n.stateNode,t.nodeType===8?Bf(t.parentNode,n):t.nodeType===1&&Bf(t,n),gl(t)):Bf(st,n.stateNode));break;case 4:r=st,s=Tn,st=n.stateNode.containerInfo,Tn=!0,jr(t,e,n),st=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&km(n,e,o),s=s.next}while(s!==r)}jr(t,e,n);break;case 1:if(!wt&&(Xi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}jr(t,e,n);break;case 21:jr(t,e,n);break;case 22:n.mode&1?(wt=(r=wt)||n.memoizedState!==null,jr(t,e,n),wt=r):jr(t,e,n);break;default:jr(t,e,n)}}function C_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GN),e.forEach(function(r){var s=sD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,Tn=!1;break e;case 3:st=a.stateNode.containerInfo,Tn=!0;break e;case 4:st=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(st===null)throw Error(F(160));_S(i,o,s),st=null,Tn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ve(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ES(e,t),e=e.sibling}function ES(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Ln(t),r&4){try{Ka(3,t,t.return),cd(3,t)}catch(x){Ve(t,t.return,x)}try{Ka(5,t,t.return)}catch(x){Ve(t,t.return,x)}}break;case 1:yn(e,t),Ln(t),r&512&&n!==null&&Xi(n,n.return);break;case 5:if(yn(e,t),Ln(t),r&512&&n!==null&&Xi(n,n.return),t.flags&32){var s=t.stateNode;try{dl(s,"")}catch(x){Ve(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Bx(s,i),Xp(a,o);var u=Xp(a,i);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Gx(s,d):h==="dangerouslySetInnerHTML"?Hx(s,d):h==="children"?dl(s,d):Gg(s,h,d,u)}switch(a){case"input":Hp(s,i);break;case"textarea":qx(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?io(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?io(s,!!i.multiple,i.defaultValue,!0):io(s,!!i.multiple,i.multiple?[]:"",!1))}s[El]=i}catch(x){Ve(t,t.return,x)}}break;case 6:if(yn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(F(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Ve(t,t.return,x)}}break;case 3:if(yn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gl(e.containerInfo)}catch(x){Ve(t,t.return,x)}break;case 4:yn(e,t),Ln(t);break;case 13:yn(e,t),Ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(by=$e())),r&4&&C_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(wt=(u=wt)||h,yn(e,t),wt=u):yn(e,t),Ln(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(d=W=h;W!==null;){switch(f=W,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ka(4,f,f.return);break;case 1:Xi(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Ve(r,n,x)}}break;case 5:Xi(f,f.return);break;case 22:if(f.memoizedState!==null){D_(d);continue}}m!==null?(m.return=f,W=m):D_(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Kx("display",o))}catch(x){Ve(t,t.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Ve(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yn(e,t),Ln(t),r&4&&C_(t);break;case 21:break;default:yn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wS(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(dl(s,""),r.flags&=-33);var i=R_(t);bm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=R_(t);Im(t,a,o);break;default:throw Error(F(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YN(t,e,n){W=t,TS(t)}function TS(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||wt;a=Zu;var u=wt;if(Zu=o,(wt=l)&&!u)for(W=s;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?O_(s):l!==null?(l.return=o,W=l):O_(s);for(;i!==null;)W=i,TS(i),i=i.sibling;W=s,Zu=a,wt=u}N_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):N_(t)}}function N_(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wt||cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:En(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&g_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}g_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&gl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}wt||e.flags&512&&Sm(e)}catch(f){Ve(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function D_(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function O_(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cd(4,e)}catch(l){Ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ve(e,s,l)}}var i=e.return;try{Sm(e)}catch(l){Ve(e,i,l)}break;case 5:var o=e.return;try{Sm(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var XN=Math.ceil,gh=Cr.ReactCurrentDispatcher,Sy=Cr.ReactCurrentOwner,ln=Cr.ReactCurrentBatchConfig,ce=0,nt=null,qe=null,lt=0,Wt=0,Ji=bs(0),Qe=0,bl=null,ai=0,hd=0,Iy=0,Ga=null,Lt=null,by=0,bo=1/0,lr=null,yh=!1,Am=null,is=null,ec=!1,Jr=null,vh=0,Qa=0,Pm=null,Rc=-1,Cc=0;function Pt(){return ce&6?$e():Rc!==-1?Rc:Rc=$e()}function os(t){return t.mode&1?ce&2&&lt!==0?lt&-lt:ON.transition!==null?(Cc===0&&(Cc=ok()),Cc):(t=ge,t!==0||(t=window.event,t=t===void 0?16:fk(t.type)),t):1}function Pn(t,e,n,r){if(50<Qa)throw Qa=0,Pm=null,Error(F(185));Ql(t,n,r),(!(ce&2)||t!==nt)&&(t===nt&&(!(ce&2)&&(hd|=n),Qe===4&&Wr(t,lt)),Ut(t,r),n===1&&ce===0&&!(e.mode&1)&&(bo=$e()+500,ad&&As()))}function Ut(t,e){var n=t.callbackNode;O2(t,e);var r=th(t,t===nt?lt:0);if(r===0)n!==null&&Bw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bw(n),e===1)t.tag===0?DN(L_.bind(null,t)):Nk(L_.bind(null,t)),PN(function(){!(ce&6)&&As()}),n=null;else{switch(ak(r)){case 1:n=Zg;break;case 4:n=sk;break;case 16:n=eh;break;case 536870912:n=ik;break;default:n=eh}n=RS(n,xS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xS(t,e){if(Rc=-1,Cc=0,ce&6)throw Error(F(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=th(t,t===nt?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wh(t,r);else{e=r;var s=ce;ce|=2;var i=SS();(nt!==t||lt!==e)&&(lr=null,bo=$e()+500,ei(t,e));do try{eD();break}catch(a){kS(t,a)}while(!0);dy(),gh.current=i,ce=s,qe!==null?e=0:(nt=null,lt=0,e=Qe)}if(e!==0){if(e===2&&(s=nm(t),s!==0&&(r=s,e=Rm(t,s))),e===1)throw n=bl,ei(t,0),Wr(t,r),Ut(t,$e()),n;if(e===6)Wr(t,r);else{if(s=t.current.alternate,!(r&30)&&!JN(s)&&(e=wh(t,r),e===2&&(i=nm(t),i!==0&&(r=i,e=Rm(t,i))),e===1))throw n=bl,ei(t,0),Wr(t,r),Ut(t,$e()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Us(t,Lt,lr);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=by+500-$e(),10<e)){if(th(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=cm(Us.bind(null,t,Lt,lr),e);break}Us(t,Lt,lr);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-An(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XN(r/1960))-r,10<r){t.timeoutHandle=cm(Us.bind(null,t,Lt,lr),r);break}Us(t,Lt,lr);break;case 5:Us(t,Lt,lr);break;default:throw Error(F(329))}}}return Ut(t,$e()),t.callbackNode===n?xS.bind(null,t):null}function Rm(t,e){var n=Ga;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=wh(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&Cm(e)),t}function Cm(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function JN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Cn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~Iy,e&=~hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function L_(t){if(ce&6)throw Error(F(327));co();var e=th(t,0);if(!(e&1))return Ut(t,$e()),null;var n=wh(t,e);if(t.tag!==0&&n===2){var r=nm(t);r!==0&&(e=r,n=Rm(t,r))}if(n===1)throw n=bl,ei(t,0),Wr(t,e),Ut(t,$e()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Us(t,Lt,lr),Ut(t,$e()),null}function Ay(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(bo=$e()+500,ad&&As())}}function li(t){Jr!==null&&Jr.tag===0&&!(ce&6)&&co();var e=ce;ce|=1;var n=ln.transition,r=ge;try{if(ln.transition=null,ge=1,t)return t()}finally{ge=r,ln.transition=n,ce=e,!(ce&6)&&As()}}function Py(){Wt=Ji.current,Ie(Ji)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AN(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(uy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oh();break;case 3:So(),Ie(Ft),Ie(Tt),vy();break;case 5:yy(r);break;case 4:So();break;case 13:Ie(Re);break;case 19:Ie(Re);break;case 10:fy(r.type._context);break;case 22:case 23:Py()}n=n.return}if(nt=t,qe=t=as(t.current,null),lt=Wt=e,Qe=0,bl=null,Iy=hd=ai=0,Lt=Ga=null,Gs!==null){for(e=0;e<Gs.length;e++)if(n=Gs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gs=null}return t}function kS(t,e){do{var n=qe;try{if(dy(),bc.current=mh,ph){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ph=!1}if(oi=0,et=Ke=Ne=null,Ha=!1,kl=0,Sy.current=null,n===null||n.return===null){Qe=1,bl=e,qe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=T_(o);if(m!==null){m.flags&=-257,x_(m,o,a,i,e),m.mode&1&&E_(i,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){E_(i,u,e),Ry();break e}l=Error(F(426))}}else if(Ae&&a.mode&1){var S=T_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),x_(S,o,a,i,e),cy(Io(l,a));break e}}i=l=Io(l,a),Qe!==4&&(Qe=2),Ga===null?Ga=[i]:Ga.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=aS(i,l,e);m_(i,w);break e;case 1:a=l;var _=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(is===null||!is.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=lS(i,a,e);m_(i,R);break e}}i=i.return}while(i!==null)}bS(n)}catch(O){e=O,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function SS(){var t=gh.current;return gh.current=mh,t===null?mh:t}function Ry(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||!(ai&268435455)&&!(hd&268435455)||Wr(nt,lt)}function wh(t,e){var n=ce;ce|=2;var r=SS();(nt!==t||lt!==e)&&(lr=null,ei(t,e));do try{ZN();break}catch(s){kS(t,s)}while(!0);if(dy(),ce=n,gh.current=r,qe!==null)throw Error(F(261));return nt=null,lt=0,Qe}function ZN(){for(;qe!==null;)IS(qe)}function eD(){for(;qe!==null&&!S2();)IS(qe)}function IS(t){var e=PS(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?bS(t):qe=e,Sy.current=null}function bS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KN(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,qe=null;return}}else if(n=HN(n,e,Wt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Qe===0&&(Qe=5)}function Us(t,e,n){var r=ge,s=ln.transition;try{ln.transition=null,ge=1,tD(t,e,n,r)}finally{ln.transition=s,ge=r}return null}function tD(t,e,n,r){do co();while(Jr!==null);if(ce&6)throw Error(F(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(L2(t,i),t===nt&&(qe=nt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ec||(ec=!0,RS(eh,function(){return co(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var o=ge;ge=1;var a=ce;ce|=4,Sy.current=null,QN(t,n),ES(n,t),EN(lm),nh=!!am,lm=am=null,t.current=n,YN(n),I2(),ce=a,ge=o,ln.transition=i}else t.current=n;if(ec&&(ec=!1,Jr=t,vh=s),i=t.pendingLanes,i===0&&(is=null),P2(n.stateNode),Ut(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yh)throw yh=!1,t=Am,Am=null,t;return vh&1&&t.tag!==0&&co(),i=t.pendingLanes,i&1?t===Pm?Qa++:(Qa=0,Pm=t):Qa=0,As(),null}function co(){if(Jr!==null){var t=ak(vh),e=ln.transition,n=ge;try{if(ln.transition=null,ge=16>t?16:t,Jr===null)var r=!1;else{if(t=Jr,Jr=null,vh=0,ce&6)throw Error(F(331));var s=ce;for(ce|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:Ka(8,h,i)}var d=h.child;if(d!==null)d.return=h,W=d;else for(;W!==null;){h=W;var f=h.sibling,m=h.return;if(vS(h),h===u){W=null;break}if(f!==null){f.return=m,W=f;break}W=m}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ka(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,W=w;break e}W=i.return}}var _=t.current;for(W=_;W!==null;){o=W;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,W=E;else e:for(o=_;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cd(9,a)}}catch(O){Ve(a,a.return,O)}if(a===o){W=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,W=R;break e}W=a.return}}if(ce=s,As(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(nd,t)}catch{}r=!0}return r}finally{ge=n,ln.transition=e}}return!1}function j_(t,e,n){e=Io(n,e),e=aS(t,e,1),t=ss(t,e,1),e=Pt(),t!==null&&(Ql(t,1,e),Ut(t,e))}function Ve(t,e,n){if(t.tag===3)j_(t,t,n);else for(;e!==null;){if(e.tag===3){j_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){t=Io(n,t),t=lS(e,t,1),e=ss(e,t,1),t=Pt(),e!==null&&(Ql(e,1,t),Ut(e,t));break}}e=e.return}}function nD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(lt&n)===n&&(Qe===4||Qe===3&&(lt&130023424)===lt&&500>$e()-by?ei(t,0):Iy|=n),Ut(t,e)}function AS(t,e){e===0&&(t.mode&1?(e=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):e=1);var n=Pt();t=Tr(t,e),t!==null&&(Ql(t,e,n),Ut(t,n))}function rD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AS(t,n)}function sD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),AS(t,n)}var PS;PS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,WN(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Ae&&e.flags&1048576&&Dk(e,uh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pc(t,e),t=e.pendingProps;var s=To(e,Tt.current);uo(e,n),s=_y(null,e,r,t,s,n);var i=Ey();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(i=!0,ah(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,my(e),s.updater=ud,e.stateNode=s,s._reactInternals=e,ym(e,r,t,n),e=_m(null,e,r,!0,i,n)):(e.tag=0,Ae&&i&&ly(e),It(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=oD(r),t=En(r,t),s){case 0:e=wm(null,e,r,t,n);break e;case 1:e=I_(null,e,r,t,n);break e;case 11:e=k_(null,e,r,t,n);break e;case 14:e=S_(null,e,r,En(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),wm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),I_(t,e,r,s,n);case 3:e:{if(dS(e),t===null)throw Error(F(387));r=e.pendingProps,i=e.memoizedState,s=i.element,zk(t,e),dh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Io(Error(F(423)),e),e=b_(t,e,r,n,s);break e}else if(r!==s){s=Io(Error(F(424)),e),e=b_(t,e,r,n,s);break e}else for(Ht=rs(e.stateNode.containerInfo.firstChild),Gt=e,Ae=!0,kn=null,n=Mk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===s){e=xr(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return Fk(e),t===null&&pm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,um(r,s)?o=null:i!==null&&um(r,i)&&(e.flags|=32),hS(t,e),It(t,e,o,n),e.child;case 6:return t===null&&pm(e),null;case 13:return fS(t,e,n);case 4:return gy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ko(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),k_(t,e,r,s,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,_e(ch,r._currentValue),r._currentValue=o,i!==null)if(Cn(i.value,o)){if(i.children===s.children&&!Ft.current){e=xr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=vr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),mm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}It(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,uo(e,n),s=dn(s),r=r(s),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,s=En(r,e.pendingProps),s=En(r.type,s),S_(t,e,r,s,n);case 15:return uS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),Pc(t,e),e.tag=1,$t(r)?(t=!0,ah(e)):t=!1,uo(e,n),oS(e,r,s),ym(e,r,s,n),_m(null,e,r,!0,t,n);case 19:return pS(t,e,n);case 22:return cS(t,e,n)}throw Error(F(156,e.tag))};function RS(t,e){return rk(t,e)}function iD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new iD(t,e,n,r)}function Cy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oD(t){if(typeof t=="function")return Cy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yg)return 11;if(t===Xg)return 14}return 2}function as(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Cy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ui:return ti(n.children,s,i,e);case Qg:o=8,s|=8;break;case $p:return t=an(12,n,e,s|2),t.elementType=$p,t.lanes=i,t;case Up:return t=an(13,n,e,s),t.elementType=Up,t.lanes=i,t;case Bp:return t=an(19,n,e,s),t.elementType=Bp,t.lanes=i,t;case Fx:return dd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vx:o=10;break e;case zx:o=9;break e;case Yg:o=11;break e;case Xg:o=14;break e;case Ur:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=an(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ti(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function dd(t,e,n,r){return t=an(22,t,r,e),t.elementType=Fx,t.lanes=n,t.stateNode={isHidden:!1},t}function Xf(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function Jf(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ny(t,e,n,r,s,i,o,a,l){return t=new aD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=an(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},my(i),t}function lD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CS(t){if(!t)return gs;t=t._reactInternals;e:{if(yi(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if($t(n))return Ck(t,n,e)}return e}function NS(t,e,n,r,s,i,o,a,l){return t=Ny(n,r,!0,t,s,i,o,a,l),t.context=CS(null),n=t.current,r=Pt(),s=os(n),i=vr(r,s),i.callback=e??null,ss(n,i,s),t.current.lanes=s,Ql(t,s,r),Ut(t,r),t}function fd(t,e,n,r){var s=e.current,i=Pt(),o=os(s);return n=CS(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ss(s,e,o),t!==null&&(Pn(t,s,o,i),Ic(t,s,o)),o}function _h(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dy(t,e){M_(t,e),(t=t.alternate)&&M_(t,e)}function uD(){return null}var DS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oy(t){this._internalRoot=t}pd.prototype.render=Oy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));fd(t,e,null,null)};pd.prototype.unmount=Oy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){fd(null,t,null,null)}),e[Er]=null}};function pd(t){this._internalRoot=t}pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=ck();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qr.length&&e!==0&&e<qr[n].priority;n++);qr.splice(n,0,t),n===0&&dk(t)}};function Ly(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function md(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V_(){}function cD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=_h(o);i.call(u)}}var o=NS(e,r,t,0,null,!1,!1,"",V_);return t._reactRootContainer=o,t[Er]=o.current,wl(t.nodeType===8?t.parentNode:t),li(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=_h(l);a.call(u)}}var l=Ny(t,0,!1,null,null,!1,!1,"",V_);return t._reactRootContainer=l,t[Er]=l.current,wl(t.nodeType===8?t.parentNode:t),li(function(){fd(e,l,n,r)}),l}function gd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=_h(o);a.call(l)}}fd(e,o,t,s)}else o=cD(n,e,t,s,r);return _h(o)}lk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Na(e.pendingLanes);n!==0&&(ey(e,n|1),Ut(e,$e()),!(ce&6)&&(bo=$e()+500,As()))}break;case 13:li(function(){var r=Tr(t,1);if(r!==null){var s=Pt();Pn(r,t,1,s)}}),Dy(t,1)}};ty=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=Pt();Pn(e,t,134217728,n)}Dy(t,134217728)}};uk=function(t){if(t.tag===13){var e=os(t),n=Tr(t,e);if(n!==null){var r=Pt();Pn(n,t,e,r)}Dy(t,e)}};ck=function(){return ge};hk=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Zp=function(t,e,n){switch(e){case"input":if(Hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=od(r);if(!s)throw Error(F(90));Ux(r),Hp(r,s)}}}break;case"textarea":qx(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};Xx=Ay;Jx=li;var hD={usingClientEntryPoint:!1,Events:[Xl,Hi,od,Qx,Yx,Ay]},xa={findFiberByHostInstance:Ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dD={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tk(t),t===null?null:t.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||uD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{nd=tc.inject(dD),$n=tc}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hD;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ly(e))throw Error(F(200));return lD(t,e,null,n)};Xt.createRoot=function(t,e){if(!Ly(t))throw Error(F(299));var n=!1,r="",s=DS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ny(t,1,!1,null,null,n,!1,r,s),t[Er]=e.current,wl(t.nodeType===8?t.parentNode:t),new Oy(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=tk(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return li(t)};Xt.hydrate=function(t,e,n){if(!md(e))throw Error(F(200));return gd(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!Ly(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=DS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=NS(e,null,t,1,n??null,s,!1,i,o),t[Er]=e.current,wl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pd(e)};Xt.render=function(t,e,n){if(!md(e))throw Error(F(200));return gd(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!md(t))throw Error(F(40));return t._reactRootContainer?(li(function(){gd(null,null,t,!1,function(){t._reactRootContainer=null,t[Er]=null})}),!0):!1};Xt.unstable_batchedUpdates=Ay;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!md(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return gd(t,e,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function OS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OS)}catch(t){console.error(t)}}OS(),Ox.exports=Xt;var fD=Ox.exports,z_=fD;zp.createRoot=z_.createRoot,zp.hydrateRoot=z_.hydrateRoot;var jy={};Object.defineProperty(jy,"__esModule",{value:!0});jy.parse=_D;jy.serialize=ED;const pD=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,mD=/^[\u0021-\u003A\u003C-\u007E]*$/,gD=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,yD=/^[\u0020-\u003A\u003D-\u007E]*$/,vD=Object.prototype.toString,wD=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function _D(t,e){const n=new wD,r=t.length;if(r<2)return n;const s=(e==null?void 0:e.decode)||TD;let i=0;do{const o=t.indexOf("=",i);if(o===-1)break;const a=t.indexOf(";",i),l=a===-1?r:a;if(o>l){i=t.lastIndexOf(";",o-1)+1;continue}const u=F_(t,i,o),h=$_(t,o,u),d=t.slice(u,h);if(n[d]===void 0){let f=F_(t,o+1,l),m=$_(t,l,f);const y=s(t.slice(f,m));n[d]=y}i=l+1}while(i<r);return n}function F_(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function $_(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function ED(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!pD.test(t))throw new TypeError(`argument name is invalid: ${t}`);const s=r(e);if(!mD.test(s))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+s;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!gD.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!yD.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!xD(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function TD(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function xD(t){return vD.call(t)==="[object Date]"}var U_="popstate";function kD(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Nm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Al(s)}return ID(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SD(){return Math.random().toString(36).substring(2,10)}function B_(t,e){return{usr:t.state,key:t.key,idx:e}}function Nm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Uo(e):e,state:n,key:e&&e.key||r||SD()}}function Al({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ID(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let S=h(),w=S==null?null:S-u;u=S,l&&l({action:a,location:x.location,delta:w})}function f(S,w){a="PUSH";let _=Nm(x.location,S,w);u=h()+1;let E=B_(_,u),R=x.createHref(_);try{o.pushState(E,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(R)}i&&l&&l({action:a,location:x.location,delta:1})}function m(S,w){a="REPLACE";let _=Nm(x.location,S,w);u=h();let E=B_(_,u),R=x.createHref(_);o.replaceState(E,"",R),i&&l&&l({action:a,location:x.location,delta:0})}function y(S){return bD(S)}let x={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(U_,d),l=S,()=>{s.removeEventListener(U_,d),l=null}},createHref(S){return e(s,S)},createURL:y,encodeLocation(S){let w=y(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(S){return o.go(S)}};return x}function bD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),De(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Al(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function LS(t,e,n="/"){return AD(t,e,n,!1)}function AD(t,e,n,r){let s=typeof e=="string"?Uo(e):e,i=kr(s.pathname||"/",n);if(i==null)return null;let o=jS(t);PD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=FD(i);a=VD(o[l],u,r)}return a}function jS(t,e=[],n=[],r=""){let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=wr([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(De(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),jS(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:jD(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of MS(i.path))s(i,o,l)}),e}function MS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=MS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function PD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var RD=/^:[\w-]+$/,CD=3,ND=2,DD=1,OD=10,LD=-2,q_=t=>t==="*";function jD(t,e){let n=t.split("/"),r=n.length;return n.some(q_)&&(r+=LD),e&&(r+=ND),n.filter(s=>!q_(s)).reduce((s,i)=>s+(RD.test(i)?CD:i===""?DD:OD),r)}function MD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function VD(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=Eh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Eh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:wr([i,d.pathname]),pathnameBase:qD(wr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=wr([i,d.pathnameBase]))}return o}function Eh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:d},f)=>{if(h==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[f];return d&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function zD(t,e=!1,n=!0){Jn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function FD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $D(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Uo(t):t;return{pathname:n?n.startsWith("/")?n:UD(n,e):e,search:WD(r),hash:HD(s)}}function UD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Zf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VS(t){let e=BD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zS(t,e,n,r=!1){let s;typeof t=="string"?s=Uo(t):(s={...t},De(!s.pathname||!s.pathname.includes("?"),Zf("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),Zf("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),Zf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=$D(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var wr=t=>t.join("/").replace(/\/\/+/g,"/"),qD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var FS=["POST","PUT","PATCH","DELETE"];new Set(FS);var GD=["GET",...FS];new Set(GD);var Bo=C.createContext(null);Bo.displayName="DataRouter";var yd=C.createContext(null);yd.displayName="DataRouterState";var $S=C.createContext({isTransitioning:!1});$S.displayName="ViewTransition";var QD=C.createContext(new Map);QD.displayName="Fetchers";var YD=C.createContext(null);YD.displayName="Await";var nr=C.createContext(null);nr.displayName="Navigation";var Zl=C.createContext(null);Zl.displayName="Location";var rr=C.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var My=C.createContext(null);My.displayName="RouteError";function XD(t,{relative:e}={}){De(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(nr),{hash:s,pathname:i,search:o}=tu(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:wr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function eu(){return C.useContext(Zl)!=null}function Nr(){return De(eu(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Zl).location}var US="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BS(t){C.useContext(nr).static||C.useLayoutEffect(t)}function Vy(){let{isDataRoute:t}=C.useContext(rr);return t?hO():JD()}function JD(){De(eu(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Bo),{basename:e,navigator:n}=C.useContext(nr),{matches:r}=C.useContext(rr),{pathname:s}=Nr(),i=JSON.stringify(VS(r)),o=C.useRef(!1);return BS(()=>{o.current=!0}),C.useCallback((l,u={})=>{if(Jn(o.current,US),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=zS(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:wr([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,i,s,t])}C.createContext(null);function ZD(){let{matches:t}=C.useContext(rr),e=t[t.length-1];return e?e.params:{}}function tu(t,{relative:e}={}){let{matches:n}=C.useContext(rr),{pathname:r}=Nr(),s=JSON.stringify(VS(n));return C.useMemo(()=>zS(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function eO(t,e){return qS(t,e)}function qS(t,e,n,r){var w;De(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(nr),{matches:i}=C.useContext(rr),o=i[i.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let _=h&&h.path||"";WS(l,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let d=Nr(),f;if(e){let _=typeof e=="string"?Uo(e):e;De(u==="/"||((w=_.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),f=_}else f=d;let m=f.pathname||"/",y=m;if(u!=="/"){let _=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=LS(t,{pathname:y});Jn(h||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Jn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=iO(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:wr([u,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:wr([u,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&S?C.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},S):S}function tO(){let t=cO(),e=KD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,o)}var nO=C.createElement(tO,null),rO=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(rr.Provider,{value:this.props.routeContext},C.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sO({routeContext:t,match:e,children:n}){let r=C.useContext(Bo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(rr.Provider,{value:t},n)}function iO(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let l=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);De(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:h,errors:d}=n,f=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,h)=>{let d,f=!1,m=null,y=null;n&&(d=i&&u.route.id?i[u.route.id]:void 0,m=u.route.errorElement||nO,o&&(a<0&&h===0?(WS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):a===h&&(f=!0,y=u.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),S=()=>{let w;return d?w=m:f?w=y:u.route.Component?w=C.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=l,C.createElement(sO,{match:u,routeContext:{outlet:l,matches:x,isDataRoute:n!=null},children:w})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?C.createElement(rO,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function zy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oO(t){let e=C.useContext(Bo);return De(e,zy(t)),e}function aO(t){let e=C.useContext(yd);return De(e,zy(t)),e}function lO(t){let e=C.useContext(rr);return De(e,zy(t)),e}function Fy(t){let e=lO(t),n=e.matches[e.matches.length-1];return De(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uO(){return Fy("useRouteId")}function cO(){var r;let t=C.useContext(My),e=aO("useRouteError"),n=Fy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function hO(){let{router:t}=oO("useNavigate"),e=Fy("useNavigate"),n=C.useRef(!1);return BS(()=>{n.current=!0}),C.useCallback(async(s,i={})=>{Jn(n.current,US),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var W_={};function WS(t,e,n){!e&&!W_[t]&&(W_[t]=!0,Jn(!1,n))}C.memo(dO);function dO({routes:t,future:e,state:n}){return qS(t,void 0,n,e)}function zr(t){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){De(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=C.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Uo(n));let{pathname:l="/",search:u="",hash:h="",state:d=null,key:f="default"}=n,m=C.useMemo(()=>{let y=kr(l,o);return y==null?null:{location:{pathname:y,search:u,hash:h,state:d,key:f},navigationType:r}},[o,l,u,h,d,f,r]);return Jn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:C.createElement(nr.Provider,{value:a},C.createElement(Zl.Provider,{children:e,value:m}))}function pO({children:t,location:e}){return eO(Dm(t),e)}function Dm(t,e=[]){let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,Dm(r.props.children,i));return}De(r.type===zr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dm(r.props.children,i)),n.push(o)}),n}var Dc="get",Oc="application/x-www-form-urlencoded";function vd(t){return t!=null&&typeof t.tagName=="string"}function mO(t){return vd(t)&&t.tagName.toLowerCase()==="button"}function gO(t){return vd(t)&&t.tagName.toLowerCase()==="form"}function yO(t){return vd(t)&&t.tagName.toLowerCase()==="input"}function vO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wO(t,e){return t.button===0&&(!e||e==="_self")&&!vO(t)}var nc=null;function _O(){if(nc===null)try{new FormData(document.createElement("form"),0),nc=!1}catch{nc=!0}return nc}var EO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ep(t){return t!=null&&!EO.has(t)?(Jn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oc}"`),null):t}function TO(t,e){let n,r,s,i,o;if(gO(t)){let a=t.getAttribute("action");r=a?kr(a,e):null,n=t.getAttribute("method")||Dc,s=ep(t.getAttribute("enctype"))||Oc,i=new FormData(t)}else if(mO(t)||yO(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?kr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Dc,s=ep(t.getAttribute("formenctype"))||ep(a.getAttribute("enctype"))||Oc,i=new FormData(a,t),!_O()){let{name:u,type:h,value:d}=t;if(h==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,d)}}else{if(vd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dc,r=null,s=Oc,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}function $y(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function xO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function SO(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await xO(i,n);return o.links?o.links():[]}return[]}));return PO(r.flat(1).filter(kO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function H_(t,e,n,r,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var h;return n[u].pathname!==l.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?e.filter((l,u)=>{var d;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function IO(t,e,{includeHydrateFallback:n}={}){return bO(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function bO(t){return[...new Set(t)]}function AO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function PO(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(AO(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RO=new Set([100,101,204,205]);function CO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&kr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function HS(){let t=C.useContext(Bo);return $y(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NO(){let t=C.useContext(yd);return $y(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Uy=C.createContext(void 0);Uy.displayName="FrameworkContext";function KS(){let t=C.useContext(Uy);return $y(t,"You must render this element inside a <HydratedRouter> element"),t}function DO(t,e){let n=C.useContext(Uy),[r,s]=C.useState(!1),[i,o]=C.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,f=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=w=>{w.forEach(_=>{o(_.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return f.current&&S.observe(f.current),()=>{S.disconnect()}}},[t]),C.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{s(!0)},y=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,f,{}]:[i,f,{onFocus:ka(a,m),onBlur:ka(l,y),onMouseEnter:ka(u,m),onMouseLeave:ka(h,y),onTouchStart:ka(d,m)}]:[!1,f,{}]}function ka(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function OO({page:t,...e}){let{router:n}=HS(),r=C.useMemo(()=>LS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(jO,{page:t,matches:r,...e}):null}function LO(t){let{manifest:e,routeModules:n}=KS(),[r,s]=C.useState([]);return C.useEffect(()=>{let i=!1;return SO(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function jO({page:t,matches:e,...n}){let r=Nr(),{manifest:s,routeModules:i}=KS(),{basename:o}=HS(),{loaderData:a,matches:l}=NO(),u=C.useMemo(()=>H_(t,e,l,s,r,"data"),[t,e,l,s,r]),h=C.useMemo(()=>H_(t,e,l,s,r,"assets"),[t,e,l,s,r]),d=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,x=!1;if(e.forEach(w=>{var E;let _=s.routes[w.route.id];!_||!_.hasLoader||(!u.some(R=>R.route.id===w.route.id)&&w.route.id in a&&((E=i[w.route.id])!=null&&E.shouldRevalidate)||_.hasClientLoader?x=!0:y.add(w.route.id))}),y.size===0)return[];let S=CO(t,o);return x&&y.size>0&&S.searchParams.set("_routes",e.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[S.pathname+S.search]},[o,a,r,s,u,e,t,i]),f=C.useMemo(()=>IO(h,s),[h,s]),m=LO(h);return C.createElement(C.Fragment,null,d.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),f.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:x})=>C.createElement("link",{key:y,...x})))}function MO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GS&&(window.__reactRouterVersion="7.6.3")}catch{}function VO({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=kD({window:n,v5Compat:!0}));let s=r.current,[i,o]=C.useState({action:s.action,location:s.location}),a=C.useCallback(l=>{C.startTransition(()=>o(l))},[o]);return C.useLayoutEffect(()=>s.listen(a),[s,a]),C.createElement(fO,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var QS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pl=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:d,...f},m){let{basename:y}=C.useContext(nr),x=typeof u=="string"&&QS.test(u),S,w=!1;if(typeof u=="string"&&x&&(S=u,GS))try{let b=new URL(window.location.href),A=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=kr(A.pathname,y);A.origin===b.origin&&N!=null?u=N+A.search+A.hash:w=!0}catch{Jn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=XD(u,{relative:s}),[E,R,O]=DO(r,f),D=UO(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:d});function k(b){e&&e(b),b.defaultPrevented||D(b)}let T=C.createElement("a",{...f,...O,href:S||_,onClick:w||i?e:k,ref:MO(m,R),target:l,"data-discover":!x&&n==="render"?"true":void 0});return E&&!x?C.createElement(C.Fragment,null,T,C.createElement(OO,{page:_})):T});Pl.displayName="Link";var zO=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},h){let d=tu(o,{relative:u.relative}),f=Nr(),m=C.useContext(yd),{navigator:y,basename:x}=C.useContext(nr),S=m!=null&&KO(d)&&a===!0,w=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,_=f.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(_=_.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&x&&(E=kr(E,x)||E);const R=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let O=_===w||!s&&_.startsWith(w)&&_.charAt(R)==="/",D=E!=null&&(E===w||!s&&E.startsWith(w)&&E.charAt(w.length)==="/"),k={isActive:O,isPending:D,isTransitioning:S},T=O?e:void 0,b;typeof r=="function"?b=r(k):b=[r,O?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let A=typeof i=="function"?i(k):i;return C.createElement(Pl,{...u,"aria-current":T,className:b,ref:h,style:A,to:o,viewTransition:a},typeof l=="function"?l(k):l)});zO.displayName="NavLink";var FO=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Dc,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:d,...f},m)=>{let y=WO(),x=HO(a,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&QS.test(a),_=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let R=E.nativeEvent.submitter,O=(R==null?void 0:R.getAttribute("formmethod"))||o;y(R||E.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:s,state:i,relative:u,preventScrollReset:h,viewTransition:d})};return C.createElement("form",{ref:m,method:S,action:x,onSubmit:r?l:_,...f,"data-discover":!w&&t==="render"?"true":void 0})});FO.displayName="Form";function $O(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(t){let e=C.useContext(Bo);return De(e,$O(t)),e}function UO(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Vy(),l=Nr(),u=tu(t,{relative:i});return C.useCallback(h=>{if(wO(h,e)){h.preventDefault();let d=n!==void 0?n:Al(l)===Al(u);a(t,{replace:d,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,n,r,e,t,s,i,o])}var BO=0,qO=()=>`__${String(++BO)}__`;function WO(){let{router:t}=YS("useSubmit"),{basename:e}=C.useContext(nr),n=uO();return C.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=TO(r,e);if(s.navigate===!1){let h=s.fetcherKey||qO();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function HO(t,{relative:e}={}){let{basename:n}=C.useContext(nr),r=C.useContext(rr);De(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...tu(t||".",{relative:e})},o=Nr();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:wr([n,i.pathname])),Al(i)}function KO(t,e={}){let n=C.useContext($S);De(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YS("useViewTransitionState"),s=tu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=kr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=kr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Eh(s.pathname,o)!=null||Eh(s.pathname,i)!=null}[...RO];const XS=C.createContext(void 0),GO=({children:t})=>{const[e,n]=C.useState("dark");C.useEffect(()=>{const s=localStorage.getItem("theme");n(s||"dark")},[]),C.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{n(s=>s==="light"?"dark":"light")};return v.jsx(XS.Provider,{value:{theme:e,toggleTheme:r},children:t})},JS=()=>{const t=C.useContext(XS);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},QO=[{name:"O mnie",href:"#o-mnie"},{name:"Oferta",href:"#oferta"},{name:"Historie Sukcesu",href:"#historie-sukcesu"},{name:"Opinie",href:"#opinie"},{name:"Cennik",href:"/cennik"},{name:"Kontakt",href:"#kontakt"}],YO=[{image:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop",title:"Transformacja Liderska",category:"Mentoring 1:1"},{image:"https://images.unsplash.com/photo-1542744095-291d1f67b221?q=80&w=1740&auto=format&fit=crop",title:"Wzrost Efektywnoci Zespou",category:"Szkolenia dla Zespow"},{image:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?q=80&w=1740&auto=format&fit=crop",title:"Nowa cieka Kariery",category:"Coaching Kariery"},{image:"https://images.unsplash.com/photo-1543269865-cbf427effbad?q=80&w=1740&auto=format&fit=crop",title:"Skuteczne Wystpienia",category:"Wystpienia Publiczne"},{image:"https://images.unsplash.com/photo-1552664730-d307ca884978?q=80&w=1740&auto=format&fit=crop",title:"Rozwj Biznesu",category:"Coaching Biznesowy"},{image:"https://images.unsplash.com/photo-1573496130407-57329f01f769?q=80&w=1738&auto=format&fit=crop",title:"Zbudowanie Pewnoci Siebie",category:"Rozwj Osobisty"}],rc=[{stars:5,quote:"Pan ukasz jest wietnym coachem, jest profesjonalist w tym co robi. Duo si od niego nauczyam, napewno takie kursy przydadz si w yciu. Jest bardzo empatyczny i wyrozumiay, podchodzi do kadej sprawy z osobna i motywuje do dziaania. Polecam :)",author:"Wiktoria",role:"Kursantka",date:"17.06.2025"},{stars:5,quote:"Pan ukasz jest bardzo wyrozumiay, sympatyczny, pomocny i ma du wiedz na temat coachingu i ogln. Bardzo mi pomg z motywacj do dalszych dziaa. Widziaem jak pan ukasz si stara pomc mi oraz reszcie uczestnikw - jest wietny.",author:"Fabian",role:"Handlowiec",date:"17.06.2025"},{stars:5,quote:"Bardzo dobry coach, wietnie mi pomg w drodze do celu. Jest peny energii oraz sympatii, wietnie prowadzi zajcia, jest wyrozumiay. Oglnie podziwiam go - do kadego podchodzi indywidualnie oraz z spokojem.",author:"Sebastian",role:"Pracownik produkcji",date:"17.06.2025"},{stars:5,quote:"Pan ukasz to wyjtkowy coach - kompetentny, uwany i peen empatii. czy solidne przygotowanie merytoryczne z autentycznym zrozumieniem i spokojem, ktry daje poczucie bezpieczestwa. Potrafi sucha bez oceniania, trafnie wskazuje kierunek pracy nad sob i daje przestrze do prawdziwej zmiany. To specjalista, ktremu mona w peni zaufa.",author:"Barbara",role:"Sprzedawca",date:"16.06.2025"},{stars:5,quote:"wietny Coach, duo mogam si nauczy z jego lekcji i nauk. Zrozumiaam jakie mam wady i zalety. Szlifowaam swoje zalety eby si rozwija i zwalczaam swoje wady. Wyszam ze strefy komfortu i d do osignicia sukcesu zawodowego.",author:"Paulina",role:"Zawodowe",date:"13.06.2025"},{stars:5,quote:"Wsppraca na najwyszym poziomie. Szczerze to nie spodziewaem si e coaching moe tak wiele zmieni we wasnym podejciu do ycia, do mylenia o sobie i o innych. Czowiek bardzo kulturalny i serdeczny, otwarty a nie sztywny. Na prawd - gorco polecam.",author:"Pawe",role:"Filozof",date:"13.06.2025"},{stars:5,quote:"Miaam przyjemno pracowa z ukaszem Pietrzykiem jako coachem i z penym przekonaniem mog go poleci kademu, kto chce si rozwija  zarwno zawodowo, jak i osobicie. ukasz to profesjonalista z autentycznym podejciem do drugiego czowieka. Potrafi stworzy atmosfer zaufania, w ktrej atwo otworzy si na refleksj i zmian. Dziki naszym spotkaniom poczuam wiksz klarowno w swoich celach i odzyskaam motywacj do dziaania.",author:"Kasia",role:"Poszukiwaczka nowego kierunku",date:"13.06.2025"},{stars:5,quote:"Pan ukasz to dobry specjalista, sesje s mie i bez niepotrzebnego stresu. Daje czas by przyswoi materia w swoim zakresie nauki i opisuje wszystko szczegowo co upraszcza wchonicie danego materiau. Atmosfera jest przyjazna a rozmowy szczere, jest empatyczny, miy i szczery. Polecam dla kadego kto moe mie problemy z zaoeniem firmy.",author:"Bolek",role:"Cukiernik",date:"31.05.2025"},{stars:5,quote:"Rozmowa bardzo komunikatywna - w cigu godziny doprowadzi do tego e moe zmieni podejcie do swojej pracy oraz przyszoci. Bardzo podobaa mi si jego wypowied, mam nadziej e jeszcze si spotkamy w przyszoci.",author:"Przemysaw",role:"Cukiernik",date:"22.05.2025"},{stars:5,quote:"Byam na szkoleniu u pana ukasza i musz przyzna, e ma wietny warsztat psychologiczny. Dobrze rozumie ludzi i przykada si do wytumaczenia niewidocznych na pierwszy rzut oka procesw. Bardzo polecam.",author:"Magda",role:"Kierownik dziau",date:"16.02.2025"},{stars:5,quote:"Zajcia prowadzone przez pana ukasza s naprawd wyjtkowe. Potrafi skutecznie przekazywa wiedz na temat sztucznej inteligencji, niezalenie od poziomu zaawansowania uczestnikw. To zajcia, ktre warto poleci kademu, kto chce rozwija si w tej dynamicznej dziedzinie. Polecam z caego serca!",author:"Jakub",role:"Manager Hotelu",date:"20.01.2025"},{stars:5,quote:"ukasz jest wietnym coachem, profesjonalny i empatyczny, w sposb naturalny i konsekwentny podchodzi do kadego tematu, dziki niemu podjem realne kroki w celu znalezienia lepszej pracy. Polecam kademu, kto chce zainwestowa w swoj przyszo.",author:"Kamil",role:"Kierownik",date:"23.09.2021"},{stars:5,quote:"Bardzo dobry coach, warty polecenia. Ma ogromn wiedz i potrafi przekazywa j w ciekawy sposb. Motywuje do rozwoju i stawiania sobie poprzeczki coraz wyej. Po kadej rozmowie czuam si pobudzona do dziaania. Bardzo profesjonalne podejcie.",author:"Justyna",role:"Kierownik",date:"23.09.2021"},{stars:5,quote:"Pan ukasz jest osob, ktra posiada wielk wiedz oraz co najwaniejsze umiejtnoci jej przekazania. Dziki szkoleniu z ukaszem moja wiara we wasne moliwoci poszybowaa w gr. ukasz jest osob pomocn, wyrozumia, przy czym bardzo profesjonaln.",author:"Denis",role:"Specjalista ds. obsugi klienta",date:"02.07.2021"},{stars:5,quote:"Pan ukasz bardzo dobry czowiek oraz specjalista. Na zajciach daje z siebie 110%. Da mi motywacj do dziaania oraz dziki niemu nabraam pewnoci siebie. Polecam. Jestem wdziczna za to ile wnis do mojego ycia.",author:"Justyna",role:"Pracownik biurowy",date:"01.07.2021"},{stars:5,quote:"wietny specjalista. Wida, e w swoj prac wkada cae serce. Pomg mi poukada kilka wanych rzeczy i uwiadomi, e mona na wiele spraw popatrze od innej strony. Jego empatia, profesjonalizm i cierpliwo pokazaa mi, e trafiam do odpowiedniej osoby. Kada rozmowa z ukaszem daje pozytywnego kopa.",author:"Sylwia",role:"Pracownik biurowy",date:"28.05.2021"},{stars:5,quote:"Bardzo profesjonalny coach, zawsze uprzejmy, skonny do pomocy. wietnie mi si z nim wsppracowao. Uwiadomi mi wiele rzeczy z ktrych nie zdawaem sobie sprawy, zmieni mj punkt widzenia na wiele spraw. Bardzo si ciesz e miaem okazj z Panem ukaszem wsppracowa.",author:"Kajetan",role:"Osoba prywatna",date:"14.03.2021"},{stars:5,quote:"Profesjonalny i empatyczny coach, ktry potrafi postaw oraz swoj prac pozwoli poczu si bezpiecznie w trakcie odkrywania swojego potencjau oraz celw. Bardzo pomogy mi te sesje w lepszym radzeniu sobie ze stresem oraz zarzdzaniu zespoem.",author:"Ada",role:"Kierownik",date:"11.03.2021"},{stars:5,quote:"ukasz to osoba, ktra potrafi pomc w obiektywny sposb bez ocen zadajc pytania, dziki ktrym mona natrafi na swoje nie tylko ograniczenia, ale przede wszystkim mocne i ignorowane strony. Polecam z nim wspprac osobom, ktre chc awansowa lub zmieni prac. Szkoda, e coachingu nie ma w szkoach.",author:"Natalia",role:"Handel",date:"14.12.2020"},{stars:5,quote:"Pan ukasz jako coach jest numerem jeden. Rozwinem w sobie wiele wczeniej zblokowanych cech, np. umiejtno otwartego wyraania siebie, samokrytyka, rozwizywanie problemw na szczeblu zalka, uwydatnianie swoich mocnych stron. Prowadzi zajcia w luny sposb, dostosowany do kryteriw kadego uczestnika. Ju od pierwszych lekcji dopady mnie refleksje na swj temat.",author:"Daniel",role:"Pracownik produkcyjny",date:"22.11.2020"}],XO={features:["Dogodna lokalizacja w Siemianowicach lskich","atwy dojazd samochodem i komunikacj publiczn","Parking w pobliu","Komfortowe warunki spotka","Moliwo sesji online"]},K_=({text:t="Compressa",fontFamily:e="Compressa VF",fontUrl:n="https://res.cloudinary.com/dr6lvwubh/raw/upload/v1529908256/CompressaPRO-GX.woff2",width:r=!0,weight:s=!0,italic:i=!0,alpha:o=!1,flex:a=!0,stroke:l=!1,scale:u=!1,textColor:h="#FFFFFF",strokeColor:d="#FF0000",className:f="",minFontSize:m=24})=>{const y=C.useRef(null),x=C.useRef(null),S=C.useRef([]),w=C.useRef({x:0,y:0}),_=C.useRef({x:0,y:0}),[E,R]=C.useState(m),[O,D]=C.useState(1),[k,T]=C.useState(1),b=t.split(""),A=(P,G)=>{const Ee=G.x-P.x,He=G.y-P.y;return Math.sqrt(Ee*Ee+He*He)};C.useEffect(()=>{const P=Ee=>{_.current.x=Ee.clientX,_.current.y=Ee.clientY},G=Ee=>{const He=Ee.touches[0];_.current.x=He.clientX,_.current.y=He.clientY};if(window.addEventListener("mousemove",P),window.addEventListener("touchmove",G,{passive:!1}),y.current){const{left:Ee,top:He,width:re,height:$}=y.current.getBoundingClientRect();w.current.x=Ee+re/2,w.current.y=He+$/2,_.current.x=w.current.x,_.current.y=w.current.y}return()=>{window.removeEventListener("mousemove",P),window.removeEventListener("touchmove",G)}},[]);const N=()=>{if(!y.current||!x.current)return;const{width:P,height:G}=y.current.getBoundingClientRect();let Ee=P/(b.length/2);Ee=Math.max(Ee,m),R(Ee),D(1),T(1),requestAnimationFrame(()=>{if(!x.current)return;const He=x.current.getBoundingClientRect();if(u&&He.height>0){const re=G/He.height;D(re),T(re)}})};C.useEffect(()=>(N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)),[u,t]),C.useEffect(()=>{let P;const G=()=>{if(w.current.x+=(_.current.x-w.current.x)/15,w.current.y+=(_.current.y-w.current.y)/15,x.current){const He=x.current.getBoundingClientRect().width/2;S.current.forEach(re=>{if(!re)return;const $=re.getBoundingClientRect(),Q={x:$.x+$.width/2,y:$.y+$.height/2},Y=A(w.current,Q),ye=(mn,en,_u)=>{const nf=_u-Math.abs(_u*mn/He);return Math.max(en,nf+en)},pe=r?Math.floor(ye(Y,75,125)):100,be=s?Math.floor(ye(Y,400,900)):600,Zt=i?ye(Y,0,1).toFixed(2):"0",pn=o?ye(Y,0,1).toFixed(2):"1";re.style.opacity=pn,n?re.style.fontVariationSettings=`'wght' ${be}, 'wdth' ${pe}, 'ital' ${Zt}`:(re.style.fontWeight=be.toString(),re.style.fontStyle=i&&parseFloat(Zt)>.5?"italic":"normal")})}P=requestAnimationFrame(G)};return G(),()=>cancelAnimationFrame(P)},[r,s,i,o,b.length]);const L=[f,a?"flex":"",l?"stroke":""].filter(Boolean).join(" ");return v.jsxs("div",{ref:y,style:{position:"relative",width:"100%",height:"100%",background:"transparent"},children:[v.jsx("style",{children:`
        ${n?`@font-face {
          font-family: '${e}';
          src: url('${n}');
          font-style: normal;
        }`:""}

        .flex {
          display: flex;
          justify-content: space-between;
        }

        .stroke span {
          position: relative;
          color: ${h};
        }
        .stroke span::after {
          content: attr(data-char);
          position: absolute;
          left: 0;
          top: 0;
          color: transparent;
          z-index: -1;
          -webkit-text-stroke-width: 3px;
          -webkit-text-stroke-color: ${d};
        }

        .text-pressure-title {
          color: ${h};
        }
      `}),v.jsx("h1",{ref:x,className:`text-pressure-title ${L}`,style:{fontFamily:e,textTransform:"uppercase",fontSize:E,lineHeight:k,transform:`scale(1, ${O})`,transformOrigin:"center top",margin:0,textAlign:"center",userSelect:"none",whiteSpace:"nowrap",fontWeight:n?100:600,width:"100%"},children:b.map((P,G)=>v.jsx("span",{ref:Ee=>S.current[G]=Ee,"data-char":P,style:{display:"inline-block",color:l?void 0:h},children:P},G))})]})},Om=({onClick:t,compact:e=!1})=>{const n=r=>{t&&(r.preventDefault(),t(r))};return e?v.jsx("a",{href:"#hero",onClick:n,className:"block group focus:outline-none focus-visible:ring-2 focus-visible:ring-accent rounded-lg p-2",children:v.jsx("div",{style:{position:"relative",height:"32px",width:"64px"},className:"transition-all duration-300",children:v.jsx(K_,{text:"P",fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontUrl:"",flex:!0,alpha:!1,stroke:!1,width:!0,weight:!0,italic:!1,textColor:"inherit",strokeColor:"#007BFF",minFontSize:19,className:"text-slate-800 dark:text-white group-hover:text-gray-500 dark:group-hover:text-gray-400 transition-colors duration-300"})})}):v.jsx("a",{href:"#hero",onClick:n,className:"block group focus:outline-none focus-visible:ring-2 focus-visible:ring-accent rounded-lg p-2",children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{style:{position:"relative",height:"50px",width:"300px"},children:v.jsx(K_,{text:"ukasz Pietrzyk",fontFamily:"Inter, system-ui, -apple-system, sans-serif",fontUrl:"",flex:!0,alpha:!1,stroke:!1,width:!0,weight:!0,italic:!1,textColor:"inherit",strokeColor:"#007BFF",minFontSize:18,className:"text-slate-800 dark:text-white group-hover:text-gray-500 dark:group-hover:text-gray-400 transition-colors duration-300"})}),v.jsx("div",{className:"mt-1",children:v.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 group-hover:text-gray-500 dark:group-hover:text-gray-400 transition-colors duration-300 tracking-wide",children:"COACHING & MENTORING"})})]})})},JO=({items:t,animationTime:e=600,particleCount:n=15,particleDistances:r=[90,10],particleR:s=100,timeVariance:i=300,colors:o=[1,2,3,1,2,3,1,4],initialActiveIndex:a=0,onItemClick:l})=>{const u=C.useRef(null),h=C.useRef(null),d=C.useRef(null),f=C.useRef(null),[m,y]=C.useState(a),x=(D=1)=>D/2-Math.random()*D,S=(D,k,T)=>{const b=(360+x(8))/T*k*(Math.PI/180);return[D*Math.cos(b),D*Math.sin(b)]},w=(D,k,T,b)=>{let A=x(b/10);return{start:S(T[0],n-D,n),end:S(T[1]+x(7),n-D,n),time:k,scale:1+x(.2),color:o[Math.floor(Math.random()*o.length)],rotate:A>0?(A+b/20)*10:(A-b/20)*10}},_=D=>{const k=r,T=s,b=e*2+i;D.style.setProperty("--time",`${b}ms`);for(let A=0;A<n;A++){const N=e*2+x(i*2),L=w(A,N,k,T);D.classList.remove("active"),setTimeout(()=>{const P=document.createElement("span"),G=document.createElement("span");P.classList.add("particle"),P.style.setProperty("--start-x",`${L.start[0]}px`),P.style.setProperty("--start-y",`${L.start[1]}px`),P.style.setProperty("--end-x",`${L.end[0]}px`),P.style.setProperty("--end-y",`${L.end[1]}px`),P.style.setProperty("--time",`${L.time}ms`),P.style.setProperty("--scale",`${L.scale}`),P.style.setProperty("--color",`var(--color-${L.color}, white)`),P.style.setProperty("--rotate",`${L.rotate}deg`),G.classList.add("point"),P.appendChild(G),D.appendChild(P),requestAnimationFrame(()=>{D.classList.add("active")}),setTimeout(()=>{try{D.removeChild(P)}catch{}},N)},30)}},E=D=>{if(!u.current||!d.current||!f.current)return;const k=u.current.getBoundingClientRect(),T=D.getBoundingClientRect(),b={left:`${T.x-k.x}px`,top:`${T.y-k.y}px`,width:`${T.width}px`,height:`${T.height}px`};Object.assign(d.current.style,b),Object.assign(f.current.style,b),f.current.innerText=D.innerText},R=(D,k)=>{D.preventDefault();const T=D.currentTarget;m!==k&&(y(k),E(T),l&&l(t[k],k),d.current&&d.current.querySelectorAll(".particle").forEach(A=>d.current.removeChild(A)),f.current&&(f.current.classList.remove("active"),f.current.offsetWidth,f.current.classList.add("active")),d.current&&_(d.current))},O=(D,k)=>{if(D.key==="Enter"||D.key===" "){D.preventDefault();const T=D.currentTarget.parentElement;T&&R({currentTarget:T},k)}};return C.useEffect(()=>{var T;if(!h.current||!u.current)return;const D=h.current.querySelectorAll("li")[m];D&&(E(D),(T=f.current)==null||T.classList.add("active"));const k=new ResizeObserver(()=>{var A;const b=(A=h.current)==null?void 0:A.querySelectorAll("li")[m];b&&E(b)});return k.observe(u.current),()=>k.disconnect()},[m]),v.jsxs("div",{className:"gooey-nav-container",ref:u,children:[v.jsx("nav",{children:v.jsx("ul",{ref:h,children:t.map((D,k)=>v.jsx("li",{className:m===k?"active":"",onClick:T=>R(T,k),children:v.jsx("a",{href:D.href,onKeyDown:T=>O(T,k),children:D.label})},k))})}),v.jsx("span",{className:"effect filter",ref:d}),v.jsx("span",{className:"effect text",ref:f})]})},Ao=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(!1),s=QO.map(h=>({label:h.name,href:h.href})),i=Nr(),o=Vy();C.useEffect(()=>{const h=()=>{e(window.scrollY>10)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const a=(h,d)=>{if(h.preventDefault(),d.startsWith("#")&&i.pathname!=="/"){o("/",{state:{scrollTo:d}}),r(!1);return}const f=d.startsWith("#")?d.substring(1):"",m=f?document.getElementById(f):null;if(m){const y=document.querySelector("header"),x=y?y.offsetHeight:70,w=m.getBoundingClientRect().top+window.scrollY-x;window.scrollTo({top:w,behavior:"smooth"})}r(!1)},l=h=>{if(h.href.startsWith("#")){if(i.pathname!=="/"){o("/",{state:{scrollTo:h.href}}),r(!1);return}const d=h.href.substring(1),f=d?document.getElementById(d):null;if(f){const m=document.querySelector("header"),y=m?m.offsetHeight:70,S=f.getBoundingClientRect().top+window.scrollY-y;window.scrollTo({top:S,behavior:"smooth"})}}else o(h.href);r(!1)},u=`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-slate-50/90 dark:bg-gray-900/90":"bg-transparent"}`;return v.jsxs("header",{className:u,children:[v.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center h-full justify-center",children:[v.jsx("span",{className:"block sm:hidden",children:v.jsx(Om,{onClick:h=>a(h,"#hero"),compact:!0})}),v.jsx("span",{className:"hidden sm:block",children:v.jsx(Om,{onClick:h=>a(h,"#hero")})})]}),v.jsx("div",{className:"hidden md:block",children:v.jsx(JO,{items:s,particleCount:12,particleDistances:[60,8],particleR:80,initialActiveIndex:0,animationTime:500,timeVariance:200,colors:[1,2,3,1,2,3,1,4],onItemClick:l})}),v.jsx("div",{className:"flex items-center space-x-4",children:v.jsx("div",{className:"md:hidden",children:v.jsx("button",{onClick:()=>r(!n),className:"text-slate-800 dark:text-white focus:outline-none",children:v.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n?v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})})]}),n&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm transition-opacity duration-300 md:hidden",children:v.jsxs("div",{className:"relative w-full max-w-xs mx-auto bg-slate-50 dark:bg-gray-900 rounded-lg shadow-lg p-8 flex flex-col items-center animate-slideIn",children:[v.jsx("button",{className:"absolute top-4 right-4 text-2xl text-slate-700 dark:text-slate-200 focus:outline-none",onClick:()=>r(!1),"aria-label":"Close menu",children:""}),v.jsx("nav",{className:"flex flex-col gap-6 mt-8 w-full",children:s.map(h=>v.jsx("a",{href:h.href,className:"text-lg font-semibold text-slate-800 dark:text-slate-100 text-center py-2 rounded hover:bg-slate-200 dark:hover:bg-gray-800 transition-colors",onClick:d=>{d.preventDefault(),l(h),r(!1)},children:h.label},h.href))})]})})]})},ZO=()=>v.jsxs("section",{id:"hero",className:"relative min-h-[80vh] flex items-center justify-center bg-black overflow-hidden",children:[v.jsx("img",{src:"/business-man-6583629_1280.jpg",alt:"Business man hero background",className:"absolute inset-0 w-full h-full object-cover z-0 opacity-80",draggable:"false",style:{pointerEvents:"none",userSelect:"none",zIndex:0}}),v.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),v.jsxs("div",{className:"relative z-20 flex flex-col items-center justify-center w-full px-4 py-16",children:[v.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white text-center mb-4 drop-shadow-2xl tracking-tight",children:"Witaj w wiecie rozwoju i sukcesu"}),v.jsx("p",{className:"text-lg md:text-2xl text-slate-200 text-center max-w-2xl mb-8 font-light",children:"Profesjonalny coaching, mentoring i transformacja dla Ciebie lub Twojego zespou."}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full max-w-xs mx-auto justify-center items-center",children:[v.jsx("a",{href:"#kontakt",className:"bg-blue-700 hover:bg-blue-800 text-white font-semibold py-3 px-8 rounded-full transition-all duration-300 uppercase tracking-wider text-base shadow-md hover:shadow-xl text-center",children:"Skontaktuj si"}),v.jsx("a",{href:"#opinie",className:"border-2 border-white text-white hover:bg-white hover:text-blue-800 font-semibold py-3 px-8 rounded-full transition-all duration-300 uppercase tracking-wider text-base shadow-md hover:shadow-xl text-center",children:"Opinie klientw"})]})]}),v.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-30 animate-bounce",children:v.jsx("a",{href:"#o-mnie","aria-label":"Przewi w d",children:v.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})})]}),eL=()=>v.jsxs("section",{id:"o-mnie",className:"py-24 bg-white dark:bg-gray-900",children:["      ",v.jsxs("div",{className:"container mx-auto px-6 max-w-6xl",children:["        ",v.jsx("h2",{className:"text-4xl md:text-5xl font-light text-slate-800 dark:text-white mb-16 text-center tracking-wide",children:"          O mnie        "}),"                ",v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center mb-20",children:["          ",v.jsxs("div",{className:"order-2 lg:order-1",children:["            ",v.jsxs("div",{className:"space-y-6",children:["              ",v.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"                Jestem dowiadczonym coachem biznesu i kariery, absolwentem coachingu na Uniwersytecie lskim w Katowicach oraz stypendyst grantu naukowego na Uniwersytecie Masaryka w Brnie.              "}),"              ",v.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"                Pomagam ludziom odkrywa ich potencja, osiga cele zawodowe i budowa satysfakcjonujce kariery. Moim podejciem jest indywidualne wsparcie dostosowane do potrzeb kadego klienta.              "}),"              ",v.jsxs("div",{className:"pt-6",children:["                ",v.jsx("a",{href:"/spotkanie",className:"inline-block bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-8 py-3 font-medium tracking-wider text-sm uppercase hover:bg-slate-800 dark:hover:bg-slate-100 transition-colors duration-200",children:"                  Rozpocznij wspprac                "}),"              "]}),"            "]}),"          "]}),"          ",v.jsxs("div",{className:"order-1 lg:order-2",children:["            ",v.jsxs("div",{className:"relative",children:["              ",v.jsx("img",{src:"https://media.licdn.com/dms/image/v2/C5603AQHckhcfwwkZgg/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1620039741657?e=1756944000&v=beta&t=8S_19HsucFSEF56K3pvrI999_HsR0YMiIAQLH4q2BaY",alt:"ukasz Pietrzyk",className:"w-full h-96 object-cover grayscale hover:grayscale-0 transition-all duration-500"}),"            "]}),"          "]}),"        "]}),"                ",v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:["          ",v.jsxs("div",{className:"text-center",children:["            ",v.jsx("div",{className:"text-3xl font-light text-slate-800 dark:text-white mb-2",children:"10 000+"}),"            ",v.jsx("div",{className:"text-slate-600 dark:text-slate-400 uppercase tracking-wider text-sm",children:"Godzin pracy"}),"          "]}),"          ",v.jsxs("div",{className:"text-center",children:["            ",v.jsx("div",{className:"text-3xl font-light text-slate-800 dark:text-white mb-2",children:"10 lat"}),"            ",v.jsx("div",{className:"text-slate-600 dark:text-slate-400 uppercase tracking-wider text-sm",children:"Dowiadczenia"}),"          "]}),"          ",v.jsxs("div",{className:"text-center",children:["            ",v.jsx("div",{className:"text-3xl font-light text-slate-800 dark:text-white mb-2",children:"250+"}),"            ",v.jsx("div",{className:"text-slate-600 dark:text-slate-400 uppercase tracking-wider text-sm",children:"Zrealizowanych projektw"}),"          "]}),"          ",v.jsxs("div",{className:"text-center",children:["            ",v.jsx("div",{className:"text-3xl font-light text-slate-800 dark:text-white mb-2",children:"Caa Polska + Europa"}),"            ",v.jsx("div",{className:"text-slate-600 dark:text-slate-400 uppercase tracking-wider text-sm",children:"Dziaalno"}),"          "]}),"        "]}),"      "]}),"    "]}),tL=()=>{const t=[{title:"Coaching Indywidualny",description:"Spersonalizowane sesje 1:1 skoncentrowane na Twoich celach zawodowych i osobistych."},{title:"Mentoring Biznesowy",description:"Wsparcie dla przedsibiorcw i menederw w rozwoju kompetencji przywdczych."},{title:"Coaching Kariery",description:"Pomoc w planowaniu cieki zawodowej, zmianie brany lub awansie."},{title:"Rozwj Kompetencji",description:"Szkolenia w zakresie komunikacji, asertywnoci i zarzdzania emocjami."}];return v.jsx("section",{id:"oferta",className:"py-24 bg-slate-50 dark:bg-gray-800",children:v.jsxs("div",{className:"container mx-auto px-6 max-w-6xl",children:[v.jsx("h2",{className:"text-4xl md:text-5xl font-light text-slate-800 dark:text-white mb-16 text-center tracking-wide",children:"Oferta"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((e,n)=>v.jsx("div",{className:"group",children:v.jsxs("div",{className:"border-l-2 border-slate-300 dark:border-slate-600 pl-6 py-8 hover:border-slate-800 dark:hover:border-slate-300 transition-colors duration-200",children:[v.jsx("h3",{className:"text-xl font-medium text-slate-800 dark:text-white mb-4 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors duration-200",children:e.title}),v.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed",children:e.description})]})},n))}),v.jsx("div",{className:"text-center mt-16",children:v.jsx("a",{href:"#kontakt",className:"inline-block bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-8 py-3 font-medium tracking-wider text-sm uppercase hover:bg-slate-800 dark:hover:bg-slate-100 transition-colors duration-200",children:"Skontaktuj si ze mn"})})]})})},By=C.createContext({});function qy(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wy=typeof window<"u",ZS=Wy?C.useLayoutEffect:C.useEffect,wd=C.createContext(null);function Hy(t,e){t.indexOf(e)===-1&&t.push(e)}function Ky(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Sr=(t,e,n)=>n>e?e:n<t?t:n;let Gy=()=>{};const Ir={},eI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tI(t){return typeof t=="object"&&t!==null}const nI=t=>/^0[^.\s]+$/u.test(t);function Qy(t){let e;return()=>(e===void 0&&(e=t()),e)}const un=t=>t,nL=(t,e)=>n=>e(t(n)),nu=(...t)=>t.reduce(nL),Rl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Yy{constructor(){this.subscriptions=[]}add(e){return Hy(this.subscriptions,e),()=>Ky(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bn=t=>t*1e3,qn=t=>t/1e3;function rI(t,e){return e?t*(1e3/e):0}const sI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,rL=1e-7,sL=12;function iL(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=sI(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>rL&&++a<sL);return o}function ru(t,e,n,r){if(t===e&&n===r)return un;const s=i=>iL(i,0,1,t,n);return i=>i===0||i===1?i:sI(s(i),e,r)}const iI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oI=t=>e=>1-t(1-e),aI=ru(.33,1.53,.69,.99),Xy=oI(aI),lI=iI(Xy),uI=t=>(t*=2)<1?.5*Xy(t):.5*(2-Math.pow(2,-10*(t-1))),Jy=t=>1-Math.sin(Math.acos(t)),cI=oI(Jy),hI=iI(Jy),oL=ru(.42,0,1,1),aL=ru(0,0,.58,1),dI=ru(.42,0,.58,1),lL=t=>Array.isArray(t)&&typeof t[0]!="number",fI=t=>Array.isArray(t)&&typeof t[0]=="number",uL={linear:un,easeIn:oL,easeInOut:dI,easeOut:aL,circIn:Jy,circInOut:hI,circOut:cI,backIn:Xy,backInOut:lI,backOut:aI,anticipate:uI},cL=t=>typeof t=="string",G_=t=>{if(fI(t)){Gy(t.length===4);const[e,n,r,s]=t;return ru(e,n,r,s)}else if(cL(t))return uL[t];return t},sc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Q_={value:null};function hL(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(h.schedule(d),t()),l++,d(a)}const h={schedule:(d,f=!1,m=!1)=>{const x=m&&s?n:r;return f&&o.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&Q_.value&&Q_.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,h.process(d))}};return h}const dL=40;function pI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=sc.reduce((E,R)=>(E[R]=hL(i,e?R:void 0),E),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:d,preRender:f,render:m,postRender:y}=o,x=()=>{const E=Ir.useManualTiming?s.timestamp:performance.now();n=!1,Ir.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,dL),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),h.process(s),d.process(s),f.process(s),m.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(x))},S=()=>{n=!0,r=!0,s.isProcessing||t(x)};return{schedule:sc.reduce((E,R)=>{const O=o[R];return E[R]=(D,k=!1,T=!1)=>(n||S(),O.schedule(D,k,T)),E},{}),cancel:E=>{for(let R=0;R<sc.length;R++)o[sc[R]].cancel(E)},state:s,steps:o}}const{schedule:Pe,cancel:ys,state:it,steps:tp}=pI(typeof requestAnimationFrame<"u"?requestAnimationFrame:un,!0);let Lc;function fL(){Lc=void 0}const zt={now:()=>(Lc===void 0&&zt.set(it.isProcessing||Ir.useManualTiming?it.timestamp:performance.now()),Lc),set:t=>{Lc=t,queueMicrotask(fL)}},mI=t=>e=>typeof e=="string"&&e.startsWith(t),Zy=mI("--"),pL=mI("var(--"),ev=t=>pL(t)?mL.test(t.split("/*")[0].trim()):!1,mL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cl={...qo,transform:t=>Sr(0,1,t)},ic={...qo,default:1},Ya=t=>Math.round(t*1e5)/1e5,tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gL(t){return t==null}const yL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nv=(t,e)=>n=>!!(typeof n=="string"&&yL.test(n)&&n.startsWith(t)||e&&!gL(n)&&Object.prototype.hasOwnProperty.call(n,e)),gI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(tv);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},vL=t=>Sr(0,255,t),np={...qo,transform:t=>Math.round(vL(t))},Ys={test:nv("rgb","red"),parse:gI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+np.transform(t)+", "+np.transform(e)+", "+np.transform(n)+", "+Ya(Cl.transform(r))+")"};function wL(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Lm={test:nv("#"),parse:wL,transform:Ys.transform},su=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fr=su("deg"),Wn=su("%"),Z=su("px"),_L=su("vh"),EL=su("vw"),Y_={...Wn,parse:t=>Wn.parse(t)/100,transform:t=>Wn.transform(t*100)},Zi={test:nv("hsl","hue"),parse:gI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wn.transform(Ya(e))+", "+Wn.transform(Ya(n))+", "+Ya(Cl.transform(r))+")"},Be={test:t=>Ys.test(t)||Lm.test(t)||Zi.test(t),parse:t=>Ys.test(t)?Ys.parse(t):Zi.test(t)?Zi.parse(t):Lm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ys.transform(t):Zi.transform(t),getAnimatableNone:t=>{const e=Be.parse(t);return e.alpha=0,Be.transform(e)}},TL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(tv))==null?void 0:e.length)||0)+(((n=t.match(TL))==null?void 0:n.length)||0)>0}const yI="number",vI="color",kL="var",SL="var(",X_="${}",IL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(IL,l=>(Be.test(l)?(r.color.push(i),s.push(vI),n.push(Be.parse(l))):l.startsWith(SL)?(r.var.push(i),s.push(kL),n.push(l)):(r.number.push(i),s.push(yI),n.push(parseFloat(l))),++i,X_)).split(X_);return{values:n,split:a,indexes:r,types:s}}function wI(t){return Nl(t).values}function _I(t){const{split:e,types:n}=Nl(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===yI?i+=Ya(s[o]):a===vI?i+=Be.transform(s[o]):i+=s[o]}return i}}const bL=t=>typeof t=="number"?0:Be.test(t)?Be.getAnimatableNone(t):t;function AL(t){const e=wI(t);return _I(t)(e.map(bL))}const vs={test:xL,parse:wI,createTransformer:_I,getAnimatableNone:AL};function rp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function PL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=rp(l,a,t+1/3),i=rp(l,a,t),o=rp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Th(t,e){return n=>n>0?e:t}const Ce=(t,e,n)=>t+(e-t)*n,sp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},RL=[Lm,Ys,Zi],CL=t=>RL.find(e=>e.test(t));function J_(t){const e=CL(t);if(!e)return!1;let n=e.parse(t);return e===Zi&&(n=PL(n)),n}const Z_=(t,e)=>{const n=J_(t),r=J_(e);if(!n||!r)return Th(t,e);const s={...n};return i=>(s.red=sp(n.red,r.red,i),s.green=sp(n.green,r.green,i),s.blue=sp(n.blue,r.blue,i),s.alpha=Ce(n.alpha,r.alpha,i),Ys.transform(s))},jm=new Set(["none","hidden"]);function NL(t,e){return jm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DL(t,e){return n=>Ce(t,e,n)}function rv(t){return typeof t=="number"?DL:typeof t=="string"?ev(t)?Th:Be.test(t)?Z_:jL:Array.isArray(t)?EI:typeof t=="object"?Be.test(t)?Z_:OL:Th}function EI(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>rv(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function OL(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=rv(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function LL(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const jL=(t,e)=>{const n=vs.createTransformer(e),r=Nl(t),s=Nl(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?jm.has(t)&&!s.values.length||jm.has(e)&&!r.values.length?NL(t,e):nu(EI(LL(r,s),s.values),n):Th(t,e)};function TI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ce(t,e,n):rv(t)(t,e)}const ML=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Pe.update(e,n),stop:()=>ys(e),now:()=>it.isProcessing?it.timestamp:zt.now()}},xI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},xh=2e4;function sv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xh;)e+=n,r=t.next(e);return e>=xh?1/0:e}function VL(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(sv(r),xh);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:qn(s)}}const zL=5;function kI(t,e,n){const r=Math.max(e-zL,0);return rI(n-t(r),e-r)}const Me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ip=.001;function FL({duration:t=Me.duration,bounce:e=Me.bounce,velocity:n=Me.velocity,mass:r=Me.mass}){let s,i,o=1-e;o=Sr(Me.minDamping,Me.maxDamping,o),t=Sr(Me.minDuration,Me.maxDuration,qn(t)),o<1?(s=u=>{const h=u*o,d=h*t,f=h-n,m=Mm(u,o),y=Math.exp(-d);return ip-f/m*y},i=u=>{const d=u*o*t,f=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-d),x=Mm(Math.pow(u,2),o);return(-s(u)+ip>0?-1:1)*((f-m)*y)/x}):(s=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-ip+h*d},i=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const a=5/t,l=UL(s,i,a);if(t=Bn(t),isNaN(l))return{stiffness:Me.stiffness,damping:Me.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const $L=12;function UL(t,e,n){let r=n;for(let s=1;s<$L;s++)r=r-t(r)/e(r);return r}function Mm(t,e){return t*Math.sqrt(1-e*e)}const BL=["duration","bounce"],qL=["stiffness","damping","mass"];function eE(t,e){return e.some(n=>t[n]!==void 0)}function WL(t){let e={velocity:Me.velocity,stiffness:Me.stiffness,damping:Me.damping,mass:Me.mass,isResolvedFromDuration:!1,...t};if(!eE(t,qL)&&eE(t,BL))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Sr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Me.mass,stiffness:s,damping:i}}else{const n=FL(t);e={...e,...n,mass:Me.mass},e.isResolvedFromDuration=!0}return e}function kh(t=Me.visualDuration,e=Me.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:m}=WL({...n,velocity:-qn(n.velocity||0)}),y=f||0,x=u/(2*Math.sqrt(l*h)),S=o-i,w=qn(Math.sqrt(l/h)),_=Math.abs(S)<5;r||(r=_?Me.restSpeed.granular:Me.restSpeed.default),s||(s=_?Me.restDelta.granular:Me.restDelta.default);let E;if(x<1){const O=Mm(w,x);E=D=>{const k=Math.exp(-x*w*D);return o-k*((y+x*w*S)/O*Math.sin(O*D)+S*Math.cos(O*D))}}else if(x===1)E=O=>o-Math.exp(-w*O)*(S+(y+w*S)*O);else{const O=w*Math.sqrt(x*x-1);E=D=>{const k=Math.exp(-x*w*D),T=Math.min(O*D,300);return o-k*((y+x*w*S)*Math.sinh(T)+O*S*Math.cosh(T))/O}}const R={calculatedDuration:m&&d||null,next:O=>{const D=E(O);if(m)a.done=O>=d;else{let k=O===0?y:0;x<1&&(k=O===0?Bn(y):kI(E,O,D));const T=Math.abs(k)<=r,b=Math.abs(o-D)<=s;a.done=T&&b}return a.value=a.done?o:D,a},toString:()=>{const O=Math.min(sv(R),xh),D=xI(k=>R.next(O*k).value,O,30);return O+"ms "+D},toTransition:()=>{}};return R}kh.applyToOptions=t=>{const e=VL(t,100,kh);return t.ease=e.ease,t.duration=Bn(e.duration),t.type="keyframes",t};function Vm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,y=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let x=n*e;const S=d+x,w=o===void 0?S:o(S);w!==S&&(x=w-d);const _=T=>-x*Math.exp(-T/r),E=T=>w+_(T),R=T=>{const b=_(T),A=E(T);f.done=Math.abs(b)<=u,f.value=f.done?w:A};let O,D;const k=T=>{m(f.value)&&(O=T,D=kh({keyframes:[f.value,y(f.value)],velocity:kI(E,T,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return k(0),{calculatedDuration:null,next:T=>{let b=!1;return!D&&O===void 0&&(b=!0,R(T),k(T)),O!==void 0&&T>=O?D.next(T-O):(!b&&R(T),f)}}}function HL(t,e,n){const r=[],s=n||Ir.mix||TI,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||un:e;a=nu(l,a)}r.push(a)}return r}function KL(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Gy(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=HL(e,r,s),l=a.length,u=h=>{if(o&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const f=Rl(t[d],t[d+1],h);return a[d](f)};return n?h=>u(Sr(t[0],t[i-1],h)):u}function GL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Rl(0,e,r);t.push(Ce(n,1,s))}}function QL(t){const e=[0];return GL(e,t.length-1),e}function YL(t,e){return t.map(n=>n*e)}function XL(t,e){return t.map(()=>e||dI).splice(0,t.length-1)}function Xa({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=lL(r)?r.map(G_):G_(r),i={done:!1,value:e[0]},o=YL(n&&n.length===e.length?n:QL(e),t),a=KL(o,e,{ease:Array.isArray(s)?s:XL(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const JL=t=>t!==null;function iv(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(JL),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const ZL={decay:Vm,inertia:Vm,tween:Xa,keyframes:Xa,spring:kh};function SI(t){typeof t.type=="string"&&(t.type=ZL[t.type])}class ov{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ej=t=>t/100;class av extends ov{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==zt.now()&&this.tick(zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;SI(e);const{type:n=Xa,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Xa;l!==Xa&&typeof a[0]!="number"&&(this.mixKeyframes=nu(ej,TI(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=sv(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:d,repeatType:f,repeatDelay:m,type:y,onUpdate:x,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,R=r;if(d){const T=Math.min(this.currentTime,s)/a;let b=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&b--,b=Math.min(b,d+1),!!(b%2)&&(f==="reverse"?(A=1-A,m&&(A-=m/a)):f==="mirror"&&(R=o)),E=Sr(0,1,A)*a}const O=_?{done:!1,value:h[0]}:R.next(E);i&&(O.value=i(O.value));let{done:D}=O;!_&&l!==null&&(D=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return k&&y!==Vm&&(O.value=iv(h,this.options,S,this.speed)),x&&x(O.value),k&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return qn(this.calculatedDuration)}get time(){return qn(this.currentTime)}set time(e){var n;e=Bn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=ML,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function tj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xs=t=>t*180/Math.PI,zm=t=>{const e=Xs(Math.atan2(t[1],t[0]));return Fm(e)},nj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zm,rotateZ:zm,skewX:t=>Xs(Math.atan(t[1])),skewY:t=>Xs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fm=t=>(t=t%360,t<0&&(t+=360),t),tE=zm,nE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),rj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nE,scaleY:rE,scale:t=>(nE(t)+rE(t))/2,rotateX:t=>Fm(Xs(Math.atan2(t[6],t[5]))),rotateY:t=>Fm(Xs(Math.atan2(-t[2],t[0]))),rotateZ:tE,rotate:tE,skewX:t=>Xs(Math.atan(t[4])),skewY:t=>Xs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $m(t){return t.includes("scale")?1:0}function Um(t,e){if(!t||t==="none")return $m(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=rj,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=nj,s=a}if(!s)return $m(e);const i=r[e],o=s[1].split(",").map(ij);return typeof i=="function"?i(o):o[i]}const sj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Um(n,e)};function ij(t){return parseFloat(t.trim())}const Wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ho=new Set(Wo),sE=t=>t===qo||t===Z,oj=new Set(["x","y","z"]),aj=Wo.filter(t=>!oj.has(t));function lj(t){const e=[];return aj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ni={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Um(e,"x"),y:(t,{transform:e})=>Um(e,"y")};ni.translateX=ni.x;ni.translateY=ni.y;const ri=new Set;let Bm=!1,qm=!1,Wm=!1;function II(){if(qm){const t=Array.from(ri).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=lj(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qm=!1,Bm=!1,ri.forEach(t=>t.complete(Wm)),ri.clear()}function bI(){ri.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qm=!0)})}function uj(){Wm=!0,bI(),II(),Wm=!1}class lv{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ri.add(this),Bm||(Bm=!0,Pe.read(bI),Pe.resolveKeyframes(II))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}tj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ri.delete(this)}cancel(){this.state==="scheduled"&&(ri.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cj=t=>t.startsWith("--");function hj(t,e,n){cj(e)?t.style.setProperty(e,n):t.style[e]=n}const dj=Qy(()=>window.ScrollTimeline!==void 0),fj={};function pj(t,e){const n=Qy(t);return()=>fj[e]??n()}const AI=pj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Oa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,iE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oa([0,.65,.55,1]),circOut:Oa([.55,0,1,.45]),backIn:Oa([.31,.01,.66,-.59]),backOut:Oa([.33,1.53,.69,.99])};function PI(t,e){if(t)return typeof t=="function"?AI()?xI(t,e):"ease-out":fI(t)?Oa(t):Array.isArray(t)?t.map(n=>PI(n,e)||iE.easeOut):iE[t]}function mj(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[e]:n};l&&(h.offset=l);const d=PI(a,s);Array.isArray(d)&&(h.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(h,f)}function RI(t){return typeof t=="function"&&"applyToOptions"in t}function gj({type:t,...e}){return RI(t)&&AI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yj extends ov{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Gy(typeof e.type!="string");const u=gj(e);this.animation=mj(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=iv(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):hj(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return qn(Number(e))}get time(){return qn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&dj()?(this.animation.timeline=e,un):n(this)}}const CI={anticipate:uI,backInOut:lI,circInOut:hI};function vj(t){return t in CI}function wj(t){typeof t.ease=="string"&&vj(t.ease)&&(t.ease=CI[t.ease])}const oE=10;class _j extends yj{constructor(e){wj(e),SI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new av({...o,autoplay:!1}),l=Bn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-oE).value,a.sample(l).value,oE),a.stop()}}const aE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vs.test(t)||t==="0")&&!t.startsWith("url("));function Ej(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Tj(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=aE(s,e),a=aE(i,e);return!o||!a?!1:Ej(t)||(n==="spring"||RI(n))&&r}function uv(t){return tI(t)&&"offsetHeight"in t}const xj=new Set(["opacity","clipPath","filter","transform"]),kj=Qy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Sj(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!uv((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return kj()&&n&&xj.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const Ij=40;class bj extends ov{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...d}){var y;super(),this.stop=()=>{var x,S;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=zt.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:h,...d},m=(h==null?void 0:h.KeyframeResolver)||lv;this.keyframeResolver=new m(a,(x,S,w)=>this.onKeyframesResolved(x,S,f,!w),l,u,h),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=zt.now(),Tj(e,i,o,a)||((Ir.instantAnimations||!l)&&(h==null||h(iv(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Ij?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&Sj(f)?new _j({...f,element:f.motionValue.owner.current}):new av(f);m.finished.then(()=>this.notifyFinished()).catch(un),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),uj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Aj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pj(t){const e=Aj.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function NI(t,e,n=1){const[r,s]=Pj(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return eI(o)?parseFloat(o):o}return ev(s)?NI(s,e,n+1):s}function cv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const DI=new Set(["width","height","top","left","right","bottom",...Wo]),Rj={test:t=>t==="auto",parse:t=>t},OI=t=>e=>e.test(t),LI=[qo,Z,Wn,Fr,EL,_L,Rj],lE=t=>LI.find(OI(t));function Cj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nI(t):!0}const Nj=new Set(["brightness","contrast","saturate","opacity"]);function Dj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(tv)||[];if(!r)return t;const s=n.replace(r,"");let i=Nj.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Oj=/\b([a-z-]*)\(.*?\)/gu,Hm={...vs,getAnimatableNone:t=>{const e=t.match(Oj);return e?e.map(Dj).join(" "):t}},uE={...qo,transform:Math.round},Lj={rotate:Fr,rotateX:Fr,rotateY:Fr,rotateZ:Fr,scale:ic,scaleX:ic,scaleY:ic,scaleZ:ic,skew:Fr,skewX:Fr,skewY:Fr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Cl,originX:Y_,originY:Y_,originZ:Z},hv={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z,...Lj,zIndex:uE,fillOpacity:Cl,strokeOpacity:Cl,numOctaves:uE},jj={...hv,color:Be,backgroundColor:Be,outlineColor:Be,fill:Be,stroke:Be,borderColor:Be,borderTopColor:Be,borderRightColor:Be,borderBottomColor:Be,borderLeftColor:Be,filter:Hm,WebkitFilter:Hm},jI=t=>jj[t];function MI(t,e){let n=jI(t);return n!==Hm&&(n=vs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Mj=new Set(["auto","none","0"]);function Vj(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!Mj.has(i)&&Nl(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=MI(n,s)}class zj extends lv{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),ev(u))){const h=NI(u,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!DI.has(r)||e.length!==2)return;const[s,i]=e,o=lE(s),a=lE(i);if(o!==a)if(sE(o)&&sE(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ni[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Cj(e[s]))&&r.push(s);r.length&&Vj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ni[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ni[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Fj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const VI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,cE=30,$j=t=>!isNaN(parseFloat(t));class Uj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=zt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$j(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Yy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cE);return rI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Po(t,e){return new Uj(t,e)}const{schedule:dv}=pI(queueMicrotask,!1),_n={x:!1,y:!1};function zI(){return _n.x||_n.y}function Bj(t){return t==="x"||t==="y"?_n[t]?null:(_n[t]=!0,()=>{_n[t]=!1}):_n.x||_n.y?null:(_n.x=_n.y=!0,()=>{_n.x=_n.y=!1})}function FI(t,e){const n=Fj(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function hE(t){return!(t.pointerType==="touch"||zI())}function qj(t,e,n={}){const[r,s,i]=FI(t,n),o=a=>{if(!hE(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const h=d=>{hE(d)&&(u(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const $I=(t,e)=>e?t===e?!0:$I(t,e.parentElement):!1,fv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Wj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Hj(t){return Wj.has(t.tagName)||t.tabIndex!==-1}const jc=new WeakSet;function dE(t){return e=>{e.key==="Enter"&&t(e)}}function op(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Kj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=dE(()=>{if(jc.has(n))return;op(n,"down");const s=dE(()=>{op(n,"up")}),i=()=>op(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function fE(t){return fv(t)&&!zI()}function Gj(t,e,n={}){const[r,s,i]=FI(t,n),o=a=>{const l=a.currentTarget;if(!fE(a))return;jc.add(l);const u=e(l,a),h=(m,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),jc.has(l)&&jc.delete(l),fE(m)&&typeof u=="function"&&u(m,{success:y})},d=m=>{h(m,l===window||l===document||n.useGlobalTarget||$I(l,m.target))},f=m=>{h(m,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),uv(a)&&(a.addEventListener("focus",u=>Kj(u,s)),!Hj(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function UI(t){return tI(t)&&"ownerSVGElement"in t}function Qj(t){return UI(t)&&t.tagName==="svg"}const Et=t=>!!(t&&t.getVelocity),Yj=[...LI,Be,vs],Xj=t=>Yj.find(OI(t)),pv=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Jj extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=uv(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Zj({children:t,isPresent:e,anchorX:n,root:r}){const s=C.useId(),i=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=C.useContext(pv);return C.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:d,right:f}=o.current;if(e||!i.current||!l||!u)return;const m=n==="left"?`left: ${d}`:`right: ${f}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");a&&(y.nonce=a);const x=r??document.head;return x.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${h}px !important;
          }
        `),()=>{x.removeChild(y),x.contains(y)&&x.removeChild(y)}},[e]),v.jsx(Jj,{isPresent:e,childRef:i,sizeRef:o,children:C.cloneElement(t,{ref:i})})}const eM=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=qy(tM),h=C.useId();let d=!0,f=C.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:m=>{u.set(m,!0);for(const y of u.values())if(!y)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return i&&d&&(f={...f}),C.useMemo(()=>{u.forEach((m,y)=>u.set(y,!1))},[n]),C.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=v.jsx(Zj,{isPresent:n,anchorX:a,root:l,children:t})),v.jsx(wd.Provider,{value:f,children:t})};function tM(){return new Map}function BI(t=!0){const e=C.useContext(wd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=C.useId();C.useEffect(()=>{if(t)return s(i)},[t]);const o=C.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const oc=t=>t.key||"";function pE(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const nM=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,h]=BI(o),d=C.useMemo(()=>pE(t),[t]),f=o&&!u?[]:d.map(oc),m=C.useRef(!0),y=C.useRef(d),x=qy(()=>new Map),[S,w]=C.useState(d),[_,E]=C.useState(d);ZS(()=>{m.current=!1,y.current=d;for(let D=0;D<_.length;D++){const k=oc(_[D]);f.includes(k)?x.delete(k):x.get(k)!==!0&&x.set(k,!1)}},[_,f.length,f.join("-")]);const R=[];if(d!==S){let D=[...d];for(let k=0;k<_.length;k++){const T=_[k],b=oc(T);f.includes(b)||(D.splice(k,0,T),R.push(T))}return i==="wait"&&R.length&&(D=R),E(pE(D)),w(d),null}const{forceRender:O}=C.useContext(By);return v.jsx(v.Fragment,{children:_.map(D=>{const k=oc(D),T=o&&!u?!1:d===_||f.includes(k),b=()=>{if(x.has(k))x.set(k,!0);else return;let A=!0;x.forEach(N=>{N||(A=!1)}),A&&(O==null||O(),E(y.current),o&&(h==null||h()),r&&r())};return v.jsx(eM,{isPresent:T,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:T?void 0:b,anchorX:a,children:D},k)})})},qI=C.createContext({strict:!1}),mE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ro={};for(const t in mE)Ro[t]={isEnabled:e=>mE[t].some(n=>!!e[n])};function rM(t){for(const e in t)Ro[e]={...Ro[e],...t[e]}}const sM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sM.has(t)}let WI=t=>!Sh(t);function iM(t){typeof t=="function"&&(WI=e=>e.startsWith("on")?!Sh(e):t(e))}try{iM(require("@emotion/is-prop-valid").default)}catch{}function oM(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(WI(s)||n===!0&&Sh(s)||!e&&!Sh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function aM(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const _d=C.createContext({});function Ed(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Dl(t){return typeof t=="string"||Array.isArray(t)}const mv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gv=["initial",...mv];function Td(t){return Ed(t.animate)||gv.some(e=>Dl(t[e]))}function HI(t){return!!(Td(t)||t.variants)}function lM(t,e){if(Td(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Dl(n)?n:void 0,animate:Dl(r)?r:void 0}}return t.inherit!==!1?e:{}}function uM(t){const{initial:e,animate:n}=lM(t,C.useContext(_d));return C.useMemo(()=>({initial:e,animate:n}),[gE(e),gE(n)])}function gE(t){return Array.isArray(t)?t.join(" "):t}const cM=Symbol.for("motionComponentSymbol");function eo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hM(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):eo(n)&&(n.current=r))},[e])}const yv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dM="framerAppearId",KI="data-"+yv(dM),GI=C.createContext({});function fM(t,e,n,r,s){var x,S;const{visualElement:i}=C.useContext(_d),o=C.useContext(qI),a=C.useContext(wd),l=C.useContext(pv).reducedMotion,u=C.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,d=C.useContext(GI);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&pM(u.current,n,s,d);const f=C.useRef(!1);C.useInsertionEffect(()=>{h&&f.current&&h.update(n,a)});const m=n[KI],y=C.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return ZS(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),dv.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,m)}),y.current=!1))}),h}function pM(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&eo(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function QI(t){if(t)return t.options.allowProjection!==!1?t.projection:QI(t.parent)}function mM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&rM(t);function i(a,l){let u;const h={...C.useContext(pv),...a,layoutId:gM(a)},{isStatic:d}=h,f=uM(a),m=r(a,d);if(!d&&Wy){yM();const y=vM(h);u=y.MeasureLayout,f.visualElement=fM(s,m,h,e,y.ProjectionNode)}return v.jsxs(_d.Provider,{value:f,children:[u&&f.visualElement?v.jsx(u,{visualElement:f.visualElement,...h}):null,n(s,a,hM(m,f.visualElement,l),m,d,f.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=C.forwardRef(i);return o[cM]=s,o}function gM({layoutId:t}){const e=C.useContext(By).id;return e&&t!==void 0?e+"-"+t:t}function yM(t,e){C.useContext(qI).strict}function vM(t){const{drag:e,layout:n}=Ro;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ol={};function wM(t){for(const e in t)Ol[e]=t[e],Zy(e)&&(Ol[e].isCSSVariable=!0)}function YI(t,{layout:e,layoutId:n}){return Ho.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ol[t]||t==="opacity")}const _M={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EM=Wo.length;function TM(t,e,n){let r="",s=!0;for(let i=0;i<EM;i++){const o=Wo[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=VI(a,hv[o]);if(!l){s=!1;const h=_M[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function vv(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Ho.has(l)){o=!0;continue}else if(Zy(l)){s[l]=u;continue}else{const h=VI(u,hv[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=TM(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${u} ${h}`}}const wv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XI(t,e,n){for(const r in e)!Et(e[r])&&!YI(r,n)&&(t[r]=e[r])}function xM({transformTemplate:t},e){return C.useMemo(()=>{const n=wv();return vv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kM(t,e){const n=t.style||{},r={};return XI(r,n,t),Object.assign(r,xM(t,e)),r}function SM(t,e){const n={},r=kM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const IM={offset:"stroke-dashoffset",array:"stroke-dasharray"},bM={offset:"strokeDashoffset",array:"strokeDasharray"};function AM(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?IM:bM;t[i.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[i.array]=`${o} ${a}`}function JI(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,h){if(vv(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&AM(d,s,i,o,!1)}const ZI=()=>({...wv(),attrs:{}}),eb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PM(t,e,n,r){const s=C.useMemo(()=>{const i=ZI();return JI(i,e,eb(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};XI(i,t.style,t),s.style={...i,...s.style}}return s}const RM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _v(t){return typeof t!="string"||t.includes("-")?!1:!!(RM.indexOf(t)>-1||/[A-Z]/u.test(t))}function CM(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(_v(n)?PM:SM)(r,i,o,n),u=oM(r,typeof n=="string",t),h=n!==C.Fragment?{...u,...l,ref:s}:{},{children:d}=r,f=C.useMemo(()=>Et(d)?d.get():d,[d]);return C.createElement(n,{...h,children:f})}}function yE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ev(t,e,n,r){if(typeof e=="function"){const[s,i]=yE(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=yE(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Mc(t){return Et(t)?t.get():t}function NM({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:DM(n,r,s,t),renderState:e()}}const tb=t=>(e,n)=>{const r=C.useContext(_d),s=C.useContext(wd),i=()=>NM(t,e,r,s);return n?i():qy(i)};function DM(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Mc(i[f]);let{initial:o,animate:a}=t;const l=Td(t),u=HI(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!Ed(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const y=Ev(t,f[m]);if(y){const{transitionEnd:x,transition:S,...w}=y;for(const _ in w){let E=w[_];if(Array.isArray(E)){const R=h?E.length-1:0;E=E[R]}E!==null&&(s[_]=E)}for(const _ in x)s[_]=x[_]}}}return s}function Tv(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Et(r[o])||e.style&&Et(e.style[o])||YI(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const OM={useVisualState:tb({scrapeMotionValuesFromProps:Tv,createRenderState:wv})};function nb(t,e,n){const r=Tv(t,e,n);for(const s in t)if(Et(t[s])||Et(e[s])){const i=Wo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const LM={useVisualState:tb({scrapeMotionValuesFromProps:nb,createRenderState:ZI})};function jM(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={..._v(r)?LM:OM,preloadedFeatures:t,useRender:CM(s),createVisualElement:e,Component:r};return mM(o)}}function Ll(t,e,n){const r=t.getProps();return Ev(r,e,n!==void 0?n:r.custom,t)}const Km=t=>Array.isArray(t);function MM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Po(n))}function VM(t){return Km(t)?t[t.length-1]||0:t}function zM(t,e){const n=Ll(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=VM(i[o]);MM(t,o,a)}}function FM(t){return!!(Et(t)&&t.add)}function Gm(t,e){const n=t.getValue("willChange");if(FM(n))return n.add(e);if(!n&&Ir.WillChange){const r=new Ir.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function rb(t){return t.props[KI]}const $M=t=>t!==null;function UM(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter($M),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const BM={type:"spring",stiffness:500,damping:25,restSpeed:10},qM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WM={type:"keyframes",duration:.8},HM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KM=(t,{keyframes:e})=>e.length>2?WM:Ho.has(t)?t.startsWith("scale")?qM(e[1]):BM:HM;function GM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const xv=(t,e,n,r={},s,i)=>o=>{const a=cv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Bn(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};GM(a)||Object.assign(h,KM(t,h)),h.duration&&(h.duration=Bn(h.duration)),h.repeatDelay&&(h.repeatDelay=Bn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),(Ir.instantAnimations||Ir.skipAnimations)&&(d=!0,h.duration=0,h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!i&&e.get()!==void 0){const f=UM(h.keyframes,a);if(f!==void 0){Pe.update(()=>{h.onUpdate(f),h.onComplete()});return}}return a.isSync?new av(h):new bj(h)};function QM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sb(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const d=t.getValue(h,t.latestValues[h]??null),f=a[h];if(f===void 0||u&&QM(u,h))continue;const m={delay:n,...cv(i||{},h)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===y&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const w=rb(t);if(w){const _=window.MotionHandoffAnimation(w,h,Pe);_!==null&&(m.startTime=_,x=!0)}}Gm(t,h),d.start(xv(h,d,f,t.shouldReduceMotion&&DI.has(h)?{type:!1}:m,t,x));const S=d.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{Pe.update(()=>{o&&zM(t,o)})}),l}function Qm(t,e,n={}){var l;const r=Ll(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(sb(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return YM(t,e,u,h,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,h]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function YM(t,e,n=0,r=0,s=0,i=1,o){const a=[],l=t.variantChildren.size,u=(l-1)*s,h=typeof r=="function",d=h?f=>r(f,l):i===1?(f=0)=>f*s:(f=0)=>u-f*s;return Array.from(t.variantChildren).sort(XM).forEach((f,m)=>{f.notify("AnimationStart",e),a.push(Qm(f,e,{...o,delay:n+(h?0:r)+d(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function XM(t,e){return t.sortNodePosition(e)}function JM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Qm(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Qm(t,e,n);else{const s=typeof e=="function"?Ll(t,e,n.custom):e;r=Promise.all(sb(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function ib(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ZM=gv.length;function ob(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ob(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZM;n++){const r=gv[n],s=t.props[r];(Dl(s)||s===!1)&&(e[r]=s)}return e}const eV=[...mv].reverse(),tV=mv.length;function nV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JM(t,n,r)))}function rV(t){let e=nV(t),n=vE(),r=!0;const s=l=>(u,h)=>{var f;const d=Ll(t,h,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:y,...x}=d;u={...u,...x,...y}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,h=ob(t.parent)||{},d=[],f=new Set;let m={},y=1/0;for(let S=0;S<tV;S++){const w=eV[S],_=n[w],E=u[w]!==void 0?u[w]:h[w],R=Dl(E),O=w===l?_.isActive:null;O===!1&&(y=S);let D=E===h[w]&&E!==u[w]&&R;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),_.protectedKeys={...m},!_.isActive&&O===null||!E&&!_.prevProp||Ed(E)||typeof E=="boolean")continue;const k=sV(_.prevProp,E);let T=k||w===l&&_.isActive&&!D&&R||S>y&&R,b=!1;const A=Array.isArray(E)?E:[E];let N=A.reduce(s(w),{});O===!1&&(N={});const{prevResolvedValues:L={}}=_,P={...L,...N},G=re=>{T=!0,f.has(re)&&(b=!0,f.delete(re)),_.needsAnimating[re]=!0;const $=t.getValue(re);$&&($.liveStyle=!1)};for(const re in P){const $=N[re],Q=L[re];if(m.hasOwnProperty(re))continue;let Y=!1;Km($)&&Km(Q)?Y=!ib($,Q):Y=$!==Q,Y?$!=null?G(re):f.add(re):$!==void 0&&f.has(re)?G(re):_.protectedKeys[re]=!0}_.prevProp=E,_.prevResolvedValues=N,_.isActive&&(m={...m,...N}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(D&&k)||b)&&d.push(...A.map(re=>({animation:re,options:{type:w}})))}if(f.size){const S={};if(typeof u.initial!="boolean"){const w=Ll(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(S.transition=w.transition)}f.forEach(w=>{const _=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),S[w]=_??null}),d.push({animation:S})}let x=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=vE(),r=!0}}}function sV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ib(e,t):!1}function Vs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vE(){return{animate:Vs(!0),whileInView:Vs(),whileHover:Vs(),whileTap:Vs(),whileDrag:Vs(),whileFocus:Vs(),exit:Vs()}}class Ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iV extends Ps{constructor(e){super(e),e.animationState||(e.animationState=rV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ed(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let oV=0;class aV extends Ps{constructor(){super(...arguments),this.id=oV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lV={animation:{Feature:iV},exit:{Feature:aV}};function jl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function iu(t){return{point:{x:t.pageX,y:t.pageY}}}const uV=t=>e=>fv(e)&&t(e,iu(e));function Ja(t,e,n,r){return jl(t,e,uV(n),r)}function ab({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function cV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const lb=1e-4,dV=1-lb,fV=1+lb,ub=.01,pV=0-ub,mV=0+ub;function bt(t){return t.max-t.min}function gV(t,e,n){return Math.abs(t-e)<=n}function wE(t,e,n,r=.5){t.origin=r,t.originPoint=Ce(e.min,e.max,t.origin),t.scale=bt(n)/bt(e),t.translate=Ce(n.min,n.max,t.origin)-t.originPoint,(t.scale>=dV&&t.scale<=fV||isNaN(t.scale))&&(t.scale=1),(t.translate>=pV&&t.translate<=mV||isNaN(t.translate))&&(t.translate=0)}function Za(t,e,n,r){wE(t.x,e.x,n.x,r?r.originX:void 0),wE(t.y,e.y,n.y,r?r.originY:void 0)}function _E(t,e,n){t.min=n.min+e.min,t.max=t.min+bt(e)}function yV(t,e,n){_E(t.x,e.x,n.x),_E(t.y,e.y,n.y)}function EE(t,e,n){t.min=e.min-n.min,t.max=t.min+bt(e)}function el(t,e,n){EE(t.x,e.x,n.x),EE(t.y,e.y,n.y)}const TE=()=>({translate:0,scale:1,origin:0,originPoint:0}),to=()=>({x:TE(),y:TE()}),xE=()=>({min:0,max:0}),ze=()=>({x:xE(),y:xE()});function nn(t){return[t("x"),t("y")]}function ap(t){return t===void 0||t===1}function Ym({scale:t,scaleX:e,scaleY:n}){return!ap(t)||!ap(e)||!ap(n)}function Bs(t){return Ym(t)||cb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cb(t){return kE(t.x)||kE(t.y)}function kE(t){return t&&t!=="0%"}function Ih(t,e,n){const r=t-n,s=e*r;return n+s}function SE(t,e,n,r,s){return s!==void 0&&(t=Ih(t,s,r)),Ih(t,n,r)+e}function Xm(t,e=0,n=1,r,s){t.min=SE(t.min,e,n,r,s),t.max=SE(t.max,e,n,r,s)}function hb(t,{x:e,y:n}){Xm(t.x,e.translate,e.scale,e.originPoint),Xm(t.y,n.translate,n.scale,n.originPoint)}const IE=.999999999999,bE=1.0000000000001;function vV(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ro(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,hb(t,o)),r&&Bs(i.latestValues)&&ro(t,i.latestValues))}e.x<bE&&e.x>IE&&(e.x=1),e.y<bE&&e.y>IE&&(e.y=1)}function no(t,e){t.min=t.min+e,t.max=t.max+e}function AE(t,e,n,r,s=.5){const i=Ce(t.min,t.max,s);Xm(t,e,n,i,r)}function ro(t,e){AE(t.x,e.x,e.scaleX,e.scale,e.originX),AE(t.y,e.y,e.scaleY,e.scale,e.originY)}function db(t,e){return ab(hV(t.getBoundingClientRect(),e))}function wV(t,e,n){const r=db(t,n),{scroll:s}=e;return s&&(no(r.x,s.offset.x),no(r.y,s.offset.y)),r}const fb=({current:t})=>t?t.ownerDocument.defaultView:null,PE=(t,e)=>Math.abs(t-e);function _V(t,e){const n=PE(t.x,e.x),r=PE(t.y,e.y);return Math.sqrt(n**2+r**2)}class pb{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=up(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=_V(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!y)return;const{point:x}=f,{timestamp:S}=it;this.history.push({...x,timestamp:S});const{onStart:w,onMove:_}=this.handlers;m||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=lp(m,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=up(f.type==="pointercancel"?this.lastMoveEventInfo:lp(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,w),x&&x(f,w)},!fv(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=iu(e),l=lp(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=it;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,up(l,this.history)),this.removeListeners=nu(Ja(this.contextWindow,"pointermove",this.handlePointerMove),Ja(this.contextWindow,"pointerup",this.handlePointerUp),Ja(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ys(this.updatePoint)}}function lp(t,e){return e?{point:e(t.point)}:t}function RE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function up({point:t},e){return{point:t,delta:RE(t,mb(e)),offset:RE(t,EV(e)),velocity:TV(e,.1)}}function EV(t){return t[0]}function mb(t){return t[t.length-1]}function TV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=mb(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Bn(e)));)n--;if(!r)return{x:0,y:0};const i=qn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ce(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ce(n,t,r.max):Math.min(t,n)),t}function CE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kV(t,{top:e,left:n,bottom:r,right:s}){return{x:CE(t.x,n,s),y:CE(t.y,e,r)}}function NE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function SV(t,e){return{x:NE(t.x,e.x),y:NE(t.y,e.y)}}function IV(t,e){let n=.5;const r=bt(t),s=bt(e);return s>r?n=Rl(e.min,e.max-r,t.min):r>s&&(n=Rl(t.min,t.max-s,e.min)),Sr(0,1,n)}function bV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jm=.35;function AV(t=Jm){return t===!1?t=0:t===!0&&(t=Jm),{x:DE(t,"left","right"),y:DE(t,"top","bottom")}}function DE(t,e,n){return{min:OE(t,e),max:OE(t,n)}}function OE(t,e){return typeof t=="number"?t:t[e]||0}const PV=new WeakMap;class RV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(iu(d).point)},o=(d,f)=>{const{drag:m,dragPropagation:y,onDragStart:x}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bj(m),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(w=>{let _=this.getAxisMotionValue(w).get()||0;if(Wn.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const R=E.layout.layoutBox[w];R&&(_=bt(R)*(parseFloat(_)/100))}}this.originPoint[w]=_}),x&&Pe.postRender(()=>x(d,f)),Gm(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:x,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=f;if(y&&this.currentDirection===null){this.currentDirection=CV(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),S&&S(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>nn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new pb(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:fb(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Pe.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ac(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=xV(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&eo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=kV(r.layoutBox,e):this.constraints=!1,this.elastic=AV(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=bV(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!eo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=wV(r,s.root,this.visualElement.getTransformPagePoint());let o=SV(s.layout.layoutBox,i);if(n){const a=n(cV(o));this.hasMutatedConstraints=!!a,a&&(o=ab(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=nn(h=>{if(!ac(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(h,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Gm(this.visualElement,e),r.start(xv(e,r,0,n,this.visualElement,!1))}stopAnimation(){nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nn(n=>{const{drag:r}=this.getProps();if(!ac(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ce(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!eo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};nn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=IV({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nn(o=>{if(!ac(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ce(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;PV.set(this.visualElement,this);const e=this.visualElement.current,n=Ja(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();eo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Pe.read(r);const o=jl(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(nn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Jm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function ac(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class NV extends Ps{constructor(e){super(e),this.removeGroupControls=un,this.removeListeners=un,this.controls=new RV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||un}unmount(){this.removeGroupControls(),this.removeListeners()}}const LE=t=>(e,n)=>{t&&Pe.postRender(()=>t(e,n))};class DV extends Ps{constructor(){super(...arguments),this.removePointerDownListener=un}onPointerDown(e){this.session=new pb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:LE(e),onStart:LE(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Pe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ja(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=jE(t,e.target.x),r=jE(t,e.target.y);return`${n}% ${r}%`}},OV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=vs.parse(t);if(s.length>5)return r;const i=vs.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=Ce(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let ME=!1;class LV extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;wM(jV),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),ME&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Vc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,ME=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Pe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),dv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gb(t){const[e,n]=BI(),r=C.useContext(By);return v.jsx(LV,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(GI),isPresent:e,safeToRemove:n})}const jV={borderRadius:{...Sa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sa,borderTopRightRadius:Sa,borderBottomLeftRadius:Sa,borderBottomRightRadius:Sa,boxShadow:OV};function MV(t,e,n){const r=Et(t)?t:Po(t);return r.start(xv("",r,e,n)),r.animation}const VV=(t,e)=>t.depth-e.depth;class zV{constructor(){this.children=[],this.isDirty=!1}add(e){Hy(this.children,e),this.isDirty=!0}remove(e){Ky(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VV),this.isDirty=!1,this.children.forEach(e)}}function FV(t,e){const n=zt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ys(r),t(i-e))};return Pe.setup(r,!0),()=>ys(r)}const yb=["TopLeft","TopRight","BottomLeft","BottomRight"],$V=yb.length,VE=t=>typeof t=="string"?parseFloat(t):t,zE=t=>typeof t=="number"||Z.test(t);function UV(t,e,n,r,s,i){s?(t.opacity=Ce(0,n.opacity??1,BV(r)),t.opacityExit=Ce(e.opacity??1,0,qV(r))):i&&(t.opacity=Ce(e.opacity??1,n.opacity??1,r));for(let o=0;o<$V;o++){const a=`border${yb[o]}Radius`;let l=FE(e,a),u=FE(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||zE(l)===zE(u)?(t[a]=Math.max(Ce(VE(l),VE(u),r),0),(Wn.test(u)||Wn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ce(e.rotate||0,n.rotate||0,r))}function FE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const BV=vb(0,.5,cI),qV=vb(.5,.95,un);function vb(t,e,n){return r=>r<t?0:r>e?1:n(Rl(t,e,r))}function $E(t,e){t.min=e.min,t.max=e.max}function tn(t,e){$E(t.x,e.x),$E(t.y,e.y)}function UE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function BE(t,e,n,r,s){return t-=e,t=Ih(t,1/n,r),s!==void 0&&(t=Ih(t,1/s,r)),t}function WV(t,e=0,n=1,r=.5,s,i=t,o=t){if(Wn.test(e)&&(e=parseFloat(e),e=Ce(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ce(i.min,i.max,r);t===i&&(a-=e),t.min=BE(t.min,e,n,a,s),t.max=BE(t.max,e,n,a,s)}function qE(t,e,[n,r,s],i,o){WV(t,e[n],e[r],e[s],e.scale,i,o)}const HV=["x","scaleX","originX"],KV=["y","scaleY","originY"];function WE(t,e,n,r){qE(t.x,e,HV,n?n.x:void 0,r?r.x:void 0),qE(t.y,e,KV,n?n.y:void 0,r?r.y:void 0)}function HE(t){return t.translate===0&&t.scale===1}function wb(t){return HE(t.x)&&HE(t.y)}function KE(t,e){return t.min===e.min&&t.max===e.max}function GV(t,e){return KE(t.x,e.x)&&KE(t.y,e.y)}function GE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _b(t,e){return GE(t.x,e.x)&&GE(t.y,e.y)}function QE(t){return bt(t.x)/bt(t.y)}function YE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QV{constructor(){this.members=[]}add(e){Hy(this.members,e),e.scheduleRender()}remove(e){if(Ky(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YV(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const cp=["","X","Y","Z"],XV=1e3;let JV=0;function hp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Eb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Pe,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Eb(r)}function Tb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=JV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(t4),this.nodes.forEach(i4),this.nodes.forEach(o4),this.nodes.forEach(n4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new zV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UI(o)&&!Qj(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,d=0;const f=()=>this.root.updateBlockedByResize=!1;Pe.read(()=>{d=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==d&&(d=m,this.root.updateBlockedByResize=!0,h&&h(),h=FV(f,250),Vc.hasAnimatedSinceResize&&(Vc.hasAnimatedSinceResize=!1,this.nodes.forEach(ZE)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||h4,{onLayoutAnimationStart:x,onLayoutAnimationComplete:S}=u.getProps(),w=!this.targetLayout||!_b(this.targetLayout,m),_=!d&&f;if(this.options.layoutRoot||this.resumeFrom||_||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...cv(y,"layout"),onPlay:x,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,_)}else d||ZE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Eb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(JE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(s4),this.nodes.forEach(ZV),this.nodes.forEach(e4)):this.nodes.forEach(JE),this.clearAllSnapshots();const a=zt.now();it.delta=Sr(0,1e3/60,a-it.timestamp),it.timestamp=a,it.isProcessing=!0,tp.update.process(it),tp.preRender.process(it),tp.render.process(it),it.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r4),this.sharedNodes.forEach(l4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bt(this.snapshot.measuredBox.x)&&!bt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!wb(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Bs(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),d4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return ze();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(f4))){const{scroll:h}=this.root;h&&(no(a.x,h.offset.x),no(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=ze();if(tn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&tn(a,o),no(a.x,d.offset.x),no(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=ze();tn(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ro(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Bs(h.latestValues)&&ro(l,h.latestValues)}return Bs(this.latestValues)&&ro(l,this.latestValues),l}removeTransform(o){const a=ze();tn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Bs(u.latestValues))continue;Ym(u.latestValues)&&u.updateSnapshot();const h=ze(),d=u.measurePageBox();tn(h,d),WE(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Bs(this.latestValues)&&WE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==it.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=it.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),el(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tn(this.target,this.layout.layoutBox),hb(this.target,this.targetDelta)):tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),el(this.relativeTargetOrigin,this.target,m.target),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ym(this.parent.latestValues)||cb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===it.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;tn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;vV(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ze());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UE(this.prevProjectionDelta.x,this.projectionDelta.x),UE(this.prevProjectionDelta.y,this.projectionDelta.y)),Za(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!YE(this.projectionDelta.x,this.prevProjectionDelta.x)||!YE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=to(),this.projectionDelta=to(),this.projectionDeltaWithTransform=to()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=to();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ze(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,S=this.getStack(),w=!S||S.members.length<=1,_=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(c4));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const O=R/1e3;e1(d.x,o.x,O),e1(d.y,o.y,O),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(el(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),u4(this.relativeTarget,this.relativeTargetOrigin,f,O),E&&GV(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ze()),tn(E,this.relativeTarget)),x&&(this.animationValues=h,UV(h,u,this.latestValues,O,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{Vc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Po(0)),this.currentAnimation=MV(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&xb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ze();const d=bt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=bt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}tn(a,l),ro(a,h),Za(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new QV),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&hp("z",o,u,this.animationValues);for(let h=0;h<cp.length;h++)hp(`rotate${cp[h]}`,o,u,this.animationValues),hp(`skew${cp[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Mc(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Mc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Bs(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=YV(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),o.transform=d;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Ol){if(h[y]===void 0)continue;const{correct:x,applyTo:S,isCSSVariable:w}=Ol[y],_=d==="none"?h[y]:x(h[y],u);if(S){const E=S.length;for(let R=0;R<E;R++)o[S[R]]=_}else w?this.options.visualElement.renderState.vars[y]=_:o[y]=_}this.options.layoutId&&(o.pointerEvents=u===this?Mc(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(XE),this.root.sharedNodes.clear()}}}function ZV(t){t.updateLayout()}function e4(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?nn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],m=bt(f);f.min=r[d].min,f.max=f.min+m}):xb(i,e.layoutBox,r)&&nn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],m=bt(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=to();Za(a,r,e.layoutBox);const l=to();o?Za(l,t.applyTransform(s,!0),e.measuredBox):Za(l,r,e.layoutBox);const u=!wb(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const y=ze();el(y,e.layoutBox,f.layoutBox);const x=ze();el(x,r,m.layoutBox),_b(y,x)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function t4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function n4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function r4(t){t.clearSnapshot()}function XE(t){t.clearMeasurements()}function JE(t){t.isLayoutDirty=!1}function s4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ZE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function i4(t){t.resolveTargetDelta()}function o4(t){t.calcProjection()}function a4(t){t.resetSkewAndRotation()}function l4(t){t.removeLeadSnapshot()}function e1(t,e,n){t.translate=Ce(e.translate,0,n),t.scale=Ce(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function t1(t,e,n,r){t.min=Ce(e.min,n.min,r),t.max=Ce(e.max,n.max,r)}function u4(t,e,n,r){t1(t.x,e.x,n.x,r),t1(t.y,e.y,n.y,r)}function c4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const h4={duration:.45,ease:[.4,0,.1,1]},n1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),r1=n1("applewebkit/")&&!n1("chrome/")?Math.round:un;function s1(t){t.min=r1(t.min),t.max=r1(t.max)}function d4(t){s1(t.x),s1(t.y)}function xb(t,e,n){return t==="position"||t==="preserve-aspect"&&!gV(QE(e),QE(n),.2)}function f4(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const p4=Tb({attachResizeListener:(t,e)=>jl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dp={current:void 0},kb=Tb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dp.current){const t=new p4({});t.mount(window),t.setOptions({layoutScroll:!0}),dp.current=t}return dp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),m4={pan:{Feature:DV},drag:{Feature:NV,ProjectionNode:kb,MeasureLayout:gb}};function i1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Pe.postRender(()=>i(e,iu(e)))}class g4 extends Ps{mount(){const{current:e}=this.node;e&&(this.unmount=qj(e,(n,r)=>(i1(this.node,r,"Start"),s=>i1(this.node,s,"End"))))}unmount(){}}class y4 extends Ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nu(jl(this.node.current,"focus",()=>this.onFocus()),jl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function o1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Pe.postRender(()=>i(e,iu(e)))}class v4 extends Ps{mount(){const{current:e}=this.node;e&&(this.unmount=Gj(e,(n,r)=>(o1(this.node,r,"Start"),(s,{success:i})=>o1(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zm=new WeakMap,fp=new WeakMap,w4=t=>{const e=Zm.get(t.target);e&&e(t)},_4=t=>{t.forEach(w4)};function E4({root:t,...e}){const n=t||document;fp.has(n)||fp.set(n,{});const r=fp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(_4,{root:t,...e})),r[s]}function T4(t,e,n){const r=E4(e);return Zm.set(t,n),r.observe(t),()=>{Zm.delete(t),r.unobserve(t)}}const x4={some:0,all:1};class k4 extends Ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:x4[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(l)};return T4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(S4(e,n))&&this.startObserver()}unmount(){}}function S4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const I4={inView:{Feature:k4},tap:{Feature:v4},focus:{Feature:y4},hover:{Feature:g4}},b4={layout:{ProjectionNode:kb,MeasureLayout:gb}},eg={current:null},Sb={current:!1};function A4(){if(Sb.current=!0,!!Wy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>eg.current=t.matches;t.addEventListener("change",e),e()}else eg.current=!1}const P4=new WeakMap;function R4(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Et(s))t.addValue(r,s);else if(Et(i))t.addValue(r,Po(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Po(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const a1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class C4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=zt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Pe.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Td(n),this.isVariantNode=HI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&Et(m)&&m.set(l[f],!1)}}mount(e){this.current=e,P4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Sb.current||A4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:eg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ys(this.notifyUpdate),ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ho.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ro){const n=Ro[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<a1.length;r++){const s=a1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=R4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Po(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(eI(r)||nI(r))?r=parseFloat(r):!Xj(r)&&vs.test(n)&&(r=MI(e,n)),this.setBaseTarget(e,Et(r)?r.get():r)),Et(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Ev(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Et(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Yy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Ib extends C4{constructor(){super(...arguments),this.KeyframeResolver=zj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bb(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function N4(t){return window.getComputedStyle(t)}class D4 extends Ib{constructor(){super(...arguments),this.type="html",this.renderInstance=bb}readValueFromInstance(e,n){var r;if(Ho.has(n))return(r=this.projection)!=null&&r.isProjecting?$m(n):sj(e,n);{const s=N4(e),i=(Zy(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return db(e,n)}build(e,n,r){vv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Tv(e,n,r)}}const Ab=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function O4(t,e,n,r){bb(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Ab.has(s)?s:yv(s),e.attrs[s])}class L4 extends Ib{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ho.has(n)){const r=jI(n);return r&&r.default||0}return n=Ab.has(n)?n:yv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return nb(e,n,r)}build(e,n,r){JI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){O4(e,n,r,s)}mount(e){this.isSVGTag=eb(e.tagName),super.mount(e)}}const j4=(t,e)=>_v(t)?new L4(e):new D4(e,{allowProjection:t!==C.Fragment}),M4=jM({...lV,...I4,...m4,...b4},j4),or=aM(M4),V4=()=>{const[t,e]=C.useState(1),n=[{id:1,title:"Sesja Zapoznawcza",description:"Bezpatna rozmowa poznawcza, w ktrej omwimy Twoje cele i wyzwania. To pierwszy krok do zrozumienia Twoich potrzeb i oczekiwa."},{id:2,title:"Plan dziaania",description:"Wsplnie tworzymy spersonalizowany plan rozwoju dostosowany do Twoich potrzeb. Okrelamy konkretne cele i metody ich osignicia."},{id:3,title:"Regularne sesje",description:"Systematyczne spotkania, podczas ktrych pracujemy nad realizacj celw. Monitorujemy postpy i dostosowujemy strategie dziaania."},{id:4,title:"Rezultaty",description:"Monitorujemy postpy i celebrujemy osignite sukcesy. Ewaluujemy efekty i planujemy dalszy rozwj."}],r=()=>{e(o=>o<n.length?o+1:o)},s=()=>{e(o=>o>1?o-1:o)},i=o=>{e(o)};return v.jsx("section",{id:"proces",className:"py-24 bg-white dark:bg-gray-900 flex items-center justify-center min-h-screen",children:v.jsxs("div",{className:"container mx-auto px-6 max-w-5xl flex flex-col items-center",children:[v.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 dark:text-white mb-16 text-center tracking-wide",children:"Jak pracujemy"}),v.jsxs("div",{className:"w-full max-w-4xl bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-gray-700 overflow-hidden mx-auto",children:[v.jsx("div",{className:"flex items-center justify-center p-8 bg-gray-50 dark:bg-gray-800",children:v.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-6 space-y-6 sm:space-y-0 w-full max-w-3xl mx-auto",children:n.map((o,a)=>v.jsx(Nx.Fragment,{children:v.jsxs("div",{className:"hidden sm:flex flex-col items-center",children:[v.jsx(or.div,{className:"relative cursor-pointer flex items-center justify-center",onClick:()=>i(o.id),whileHover:{scale:1.1},whileTap:{scale:.95},children:v.jsx(or.div,{className:`w-20 h-20 rounded-full flex items-center justify-center font-extrabold text-3xl transition-all duration-300 shadow-2xl border-4 ${t===o.id?"bg-blue-600 text-white border-blue-400 shadow-blue-400/40":t>o.id?"bg-green-600 text-white border-green-400 shadow-green-400/40":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 border-gray-300 dark:border-gray-600 shadow-gray-400/20"}`,initial:!1,animate:{scale:t===o.id?1.12:1},transition:{duration:.3},children:t>o.id?v.jsx("span",{className:"absolute left-0 top-0 w-full h-full flex items-center justify-center",children:v.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):v.jsx("span",{className:"absolute left-0 top-0 w-full h-full flex items-center justify-center",children:o.id})})}),a<n.length-1&&v.jsx("div",{className:"w-1 h-16 sm:w-16 sm:h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden flex-shrink-0 mx-auto",children:v.jsx(or.div,{className:"bg-gradient-to-b sm:bg-gradient-to-r from-blue-500 to-green-500 rounded-full",initial:{width:"0%",height:"0%"},animate:typeof window<"u"&&window.innerWidth<640?{height:t>o.id?"100%":"0%"}:{width:t>o.id?"100%":"0%"},style:{width:"100%",height:"100%"},transition:{duration:.5,ease:"easeInOut"}})})]})},o.id))})}),v.jsx("div",{className:"relative h-96 overflow-hidden flex items-center justify-center",children:v.jsx(nM,{mode:"wait",children:v.jsx(or.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5,ease:"easeInOut"},className:"absolute inset-0 flex items-center justify-center p-12",children:v.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[v.jsx(or.h3,{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:n[t-1].title}),v.jsx(or.p,{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:n[t-1].description})]})},t)})}),v.jsx("div",{className:"flex justify-center items-center p-8 bg-gray-50 dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700",children:v.jsxs("div",{className:"flex justify-between items-center w-full max-w-2xl mx-auto",children:[v.jsx(or.button,{onClick:s,disabled:t===1,className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${t===1?"text-gray-400 cursor-not-allowed":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,whileHover:t!==1?{scale:1.05}:{},whileTap:t!==1?{scale:.95}:{},children:" Wstecz"}),v.jsx("div",{className:"flex justify-center space-x-2",children:n.map(o=>v.jsx(or.div,{className:`w-2 h-2 rounded-full transition-all duration-300 ${t===o.id?"bg-blue-600 w-8":"bg-gray-300 dark:bg-gray-600"}`,onClick:()=>i(o.id),whileHover:{scale:1.2},style:{cursor:"pointer"}},o.id))}),t!==n.length&&v.jsx(or.button,{onClick:r,className:"px-6 py-3 rounded-full font-medium transition-all duration-300 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Dalej "})]})})]})]})})},z4=()=>v.jsx("section",{id:"historie-sukcesu",className:"py-20 md:py-32 bg-slate-100 dark:bg-gray-900",children:v.jsxs("div",{className:"container mx-auto px-6",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white",children:"HISTORIE SUKCESU"}),v.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto text-slate-600 dark:text-slate-300",children:"Zobacz, jak moi klienci osignli swoje cele i przeszli transformacj dziki naszej wsppracy."})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:YO.map((t,e)=>v.jsxs("div",{className:"group relative overflow-hidden rounded-lg shadow-lg h-72",children:[v.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),v.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6",children:[v.jsx("h3",{className:"text-white text-xl font-bold transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:t.title}),v.jsx("p",{className:"text-accent-dark text-sm transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 delay-100",children:t.category})]})]},e))})]})}),F4=({rating:t})=>v.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,n)=>v.jsx("svg",{className:`w-5 h-5 ${n<t?"text-yellow-400":"text-gray-300 dark:text-gray-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},n))}),$4=()=>{const[t,e]=C.useState(0),n=C.useCallback(()=>{const o=t===0?rc.length-1:t-1;e(o)},[t]),r=C.useCallback(()=>{const o=t===rc.length-1?0:t+1;e(o)},[t]),s=i=>{e(i)};return v.jsx("section",{id:"opinie",className:"py-20 md:py-32 bg-white dark:bg-gray-800/50",children:v.jsxs("div",{className:"container mx-auto px-6",children:[v.jsx("div",{className:"text-center mb-12",children:v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-white",children:"OPINIE KLIENTW"})}),v.jsxs("div",{className:"relative max-w-3xl mx-auto h-80 md:h-72",children:[v.jsx("div",{className:"overflow-hidden h-full relative",children:rc.map((i,o)=>v.jsx("div",{className:"absolute inset-0 transition-opacity duration-700 ease-in-out",style:{opacity:o===t?1:0},children:v.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full p-4",children:[v.jsx(F4,{rating:i.stars}),v.jsxs("blockquote",{className:"mt-4 text-lg md:text-xl italic text-slate-700 dark:text-slate-300",children:['"',i.quote,'"']}),v.jsxs("div",{className:"mt-6",children:[v.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:i.author}),v.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[i.role," | ",i.date]})]})]})},o))}),v.jsx("button",{onClick:n,className:"absolute top-1/2 -translate-y-1/2 left-0 md:-left-16 p-2 rounded-full bg-slate-100/50 dark:bg-gray-700/50 hover:bg-slate-200 dark:hover:bg-gray-600 transition",children:v.jsx("svg",{className:"w-6 h-6 text-slate-700 dark:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),v.jsx("button",{onClick:r,className:"absolute top-1/2 -translate-y-1/2 right-0 md:-right-16 p-2 rounded-full bg-slate-100/50 dark:bg-gray-700/50 hover:bg-slate-200 dark:hover:bg-gray-600 transition",children:v.jsx("svg",{className:"w-6 h-6 text-slate-700 dark:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})}),v.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 flex space-x-2",children:rc.map((i,o)=>v.jsx("button",{onClick:()=>s(o),className:`w-3 h-3 rounded-full transition ${t===o?"bg-accent":"bg-slate-300 dark:bg-gray-600 hover:bg-slate-400"}`},o))})]})]})})},U4=()=>{const t=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})});return v.jsx("section",{id:"lokalizacja",className:"py-24 bg-gray-50 dark:bg-gray-800",children:v.jsxs("div",{className:"container mx-auto px-6 lg:px-8 max-w-6xl",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 dark:text-white mb-6",children:"Lokalizacja"}),v.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed",children:["Gabinet coachingowy ukasza Pietrzyka",v.jsx("br",{}),"Jana III Sobieskiego 28",v.jsx("br",{}),"41-100 Siemianowice lskie"]})]}),v.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[v.jsx("div",{className:"relative h-96 rounded-3xl overflow-hidden shadow-2xl",children:v.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5097.157959287116!2d19.01924807577167!3d50.29978649820157!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4716d1ece7f859a9%3A0x37f4bc03ac0d7ed6!2sJana%20III%20Sobieskiego%2028%2C%2041-100%20Siemianowice%20%C5%9Al%C4%85skie!5e0!3m2!1spl!2spl!4v1751882662252!5m2!1spl!2spl",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Lokalizacja Gabinetu",className:"w-full h-full"})}),v.jsxs("div",{className:"space-y-10",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Informacje o lokalizacji"}),v.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-6 shadow-lg",children:v.jsxs("div",{className:"flex items-start space-x-4",children:[v.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:v.jsx(t,{})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:"Jana III Sobieskiego 28"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"41-100 Siemianowice lskie"})]})]})})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Udogodnienia"}),v.jsx("div",{className:"space-y-4",children:XO.features.map((n,r)=>v.jsxs("div",{className:"flex items-center space-x-4 bg-white dark:bg-gray-700 rounded-xl p-4 shadow-sm",children:[v.jsx(e,{}),v.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:n})]},r))})]})]})]}),v.jsx("div",{className:"mt-20 text-center",children:v.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-3xl p-12 shadow-2xl max-w-4xl mx-auto",children:[v.jsx("h3",{className:"text-3xl font-semibold text-gray-900 dark:text-white mb-6",children:"Zaplanuj spotkanie"}),v.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Skontaktuj si ze mn, aby umwi spotkanie w moim gabinecie lub online."}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[v.jsx("a",{href:"/spotkanie",className:"inline-flex items-center px-10 py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Umw spotkanie"}),v.jsx("a",{href:"tel:+48723262802",className:"inline-flex items-center px-10 py-4 border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white font-semibold rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Zadzwo teraz"})]})]})})]})})},l1=({children:t,className:e="",spotlightColor:n="rgba(255, 255, 255, 0.25)"})=>{const r=C.useRef(null),s=i=>{if(!r.current)return;const o=r.current.getBoundingClientRect(),a=i.clientX-o.left,l=i.clientY-o.top;r.current.style.setProperty("--mouse-x",`${a}px`),r.current.style.setProperty("--mouse-y",`${l}px`),r.current.style.setProperty("--spotlight-color",n)};return v.jsx("div",{ref:r,onMouseMove:s,className:`card-spotlight ${e}`,children:t})},B4=()=>v.jsx("section",{id:"kontakt",className:"py-24 bg-white dark:bg-gray-900",children:v.jsxs("div",{className:"container mx-auto px-6 text-center max-w-2xl",children:[v.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-blue-800 dark:text-blue-300 mb-6",children:"Kontakt"}),v.jsxs("p",{className:"text-lg md:text-xl text-gray-700 dark:text-gray-200 mb-10 max-w-xl mx-auto leading-relaxed",children:["Skontaktuj si ze mn i umw na ",v.jsx("a",{href:"/spotkanie",className:"font-semibold text-blue-700 dark:text-blue-400 underline hover:text-blue-900 dark:hover:text-blue-200 transition-colors",children:"spotkanie"}),".",v.jsx("br",{}),"Razem zdefiniujemy Twoje cele i zaplanujemy pierwsze kroki."]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-8 justify-center items-center mb-12",children:[v.jsx("div",{className:"w-full md:w-1/2",children:v.jsx(l1,{spotlightColor:"rgba(0, 229, 255, 0.2)",children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h3",{className:"text-xl font-semibold text-blue-900 dark:text-blue-200 mb-1",children:"Telefon"}),v.jsx("a",{href:"tel:+48723262802",className:"text-lg text-blue-700 dark:text-blue-400 font-medium hover:underline px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 min-w-[260px] text-center",style:{minWidth:"260px",display:"inline-block"},children:"723 262 802"})]})})}),v.jsx("div",{className:"w-full md:w-1/2",children:v.jsx(l1,{spotlightColor:"rgba(0, 229, 255, 0.2)",children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h3",{className:"text-xl font-semibold text-blue-900 dark:text-blue-200 mb-1",children:"E-mail"}),v.jsx("a",{href:"mailto:lukaszpietrzyk@icloud.com",className:"text-lg text-blue-700 dark:text-blue-400 font-medium hover:underline break-all px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 min-w-[260px] text-center",style:{minWidth:"260px",display:"inline-block"},children:"lukaszpietrzyk@icloud.com"})]})})})]})]})}),q4=()=>{const{theme:t,toggleTheme:e}=JS();return v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),v.jsxs("button",{onClick:e,className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent ${t==="dark"?"bg-accent":"bg-gray-300"}`,children:[v.jsx("span",{className:"sr-only",children:"Toggle theme"}),v.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${t==="dark"?"translate-x-6":"translate-x-1"}`})]}),v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})]})},Ml=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(!1),s=a=>{a.preventDefault(),t&&(r(!0),console.log("Newsletter signup:",t),e(""),setTimeout(()=>r(!1),3e3))},i=a=>{a.preventDefault(),document.getElementById("hero")&&window.scrollTo({top:0,behavior:"smooth"})},o=[{name:"Twitter",href:"#",icon:v.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})},{name:"Facebook",href:"https://www.facebook.com/profile.php?id=100085046965466",icon:v.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})},{name:"Instagram",href:"#",icon:v.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.013-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427C2.013 14.784 2 14.43 2 12s.013-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.48 3.69c.636-.247 1.363-.416 2.427-.465C8.93 3.013 9.284 3 12 3h.315zM12 6.375c-3.105 0-5.625 2.52-5.625 5.625s2.52 5.625 5.625 5.625 5.625-2.52 5.625-5.625S15.105 6.375 12 6.375zm0 9.375c-2.071 0-3.75-1.679-3.75-3.75s1.679-3.75 3.75-3.75 3.75 1.679 3.75 3.75-1.679 3.75-3.75 3.75zm4.875-9.75a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z",clipRule:"evenodd"})})},{name:"LinkedIn",href:"https://www.linkedin.com/in/%C5%82ukasz-pietrzyk-0ba654211/?originalSubdomain=pl",icon:v.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}];return v.jsx("footer",{className:"bg-slate-100 dark:bg-gray-900 border-t border-slate-200 dark:border-gray-700",children:v.jsx("div",{className:"container mx-auto px-6 py-12",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[v.jsx(Om,{onClick:i}),v.jsxs("p",{className:"mt-4 text-sm text-slate-500 dark:text-slate-400",children:[" ",new Date().getFullYear()," ukasz Pietrzyk. Wszelkie prawa zastrzeone."]})]}),v.jsx("div",{className:"flex flex-col items-center md:items-start",children:v.jsxs("div",{className:"w-full max-w-sm",children:[v.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white mb-2",children:"Newsletter"}),v.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Otrzymuj porady z zakresu coachingu."}),n?v.jsx("div",{className:"text-center py-2",children:v.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm",children:" Dzikujemy za zapisanie si!"})}):v.jsxs("form",{onSubmit:s,className:"flex",children:[v.jsx("input",{type:"email",value:t,onChange:a=>e(a.target.value),placeholder:"Twj e-mail",required:!0,className:"flex-1 px-3 py-2 text-sm bg-white dark:bg-gray-800 border border-slate-300 dark:border-gray-600 rounded-l-md focus:outline-none focus:border-accent"}),v.jsx("button",{type:"submit",className:"bg-accent hover:bg-accent-dark text-white px-4 py-2 text-sm rounded-r-md transition-colors",children:"Zapisz si"})]})]})}),v.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[v.jsx("div",{className:"flex space-x-4",children:o.map(a=>v.jsxs("a",{href:a.href,target:a.href!=="#"?"_blank":"_self",rel:a.href!=="#"?"noopener noreferrer":void 0,className:"text-slate-500 hover:text-accent dark:text-slate-400 dark:hover:text-accent-dark transition",children:[v.jsx("span",{className:"sr-only",children:a.name}),a.icon]},a.name))}),v.jsx("div",{className:"mt-6",children:v.jsx(q4,{})})]})]})})})};function W4(){const t=Nr();return C.useEffect(()=>{if(t.state&&t.state.scrollTo){const e=t.state.scrollTo,n=e.startsWith("#")?e.substring(1):"";setTimeout(()=>{const r=n?document.getElementById(n):null;if(r){const s=document.querySelector("header"),i=s?s.offsetHeight:70,a=r.getBoundingClientRect().top+window.scrollY-i;window.scrollTo({top:a,behavior:"smooth"})}},100)}},[t]),v.jsxs(v.Fragment,{children:[v.jsx(Ao,{}),v.jsxs("main",{children:[v.jsx(ZO,{}),v.jsx(eL,{}),v.jsx(tL,{}),v.jsx(V4,{}),v.jsx(z4,{}),v.jsx($4,{}),v.jsx(U4,{}),v.jsx(B4,{})]}),v.jsx(Ml,{})]})}var H4=1e-6,Rt=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function K4(){var t=new Rt(9);return Rt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function vn(){var t=new Rt(16);return Rt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function G4(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function u1(t,e){var n=e[0],r=e[1],s=e[2],i=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],d=e[9],f=e[10],m=e[11],y=e[12],x=e[13],S=e[14],w=e[15],_=n*a-r*o,E=n*l-s*o,R=n*u-i*o,O=r*l-s*a,D=r*u-i*a,k=s*u-i*l,T=h*x-d*y,b=h*S-f*y,A=h*w-m*y,N=d*S-f*x,L=d*w-m*x,P=f*w-m*S,G=_*P-E*L+R*N+O*A-D*b+k*T;return G?(G=1/G,t[0]=(a*P-l*L+u*N)*G,t[1]=(s*L-r*P-i*N)*G,t[2]=(x*k-S*D+w*O)*G,t[3]=(f*D-d*k-m*O)*G,t[4]=(l*A-o*P-u*b)*G,t[5]=(n*P-s*A+i*b)*G,t[6]=(S*R-y*k-w*E)*G,t[7]=(h*k-f*R+m*E)*G,t[8]=(o*L-a*A+u*T)*G,t[9]=(r*A-n*L-i*T)*G,t[10]=(y*D-x*R+w*_)*G,t[11]=(d*R-h*D-m*_)*G,t[12]=(a*b-o*N-l*T)*G,t[13]=(n*N-r*b+s*T)*G,t[14]=(x*E-y*O-S*_)*G,t[15]=(h*O-d*E+f*_)*G,t):null}function lc(t,e,n){var r=e[0],s=e[1],i=e[2],o=e[3],a=e[4],l=e[5],u=e[6],h=e[7],d=e[8],f=e[9],m=e[10],y=e[11],x=e[12],S=e[13],w=e[14],_=e[15],E=n[0],R=n[1],O=n[2],D=n[3];return t[0]=E*r+R*a+O*d+D*x,t[1]=E*s+R*l+O*f+D*S,t[2]=E*i+R*u+O*m+D*w,t[3]=E*o+R*h+O*y+D*_,E=n[4],R=n[5],O=n[6],D=n[7],t[4]=E*r+R*a+O*d+D*x,t[5]=E*s+R*l+O*f+D*S,t[6]=E*i+R*u+O*m+D*w,t[7]=E*o+R*h+O*y+D*_,E=n[8],R=n[9],O=n[10],D=n[11],t[8]=E*r+R*a+O*d+D*x,t[9]=E*s+R*l+O*f+D*S,t[10]=E*i+R*u+O*m+D*w,t[11]=E*o+R*h+O*y+D*_,E=n[12],R=n[13],O=n[14],D=n[15],t[12]=E*r+R*a+O*d+D*x,t[13]=E*s+R*l+O*f+D*S,t[14]=E*i+R*u+O*m+D*w,t[15]=E*o+R*h+O*y+D*_,t}function c1(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Q4(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Y4(t,e,n,r,s){var i=1/Math.tan(e/2),o;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,s!=null&&s!==1/0?(o=1/(r-s),t[10]=(s+r)*o,t[14]=2*s*r*o):(t[10]=-1,t[14]=-2*r),t}var X4=Y4;function h1(t,e,n,r){var s=e[0],i=e[1],o=e[2],a=r[0],l=r[1],u=r[2],h=s-n[0],d=i-n[1],f=o-n[2],m=h*h+d*d+f*f;m>0&&(m=1/Math.sqrt(m),h*=m,d*=m,f*=m);var y=l*f-u*d,x=u*h-a*f,S=a*d-l*h;return m=y*y+x*x+S*S,m>0&&(m=1/Math.sqrt(m),y*=m,x*=m,S*=m),t[0]=y,t[1]=x,t[2]=S,t[3]=0,t[4]=d*S-f*x,t[5]=f*y-h*S,t[6]=h*x-d*y,t[7]=0,t[8]=h,t[9]=d,t[10]=f,t[11]=0,t[12]=s,t[13]=i,t[14]=o,t[15]=1,t}function Sn(){var t=new Rt(3);return Rt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function J4(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function ls(t,e,n){var r=new Rt(3);return r[0]=t,r[1]=e,r[2]=n,r}function Z4(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function e3(t,e){var n=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return n*n+r*r+s*s}function t3(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function ho(t,e){var n=e[0],r=e[1],s=e[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function kv(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function zc(t,e,n){var r=e[0],s=e[1],i=e[2],o=n[0],a=n[1],l=n[2];return t[0]=s*l-i*a,t[1]=i*o-r*l,t[2]=r*a-s*o,t}function pp(t,e,n){var r=n[0],s=n[1],i=n[2],o=n[3],a=e[0],l=e[1],u=e[2],h=s*u-i*l,d=i*a-r*u,f=r*l-s*a,m=s*f-i*d,y=i*h-r*f,x=r*d-s*h,S=o*2;return h*=S,d*=S,f*=S,m*=2,y*=2,x*=2,t[0]=a+h+m,t[1]=l+d+y,t[2]=u+f+x,t}var n3=J4;(function(){var t=Sn();return function(e,n,r,s,i,o){var a,l;for(n||(n=3),r||(r=0),s?l=Math.min(s*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],i(t,t,o),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}})();function r3(){var t=new Rt(4);return Rt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function s3(t,e){var n=e[0],r=e[1],s=e[2],i=e[3],o=n*n+r*r+s*s+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=s*o,t[3]=i*o,t}(function(){var t=r3();return function(e,n,r,s,i,o){var a,l;for(n||(n=4),r||(r=0),s?l=Math.min(s*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],i(t,t,o),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}})();function Vn(){var t=new Rt(4);return Rt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Pb(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function d1(t,e,n){var r=e[0],s=e[1],i=e[2],o=e[3],a=n[0],l=n[1],u=n[2],h=n[3];return t[0]=r*h+o*a+s*u-i*l,t[1]=s*h+o*l+i*a-r*u,t[2]=i*h+o*u+r*l-s*a,t[3]=o*h-r*a-s*l-i*u,t}function fo(t,e,n,r){var s=e[0],i=e[1],o=e[2],a=e[3],l=n[0],u=n[1],h=n[2],d=n[3],f,m,y,x,S;return m=s*l+i*u+o*h+a*d,m<0&&(m=-m,l=-l,u=-u,h=-h,d=-d),1-m>H4?(f=Math.acos(m),y=Math.sin(f),x=Math.sin((1-r)*f)/y,S=Math.sin(r*f)/y):(x=1-r,S=r),t[0]=x*s+S*l,t[1]=x*i+S*u,t[2]=x*o+S*h,t[3]=x*a+S*d,t}function i3(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function o3(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var s=0;e[4]>e[0]&&(s=1),e[8]>e[s*3+s]&&(s=2);var i=(s+1)%3,o=(s+2)%3;r=Math.sqrt(e[s*3+s]-e[i*3+i]-e[o*3+o]+1),t[s]=.5*r,r=.5/r,t[3]=(e[i*3+o]-e[o*3+i])*r,t[i]=(e[i*3+s]+e[s*3+i])*r,t[o]=(e[o*3+s]+e[s*3+o])*r}return t}var bh=s3;(function(){var t=Sn(),e=ls(1,0,0),n=ls(0,1,0);return function(r,s,i){var o=kv(s,i);return o<-.999999?(zc(t,e,s),n3(t)<1e-6&&zc(t,n,s),ho(t,t),Pb(r,t,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(zc(t,s,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+o,bh(r,r))}})();(function(){var t=Vn(),e=Vn();return function(n,r,s,i,o,a){return fo(t,r,o,a),fo(e,s,i,a),fo(n,t,e,2*a*(1-a)),n}})();(function(){var t=K4();return function(e,n,r,s){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=s[0],t[4]=s[1],t[7]=s[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],bh(e,o3(e,t))}})();function po(){var t=new Rt(2);return Rt!=Float32Array&&(t[0]=0,t[1]=0),t}function a3(t){var e=new Rt(2);return e[0]=t[0],e[1]=t[1],e}function l3(t,e){var n=new Rt(2);return n[0]=t,n[1]=e,n}function f1(t,e){return t[0]=e[0],t[1]=e[1],t}function tg(t,e,n){return t[0]=e,t[1]=n,t}function u3(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function c3(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function h3(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function d3(t){var e=t[0],n=t[1];return e*e+n*n}var f3=c3,p3=d3;(function(){var t=po();return function(e,n,r,s,i,o){var a,l;for(n||(n=2),r||(r=0),s?l=Math.min(s*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],i(t,t,o),e[a]=t[0],e[a+1]=t[1];return e}})();const m3=`#version 300 es

uniform mat4 uWorldMatrix;
uniform mat4 uViewMatrix;
uniform mat4 uProjectionMatrix;
uniform vec3 uCameraPosition;
uniform vec4 uRotationAxisVelocity;

in vec3 aModelPosition;
in vec3 aModelNormal;
in vec2 aModelUvs;
in mat4 aInstanceMatrix;

out vec2 vUvs;
out float vAlpha;
flat out int vInstanceId;

#define PI 3.141593

void main() {
    vec4 worldPosition = uWorldMatrix * aInstanceMatrix * vec4(aModelPosition, 1.);

    vec3 centerPos = (uWorldMatrix * aInstanceMatrix * vec4(0., 0., 0., 1.)).xyz;
    float radius = length(centerPos.xyz);

    if (gl_VertexID > 0) {
        vec3 rotationAxis = uRotationAxisVelocity.xyz;
        float rotationVelocity = min(.15, uRotationAxisVelocity.w * 15.);
        vec3 stretchDir = normalize(cross(centerPos, rotationAxis));
        vec3 relativeVertexPos = normalize(worldPosition.xyz - centerPos);
        float strength = dot(stretchDir, relativeVertexPos);
        float invAbsStrength = min(0., abs(strength) - 1.);
        strength = rotationVelocity * sign(strength) * abs(invAbsStrength * invAbsStrength * invAbsStrength + 1.);
        worldPosition.xyz += stretchDir * strength;
    }

    worldPosition.xyz = radius * normalize(worldPosition.xyz);

    gl_Position = uProjectionMatrix * uViewMatrix * worldPosition;

    vAlpha = smoothstep(0.5, 1., normalize(worldPosition.xyz).z) * .9 + .1;
    vUvs = aModelUvs;
    vInstanceId = gl_InstanceID;
}
`,g3=`#version 300 es
precision highp float;

uniform sampler2D uTex;
uniform int uItemCount;
uniform int uAtlasSize;

out vec4 outColor;

in vec2 vUvs;
in float vAlpha;
flat in int vInstanceId;

void main() {
    int itemIndex = vInstanceId % uItemCount;
    int cellsPerRow = uAtlasSize;
    int cellX = itemIndex % cellsPerRow;
    int cellY = itemIndex / cellsPerRow;
    vec2 cellSize = vec2(1.0) / vec2(float(cellsPerRow));
    vec2 cellOffset = vec2(float(cellX), float(cellY)) * cellSize;

    ivec2 texSize = textureSize(uTex, 0);
    float imageAspect = float(texSize.x) / float(texSize.y);
    float containerAspect = 1.0;
    
    float scale = max(imageAspect / containerAspect, 
                     containerAspect / imageAspect);
    
    vec2 st = vec2(vUvs.x, 1.0 - vUvs.y);
    st = (st - 0.5) * scale + 0.5;
    
    st = clamp(st, 0.0, 1.0);
    
    st = st * cellSize + cellOffset;
    
    outColor = texture(uTex, st);
    outColor.a *= vAlpha;
}
`;class Ia{constructor(e,n,r){B(this,"a");B(this,"b");B(this,"c");this.a=e,this.b=n,this.c=r}}class y3{constructor(e,n,r){B(this,"position");B(this,"normal");B(this,"uv");this.position=ls(e,n,r),this.normal=Sn(),this.uv=po()}}class Rb{constructor(){B(this,"vertices",[]);B(this,"faces",[])}addVertex(...e){for(let n=0;n<e.length;n+=3)this.vertices.push(new y3(e[n],e[n+1],e[n+2]));return this}addFace(...e){for(let n=0;n<e.length;n+=3)this.faces.push(new Ia(e[n],e[n+1],e[n+2]));return this}get lastVertex(){return this.vertices[this.vertices.length-1]}subdivide(e=1){const n={};let r=this.faces;for(let s=0;s<e;++s){const i=new Array(r.length*4);r.forEach((o,a)=>{const l=this.getMidPoint(o.a,o.b,n),u=this.getMidPoint(o.b,o.c,n),h=this.getMidPoint(o.c,o.a,n),d=a*4;i[d+0]=new Ia(o.a,l,h),i[d+1]=new Ia(o.b,u,l),i[d+2]=new Ia(o.c,h,u),i[d+3]=new Ia(l,u,h)}),r=i}return this.faces=r,this}spherize(e=1){return this.vertices.forEach(n=>{ho(n.normal,n.position),Z4(n.position,n.normal,e)}),this}get data(){return{vertices:this.vertexData,indices:this.indexData,normals:this.normalData,uvs:this.uvData}}get vertexData(){return new Float32Array(this.vertices.flatMap(e=>Array.from(e.position)))}get normalData(){return new Float32Array(this.vertices.flatMap(e=>Array.from(e.normal)))}get uvData(){return new Float32Array(this.vertices.flatMap(e=>Array.from(e.uv)))}get indexData(){return new Uint16Array(this.faces.flatMap(e=>[e.a,e.b,e.c]))}getMidPoint(e,n,r){const s=e<n?`k_${n}_${e}`:`k_${e}_${n}`;if(Object.prototype.hasOwnProperty.call(r,s))return r[s];const i=this.vertices[e].position,o=this.vertices[n].position,a=this.vertices.length;return r[s]=a,this.addVertex((i[0]+o[0])*.5,(i[1]+o[1])*.5,(i[2]+o[2])*.5),a}}class v3 extends Rb{constructor(){super();const e=Math.sqrt(5)*.5+.5;this.addVertex(-1,e,0,1,e,0,-1,-e,0,1,-e,0,0,-1,e,0,1,e,0,-1,-e,0,1,-e,e,0,-1,e,0,1,-e,0,-1,-e,0,1).addFace(0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1)}}class w3 extends Rb{constructor(e=4,n=1){super(),e=Math.max(4,e);const r=2*Math.PI/e;this.addVertex(0,0,0),this.lastVertex.uv[0]=.5,this.lastVertex.uv[1]=.5;for(let s=0;s<e;++s){const i=Math.cos(r*s),o=Math.sin(r*s);this.addVertex(n*i,n*o,0),this.lastVertex.uv[0]=i*.5+.5,this.lastVertex.uv[1]=o*.5+.5,s>0&&this.addFace(0,s,s+1)}this.addFace(0,e,1)}}function _3(t,e,n){const r=t.createShader(e);return r?(t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.error(t.getShaderInfoLog(r)),t.deleteShader(r),null)):null}function E3(t,e,n,r){const s=t.createProgram();if(!s)return null;if([t.VERTEX_SHADER,t.FRAGMENT_SHADER].forEach((o,a)=>{const l=_3(t,o,e[a]);l&&t.attachShader(s,l)}),r)for(const o in r)t.bindAttribLocation(s,r[o],o);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?s:(console.error(t.getProgramInfoLog(s)),t.deleteProgram(s),null)}function T3(t,e,n){const r=t.createVertexArray();t.bindVertexArray(r);for(const[s,i,o]of e)i!==-1&&(t.bindBuffer(t.ARRAY_BUFFER,s),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,o,t.FLOAT,!1,0,0));if(n){const s=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),t.STATIC_DRAW)}return t.bindVertexArray(null),r}function x3(t){const e=Math.min(2,window.devicePixelRatio),n=Math.round(t.clientWidth*e),r=Math.round(t.clientHeight*e),s=t.width!==n||t.height!==r;return s&&(t.width=n,t.height=r),s}function p1(t,e,n){const r=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,e,n),t.bindBuffer(t.ARRAY_BUFFER,null),r}function k3(t,e,n,r,s){const i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n),i}class S3{constructor(e,n){B(this,"isPointerDown",!1);B(this,"orientation",Vn());B(this,"pointerRotation",Vn());B(this,"rotationVelocity",0);B(this,"rotationAxis",ls(1,0,0));B(this,"snapDirection",ls(0,0,-1));B(this,"snapTargetDirection",null);B(this,"EPSILON",.1);B(this,"IDENTITY_QUAT",Vn());B(this,"pointerPos");B(this,"previousPointerPos");B(this,"_rotationVelocity",0);B(this,"_combinedQuat",Vn());B(this,"canvas");B(this,"updateCallback");this.canvas=e,this.updateCallback=n||(()=>null),this.pointerPos=po(),this.previousPointerPos=po(),e.addEventListener("pointerdown",r=>{tg(this.pointerPos,r.clientX,r.clientY),f1(this.previousPointerPos,this.pointerPos),this.isPointerDown=!0}),e.addEventListener("pointerup",()=>{this.isPointerDown=!1}),e.addEventListener("pointerleave",()=>{this.isPointerDown=!1}),e.addEventListener("pointermove",r=>{this.isPointerDown&&tg(this.pointerPos,r.clientX,r.clientY)}),e.style.touchAction="none"}update(e,n=16){const r=e/n+1e-5;let s=r,i=Vn();if(this.isPointerDown){const f=.3*r,m=5/r,y=f3(po(),this.pointerPos,this.previousPointerPos);if(h3(y,y,f),p3(y)>this.EPSILON){u3(y,this.previousPointerPos,y);const x=this.project(y),S=this.project(this.previousPointerPos),w=ho(Sn(),x),_=ho(Sn(),S);f1(this.previousPointerPos,y),s*=m,this.quatFromVectors(w,_,this.pointerRotation,s)}else fo(this.pointerRotation,this.pointerRotation,this.IDENTITY_QUAT,f)}else{const f=.1*r;if(fo(this.pointerRotation,this.pointerRotation,this.IDENTITY_QUAT,f),this.snapTargetDirection){const y=this.snapTargetDirection,x=this.snapDirection,S=e3(y,x),w=Math.max(.1,1-S*10);s*=.2*w,this.quatFromVectors(y,x,i,s)}}const o=d1(Vn(),i,this.pointerRotation);this.orientation=d1(Vn(),o,this.orientation),bh(this.orientation,this.orientation);const a=.8*r;fo(this._combinedQuat,this._combinedQuat,o,a),bh(this._combinedQuat,this._combinedQuat);const l=Math.acos(this._combinedQuat[3])*2,u=Math.sin(l/2);let h=0;u>1e-6&&(h=l/(2*Math.PI),this.rotationAxis[0]=this._combinedQuat[0]/u,this.rotationAxis[1]=this._combinedQuat[1]/u,this.rotationAxis[2]=this._combinedQuat[2]/u);const d=.5*r;this._rotationVelocity+=(h-this._rotationVelocity)*d,this.rotationVelocity=this._rotationVelocity/r,this.updateCallback(e)}quatFromVectors(e,n,r,s=1){const i=zc(Sn(),e,n);ho(i,i);const o=Math.max(-1,Math.min(1,kv(e,n))),a=Math.acos(o)*s;return Pb(r,i,a),{q:r,axis:i,angle:a}}project(e){const r=this.canvas.clientWidth,s=this.canvas.clientHeight,i=Math.max(r,s)-1,o=(2*e[0]-r-1)/i,a=(2*e[1]-s-1)/i;let l=0;const u=o*o+a*a,h=2*2;return u<=h/2?l=Math.sqrt(h-u):l=h/Math.sqrt(u),ls(-o,a,l)}}class I3{constructor(e,n,r,s,i){B(this,"TARGET_FRAME_DURATION",1e3/60);B(this,"SPHERE_RADIUS",2);B(this,"time",0);B(this,"deltaTime",0);B(this,"deltaFrames",0);B(this,"frames",0);B(this,"camera",{matrix:vn(),near:.1,far:40,fov:Math.PI/4,aspect:1,position:ls(0,0,3),up:ls(0,1,0),matrices:{view:vn(),projection:vn(),inversProjection:vn()}});B(this,"nearestVertexIndex",null);B(this,"smoothRotationVelocity",0);B(this,"scaleFactor",1);B(this,"movementActive",!1);B(this,"canvas");B(this,"items");B(this,"onActiveItemChange");B(this,"onMovementChange");B(this,"gl");B(this,"viewportSize");B(this,"drawBufferSize");B(this,"discProgram");B(this,"discLocations");B(this,"discGeo");B(this,"discBuffers");B(this,"discVAO");B(this,"icoGeo");B(this,"instancePositions");B(this,"DISC_INSTANCE_COUNT");B(this,"discInstances");B(this,"worldMatrix");B(this,"tex");B(this,"atlasSize");B(this,"control");this.canvas=e,this.items=n||[],this.onActiveItemChange=r||(()=>{}),this.onMovementChange=s||(()=>{}),this.init(i)}resize(){this.viewportSize=tg(this.viewportSize||po(),this.canvas.clientWidth,this.canvas.clientHeight);const e=this.gl;x3(this.canvas)&&e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),this.updateProjectionMatrix(e)}run(e=0){this.deltaTime=Math.min(32,e-this.time),this.time=e,this.deltaFrames=this.deltaTime/this.TARGET_FRAME_DURATION,this.frames+=this.deltaFrames,this.animate(this.deltaTime),this.render(),requestAnimationFrame(n=>this.run(n))}init(e){this.gl=this.canvas.getContext("webgl2",{antialias:!0,alpha:!1});const n=this.gl;if(!n)throw new Error("No WebGL 2 context!");this.viewportSize=l3(this.canvas.clientWidth,this.canvas.clientHeight),this.drawBufferSize=a3(this.viewportSize),this.discProgram=E3(n,[m3,g3],void 0,{aModelPosition:0,aModelNormal:1,aModelUvs:2,aInstanceMatrix:3}),this.discLocations={aModelPosition:n.getAttribLocation(this.discProgram,"aModelPosition"),aModelUvs:n.getAttribLocation(this.discProgram,"aModelUvs"),aInstanceMatrix:n.getAttribLocation(this.discProgram,"aInstanceMatrix"),uWorldMatrix:n.getUniformLocation(this.discProgram,"uWorldMatrix"),uViewMatrix:n.getUniformLocation(this.discProgram,"uViewMatrix"),uProjectionMatrix:n.getUniformLocation(this.discProgram,"uProjectionMatrix"),uCameraPosition:n.getUniformLocation(this.discProgram,"uCameraPosition"),uScaleFactor:n.getUniformLocation(this.discProgram,"uScaleFactor"),uRotationAxisVelocity:n.getUniformLocation(this.discProgram,"uRotationAxisVelocity"),uTex:n.getUniformLocation(this.discProgram,"uTex"),uFrames:n.getUniformLocation(this.discProgram,"uFrames"),uItemCount:n.getUniformLocation(this.discProgram,"uItemCount"),uAtlasSize:n.getUniformLocation(this.discProgram,"uAtlasSize")},this.discGeo=new w3(56,1),this.discBuffers=this.discGeo.data,this.discVAO=T3(n,[[p1(n,this.discBuffers.vertices,n.STATIC_DRAW),this.discLocations.aModelPosition,3],[p1(n,this.discBuffers.uvs,n.STATIC_DRAW),this.discLocations.aModelUvs,2]],this.discBuffers.indices),this.icoGeo=new v3,this.icoGeo.subdivide(1).spherize(this.SPHERE_RADIUS),this.instancePositions=this.icoGeo.vertices.map(r=>r.position),this.DISC_INSTANCE_COUNT=this.icoGeo.vertices.length,this.initDiscInstances(this.DISC_INSTANCE_COUNT),this.worldMatrix=vn(),this.initTexture(),this.control=new S3(this.canvas,r=>this.onControlUpdate(r)),this.updateCameraMatrix(),this.updateProjectionMatrix(n),this.resize(),e&&e(this)}initTexture(){const e=this.gl;this.tex=k3(e,e.LINEAR,e.LINEAR,e.CLAMP_TO_EDGE,e.CLAMP_TO_EDGE);const n=Math.max(1,this.items.length);this.atlasSize=Math.ceil(Math.sqrt(n));const r=document.createElement("canvas"),s=r.getContext("2d"),i=512;r.width=this.atlasSize*i,r.height=this.atlasSize*i,Promise.all(this.items.map(o=>new Promise(a=>{const l=new Image;l.crossOrigin="anonymous",l.onload=()=>a(l),l.src=o.image}))).then(o=>{o.forEach((a,l)=>{const u=l%this.atlasSize*i,h=Math.floor(l/this.atlasSize)*i;s.drawImage(a,u,h,i,i)}),e.bindTexture(e.TEXTURE_2D,this.tex),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.generateMipmap(e.TEXTURE_2D)})}initDiscInstances(e){const n=this.gl;this.discInstances={matricesArray:new Float32Array(e*16),matrices:[],buffer:n.createBuffer()};for(let i=0;i<e;++i){const o=new Float32Array(this.discInstances.matricesArray.buffer,i*16*4,16);o.set(vn()),this.discInstances.matrices.push(o)}n.bindVertexArray(this.discVAO),n.bindBuffer(n.ARRAY_BUFFER,this.discInstances.buffer),n.bufferData(n.ARRAY_BUFFER,this.discInstances.matricesArray.byteLength,n.DYNAMIC_DRAW);const r=4,s=16*4;for(let i=0;i<r;++i){const o=this.discLocations.aInstanceMatrix+i;n.enableVertexAttribArray(o),n.vertexAttribPointer(o,4,n.FLOAT,!1,s,i*4*4),n.vertexAttribDivisor(o,1)}n.bindBuffer(n.ARRAY_BUFFER,null),n.bindVertexArray(null)}animate(e){const n=this.gl;this.control.update(e,this.TARGET_FRAME_DURATION);let r=this.instancePositions.map(o=>pp(Sn(),o,this.control.orientation));const s=.25,i=.6;r.forEach((o,a)=>{const u=(Math.abs(o[2])/this.SPHERE_RADIUS*i+(1-i))*s,h=vn();lc(h,h,c1(vn(),t3(Sn(),o))),lc(h,h,h1(vn(),[0,0,0],o,[0,1,0])),lc(h,h,Q4(vn(),[u,u,u])),lc(h,h,c1(vn(),[0,0,-this.SPHERE_RADIUS])),G4(this.discInstances.matrices[a],h)}),n.bindBuffer(n.ARRAY_BUFFER,this.discInstances.buffer),n.bufferSubData(n.ARRAY_BUFFER,0,this.discInstances.matricesArray),n.bindBuffer(n.ARRAY_BUFFER,null),this.smoothRotationVelocity=this.control.rotationVelocity}render(){const e=this.gl;e.useProgram(this.discProgram),e.enable(e.CULL_FACE),e.enable(e.DEPTH_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.uniformMatrix4fv(this.discLocations.uWorldMatrix,!1,this.worldMatrix),e.uniformMatrix4fv(this.discLocations.uViewMatrix,!1,this.camera.matrices.view),e.uniformMatrix4fv(this.discLocations.uProjectionMatrix,!1,this.camera.matrices.projection),e.uniform3f(this.discLocations.uCameraPosition,this.camera.position[0],this.camera.position[1],this.camera.position[2]),e.uniform4f(this.discLocations.uRotationAxisVelocity,this.control.rotationAxis[0],this.control.rotationAxis[1],this.control.rotationAxis[2],this.smoothRotationVelocity*1.1),e.uniform1i(this.discLocations.uItemCount,this.items.length),e.uniform1i(this.discLocations.uAtlasSize,this.atlasSize),e.uniform1f(this.discLocations.uFrames,this.frames),e.uniform1f(this.discLocations.uScaleFactor,this.scaleFactor),e.uniform1i(this.discLocations.uTex,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.tex),e.bindVertexArray(this.discVAO),e.drawElementsInstanced(e.TRIANGLES,this.discBuffers.indices.length,e.UNSIGNED_SHORT,0,this.DISC_INSTANCE_COUNT)}updateCameraMatrix(){h1(this.camera.matrix,this.camera.position,[0,0,0],this.camera.up),u1(this.camera.matrices.view,this.camera.matrix)}updateProjectionMatrix(e){this.camera.aspect=this.canvas.clientWidth/this.canvas.clientHeight;const n=this.SPHERE_RADIUS*.35,r=this.camera.position[2];this.camera.aspect>1?this.camera.fov=2*Math.atan(n/r):this.camera.fov=2*Math.atan(n/this.camera.aspect/r),X4(this.camera.matrices.projection,this.camera.fov,this.camera.aspect,this.camera.near,this.camera.far),u1(this.camera.matrices.inversProjection,this.camera.matrices.projection)}onControlUpdate(e){const n=e/this.TARGET_FRAME_DURATION+1e-4;let r=5/n,s=3;const i=this.control.isPointerDown||Math.abs(this.smoothRotationVelocity)>.01;if(i!==this.movementActive&&(this.movementActive=i,this.onMovementChange(i)),this.control.isPointerDown)s+=this.control.rotationVelocity*80+2.5,r=7/n;else{const o=this.findNearestVertexIndex(),a=o%Math.max(1,this.items.length);this.onActiveItemChange(a);const l=ho(Sn(),this.getVertexWorldPosition(o));this.control.snapTargetDirection=l}this.camera.position[2]+=(s-this.camera.position[2])/r,this.updateCameraMatrix()}findNearestVertexIndex(){const e=this.control.snapDirection,n=i3(Vn(),this.control.orientation),r=pp(Sn(),e,n);let s=-1,i=0;for(let o=0;o<this.instancePositions.length;++o){const a=kv(r,this.instancePositions[o]);a>s&&(s=a,i=o)}return i}getVertexWorldPosition(e){const n=this.instancePositions[e];return pp(Sn(),n,this.control.orientation)}}const b3=[{image:"https://picsum.photos/900/900?grayscale",link:"https://google.com/",title:"",description:""}];function A3({items:t=[]}){const e=C.useRef(null),[n,r]=C.useState(null),[s,i]=C.useState(!1);C.useEffect(()=>{const a=e.current;let l=null;const u=d=>{const f=d%t.length;r(t[f])};a&&(l=new I3(a,t.length?t:b3,u,i,d=>d.run()));const h=()=>{l&&l.resize()};return window.addEventListener("resize",h),h(),()=>{window.removeEventListener("resize",h)}},[t]);const o=()=>{n!=null&&n.link&&(n.link.startsWith("http")?window.open(n.link,"_blank"):console.log("Internal route:",n.link))};return v.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[v.jsx("canvas",{id:"infinite-grid-menu-canvas",ref:e}),n&&v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:`face-title ${s?"inactive":"active"}`,children:n.title}),v.jsxs("p",{className:`face-description ${s?"inactive":"active"}`,children:[" ",n.description]}),v.jsx("div",{onClick:o,className:`action-button ${s?"inactive":"active"}`,children:v.jsx("p",{className:"action-button-icon",children:""})})]})]})}const P3=()=>{const{theme:t}=JS(),e=[{image:"https://picsum.photos/800/800?random=1&grayscale",link:"https://linkedin.com/in/lukaszpietrzyk",title:"LinkedIn",description:"Professional networking"},{image:"https://picsum.photos/800/800?random=2&grayscale",link:"#kontakt",title:"Contact",description:"Get in touch"},{image:"https://picsum.photos/800/800?random=3&grayscale",link:"#o-mnie",title:"About",description:"Learn more about me"},{image:"https://picsum.photos/800/800?random=4&grayscale",link:"#uslugi",title:"Services",description:"What I offer"},{image:"https://picsum.photos/800/800?random=5&grayscale",link:"#jak-pracujemy",title:"Process",description:"How we work"},{image:"https://picsum.photos/800/800?random=6&grayscale",link:"#historie-sukcesu",title:"Success Stories",description:"Client achievements"}];return v.jsxs("div",{className:`min-h-screen bg-slate-50 dark:bg-gray-900 transition-colors duration-300 ${t==="dark"?"dark":""}`,children:[v.jsx(Ao,{}),v.jsx("main",{className:"pt-20",children:v.jsxs("div",{className:"container mx-auto px-6 py-12",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h1",{className:"text-4xl md:text-5xl font-light text-slate-800 dark:text-white mb-6",children:"Infinite Menu Test"}),v.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:"Eksperymentalne menu 3D z interaktywnymi elementami. Przecignij, aby obraca i eksplorowa."})]}),v.jsx("div",{className:"relative mx-auto bg-black rounded-lg overflow-hidden shadow-2xl",style:{height:"600px",maxWidth:"800px"},children:v.jsx(A3,{items:e})}),v.jsx("div",{className:"text-center mt-8",children:v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Przecignij mysz lub palcem, aby obraca menu. Kliknij przycisk, aby przej do wybranej sekcji."})})]})})]})},R3="modulepreload",C3=function(t){return"/"+t},m1={},ou=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=C3(l),l in m1)return;m1[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":R3,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},N3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ou(async()=>{const{default:r}=await Promise.resolve().then(()=>Ko);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Sv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class D3 extends Sv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class g1 extends Sv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class y1 extends Sv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ng;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ng||(ng={}));var O3=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{u(r.next(h))}catch(d){o(d)}}function l(h){try{u(r.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class L3{constructor(e,{headers:n={},customFetch:r,region:s=ng.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=N3(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return O3(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:h}).catch(x=>{throw new D3(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new g1(d);if(!d.ok)throw new y1(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof y1||s instanceof g1?s.context:void 0}}})}}var jt={},Iv={},xd={},au={},kd={},Sd={},j3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Co=j3();const M3=Co.fetch,Cb=Co.fetch.bind(Co),Nb=Co.Headers,V3=Co.Request,z3=Co.Response,Ko=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nb,Request:V3,Response:z3,default:Cb,fetch:M3},Symbol.toStringTag,{value:"Module"})),F3=$C(Ko);var Id={};Object.defineProperty(Id,"__esModule",{value:!0});let $3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Id.default=$3;var Db=hn&&hn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sd,"__esModule",{value:!0});const U3=Db(F3),B3=Db(Id);let q3=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=U3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,h=null,d=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=w:h=JSON.parse(w))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&S&&S.length>1&&(d=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,f=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(h=[],u=null,f=200,m="OK")}catch{i.status===404&&x===""?(f=204,m="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new B3.default(u)}return{error:u,data:h,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Sd.default=q3;var W3=hn&&hn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kd,"__esModule",{value:!0});const H3=W3(Sd);let K3=class extends H3.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};kd.default=K3;var G3=hn&&hn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(au,"__esModule",{value:!0});const Q3=G3(kd);let Y3=class extends Q3.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};au.default=Y3;var X3=hn&&hn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xd,"__esModule",{value:!0});const ba=X3(au);let J3=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ba.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ba.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new ba.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ba.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ba.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xd.default=J3;var bd={},Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});Ad.version=void 0;Ad.version="0.0.0-automated";Object.defineProperty(bd,"__esModule",{value:!0});bd.DEFAULT_HEADERS=void 0;const Z3=Ad;bd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Z3.version}`};var Ob=hn&&hn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Iv,"__esModule",{value:!0});const ez=Ob(xd),tz=Ob(au),nz=bd;let rz=class Lb{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},nz.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new ez.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Lb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([h,d])=>d!==void 0).map(([h,d])=>[h,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([h,d])=>{a.searchParams.append(h,d)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new tz.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Iv.default=rz;var Go=hn&&hn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jt,"__esModule",{value:!0});jt.PostgrestError=jt.PostgrestBuilder=jt.PostgrestTransformBuilder=jt.PostgrestFilterBuilder=jt.PostgrestQueryBuilder=jt.PostgrestClient=void 0;const jb=Go(Iv);jt.PostgrestClient=jb.default;const Mb=Go(xd);jt.PostgrestQueryBuilder=Mb.default;const Vb=Go(au);jt.PostgrestFilterBuilder=Vb.default;const zb=Go(kd);jt.PostgrestTransformBuilder=zb.default;const Fb=Go(Sd);jt.PostgrestBuilder=Fb.default;const $b=Go(Id);jt.PostgrestError=$b.default;var sz=jt.default={PostgrestClient:jb.default,PostgrestQueryBuilder:Mb.default,PostgrestFilterBuilder:Vb.default,PostgrestTransformBuilder:zb.default,PostgrestBuilder:Fb.default,PostgrestError:$b.default};const{PostgrestClient:iz,PostgrestQueryBuilder:CW,PostgrestFilterBuilder:NW,PostgrestTransformBuilder:DW,PostgrestBuilder:OW,PostgrestError:LW}=sz;function oz(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const az=oz(),lz="2.11.15",uz=`realtime-js/${lz}`,cz="1.0.0",Ub=1e4,hz=1e3;var tl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(tl||(tl={}));var yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yt||(yt={}));var xn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xn||(xn={}));var rg;(function(t){t.websocket="websocket"})(rg||(rg={}));var Hs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Hs||(Hs={}));class dz{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Bb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(we||(we={}));const v1=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=fz(o,t,e,s),i),{})},fz=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?qb(i,o):sg(o)},qb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return yz(e,n)}switch(t){case we.bool:return pz(e);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return mz(e);case we.json:case we.jsonb:return gz(e);case we.timestamp:return vz(e);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return sg(e);default:return sg(e)}},sg=t=>t,pz=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mz=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},gz=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},yz=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>qb(e,a))}return t},vz=t=>typeof t=="string"?t.replace(" ","T"):t,Wb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class mp{constructor(e,n,r={},s=Ub){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var w1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(w1||(w1={}));class nl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=nl.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=nl.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,h)=>{o[u]||(l[u]=h)}),this.map(o,(u,h)=>{const d=i[u];if(d){const f=h.map(S=>S.presence_ref),m=d.map(S=>S.presence_ref),y=h.filter(S=>m.indexOf(S.presence_ref)<0),x=d.filter(S=>f.indexOf(S.presence_ref)<0);y.length>0&&(a[u]=y),x.length>0&&(l[u]=x)}else a[u]=h}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const h=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),h.length>0){const d=e[a].map(m=>m.presence_ref),f=h.filter(m=>d.indexOf(m.presence_ref)<0);e[a].unshift(...f)}r(a,h,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const h=l.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_1||(_1={}));var E1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(E1||(E1={}));var ur;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class bv{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mp(this,xn.join,this.params,this.timeout),this.rejoinTimer=new Bb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new nl(this),this.broadcastEndpointURL=Wb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(h=>e==null?void 0:e(ur.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(ur.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var d;if(this.socket.setAuth(),h===void 0){e==null||e(ur.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,y=[];for(let x=0;x<m;x++){const S=f[x],{filter:{event:w,schema:_,table:E,filter:R}}=S,O=h&&h[x];if(O&&O.event===w&&O.schema===_&&O.table===E&&O.filter===R)y.push(Object.assign(Object.assign({},S),{id:O.id}));else{this.unsubscribe(),this.state=yt.errored,e==null||e(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ur.SUBSCRIBED);return}}).receive("error",h=>{this.state=yt.errored,e==null||e(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new mp(this,xn.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mp(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:h}=xn;if(r&&[a,l,u,h].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,x,S;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(x=m.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,x,S,w,_,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const R=m.id,O=(y=m.filter)===null||y===void 0?void 0:y.event;return R&&((x=n.ids)===null||x===void 0?void 0:x.includes(R))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const R=(_=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return R==="*"||R===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:x,table:S,commit_timestamp:w,type:_,errors:E}=y;f=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:w,eventType:_,new:{},old:{},errors:E}),this._getPayloadRecords(y))}m.callback(f,r)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&bv.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xn.close,{},e)}_onError(e){this._on(xn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=v1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=v1(e.columns,e.old_record)),n}}const T1=()=>{},wz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _z{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ub,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=T1,this.ref=0,this.logger=T1,this.conn=null,this.sendBuffer=[],this.serializer=new dz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ou(async()=>{const{default:l}=await Promise.resolve().then(()=>Ko);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${rg.websocket}`,this.httpEndpoint=Wb(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=az),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cz}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case tl.connecting:return Hs.Connecting;case tl.open:return Hs.Open;case tl.closing:return Hs.Closing;default:return Hs.Closed}}isConnected(){return this.connectionState()===Hs.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new bv(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:uz};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(xn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(hz,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(xn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([wz],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Av extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ez extends Av{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ig extends Av{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Tz=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{u(r.next(h))}catch(d){o(d)}}function l(h){try{u(r.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Hb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ou(async()=>{const{default:r}=await Promise.resolve().then(()=>Ko);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},xz=()=>Tz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ou(()=>Promise.resolve().then(()=>Ko),void 0)).Response:Response}),og=t=>{if(Array.isArray(t))return t.map(n=>og(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=og(r)}),e},kz=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var vi=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{u(r.next(h))}catch(d){o(d)}}function l(h){try{u(r.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const gp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sz=(t,e,n)=>vi(void 0,void 0,void 0,function*(){const r=yield xz();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Ez(gp(s),i,o))}).catch(s=>{e(new ig(gp(s),s))}):e(new ig(gp(t),t))}),Iz=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(kz(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function lu(t,e,n,r,s,i){return vi(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Iz(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Sz(l,a,r))})})}function Ah(t,e,n,r){return vi(this,void 0,void 0,function*(){return lu(t,"GET",e,n,r)})}function cr(t,e,n,r,s){return vi(this,void 0,void 0,function*(){return lu(t,"POST",e,r,s,n)})}function ag(t,e,n,r,s){return vi(this,void 0,void 0,function*(){return lu(t,"PUT",e,r,s,n)})}function bz(t,e,n,r){return vi(this,void 0,void 0,function*(){return lu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Kb(t,e,n,r,s){return vi(this,void 0,void 0,function*(){return lu(t,"DELETE",e,r,s,n)})}var Dt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{u(r.next(h))}catch(d){o(d)}}function l(h){try{u(r.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Az={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},x1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pz{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Hb(s)}uploadOrUpdate(e,n,r,s){return Dt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},x1),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),d=yield(e=="PUT"?ag:cr)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(Je(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Dt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:x1.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield ag(this.fetch,a.toString(),l,{headers:h});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Dt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield cr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Av("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}update(e,n,r){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Dt(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Dt(this,void 0,void 0,function*(){try{return{data:{path:(yield cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Dt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield cr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Dt(this,void 0,void 0,function*(){try{const s=yield cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}download(e,n){return Dt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ah(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Je(a))return{data:null,error:a};throw a}})}info(e){return Dt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ah(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:og(r),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}exists(e){return Dt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield bz(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Je(r)&&r instanceof ig){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Dt(this,void 0,void 0,function*(){try{return{data:yield Kb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}list(e,n,r){return Dt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Az),n),{prefix:e||""});return{data:yield cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Rz="2.10.4",Cz={"X-Client-Info":`storage-js/${Rz}`};var Ri=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{u(r.next(h))}catch(d){o(d)}}function l(h){try{u(r.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Nz{constructor(e,n={},r,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Cz),n),this.fetch=Hb(r)}listBuckets(){return Ri(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Je(e))return{data:null,error:e};throw e}})}getBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ri(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ri(this,void 0,void 0,function*(){try{return{data:yield ag(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield Kb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}}class Dz extends Nz{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Pz(this.url,this.headers,e,this.fetch)}}const Oz="2.53.0";let La="";typeof Deno<"u"?La="deno":typeof document<"u"?La="web":typeof navigator<"u"&&navigator.product==="ReactNative"?La="react-native":La="node";const Lz={"X-Client-Info":`supabase-js-${La}/${Oz}`},jz={headers:Lz},Mz={schema:"public"},Vz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zz={};var Fz=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{u(r.next(h))}catch(d){o(d)}}function l(h){try{u(r.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const $z=t=>{let e;return t?e=t:typeof fetch>"u"?e=Cb:e=fetch,(...n)=>e(...n)},Uz=()=>typeof Headers>"u"?Nb:Headers,Bz=(t,e,n)=>{const r=$z(n),s=Uz();return(i,o)=>Fz(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var qz=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{u(r.next(h))}catch(d){o(d)}}function l(h){try{u(r.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Wz(t){return t.endsWith("/")?t:t+"/"}function Hz(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:h,global:d}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>qz(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Gb="2.71.1",Li=30*1e3,lg=3,yp=lg*Li,Kz="http://localhost:9999",Gz="supabase.auth.token",Qz={"X-Client-Info":`gotrue-js/${Gb}`},ug="X-Supabase-Api-Version",Qb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xz=10*60*1e3;class Pv extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Jz extends Pv{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Zz(t){return ne(t)&&t.name==="AuthApiError"}class Yb extends Pv{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Rs extends Pv{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class $r extends Rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eF(t){return ne(t)&&t.name==="AuthSessionMissingError"}class uc extends Rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cc extends Rs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hc extends Rs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tF(t){return ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class k1 extends Rs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cg extends Rs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function vp(t){return ne(t)&&t.name==="AuthRetryableFetchError"}class S1 extends Rs{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class hg extends Rs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ph="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I1=` 	
\r=`.split(""),nF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<I1.length;e+=1)t[I1[e].charCodeAt(0)]=-2;for(let e=0;e<Ph.length;e+=1)t[Ph[e].charCodeAt(0)]=e;return t})();function b1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ph[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ph[r]),e.queuedBits-=6}}function Xb(t,e,n){const r=nF[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function A1(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{iF(o,r,n)};for(let o=0;o<t.length;o+=1)Xb(t.charCodeAt(o),s,i);return e.join("")}function rF(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function sF(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}rF(r,e)}}function iF(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function oF(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Xb(t.charCodeAt(s),n,r);return new Uint8Array(e)}function aF(t){const e=[];return sF(t,n=>e.push(n)),new Uint8Array(e)}function lF(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>b1(s,n,r)),b1(null,n,r),e.join("")}function uF(t){return Math.round(Date.now()/1e3)+t}function cF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const wn=()=>typeof window<"u"&&typeof document<"u",zs={tested:!1,writable:!1},Jb=()=>{if(!wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zs.tested)return zs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zs.tested=!0,zs.writable=!0}catch{zs.tested=!0,zs.writable=!1}return zs.writable};function hF(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Zb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ou(async()=>{const{default:r}=await Promise.resolve().then(()=>Ko);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},dF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ji=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Fs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mr=async(t,e)=>{await t.removeItem(e)};let eA=class tA{constructor(){this.promise=new tA.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};eA.promiseConstructor=Promise;function wp(t){const e=t.split(".");if(e.length!==3)throw new hg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Yz.test(e[r]))throw new hg("JWT not in base64url format");return{header:JSON.parse(A1(e[0])),payload:JSON.parse(A1(e[1])),signature:oF(e[2]),raw:{header:e[0],payload:e[1]}}}async function fF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function pF(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function mF(t){return("0"+t.toString(16)).substr(-2)}function gF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,mF).join("")}async function yF(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function vF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await yF(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ci(t,e,n=!1){const r=gF();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ji(t,`${e}-code-verifier`,s);const i=await vF(r);return[i,r===i?"plain":"s256"]}const wF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _F(t){const e=t.headers.get(ug);if(!e||!e.match(wF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function EF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function TF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ni(t){if(!xF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _p(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P1(t){return JSON.parse(JSON.stringify(t))}var kF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const qs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),SF=[502,503,504];async function R1(t){var e;if(!dF(t))throw new cg(qs(t),0);if(SF.includes(t.status))throw new cg(qs(t),t.status);let n;try{n=await t.json()}catch(i){throw new Yb(qs(i),i)}let r;const s=_F(t);if(s&&s.getTime()>=Qb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new S1(qs(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $r}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new S1(qs(n),t.status,n.weak_password.reasons);throw new Jz(qs(n),t.status||500,r)}const IF=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function se(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ug]||(i[ug]=Qb["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await bF(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function bF(t,e,n,r,s,i){const o=IF(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new cg(qs(l),0)}if(a.ok||await R1(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await R1(l)}}function ar(t){var e;let n=null;CF(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=uF(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function C1(t){const e=ar(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Hr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function AF(t){return{data:t,error:null}}function PF(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=kF(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function RF(t){return t}function CF(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ep=["global","local","others"];var NF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class DF{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Zb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Ep[0]){if(Ep.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ep.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Hr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=NF(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:PF,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},h=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:RF});if(h.error)throw h.error;const d=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ni(e);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ni(e);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Hr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ni(e);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Hr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ni(e.userId);try{const{data:n,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ni(e.userId),Ni(e.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}}function N1(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function OF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Di={debug:!!(globalThis&&Jb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nA extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class LF extends nA{}async function jF(t,e,n){Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new LF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Di.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}OF();const MF={url:Kz,storageKey:Gz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function D1(t,e,n){return await n()}const Oi={};class Vl{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vl.nextInstanceID,Vl.nextInstanceID+=1,this.instanceID>0&&wn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},MF),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new DF({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Zb(s.fetch),this.lock=s.lock||D1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jF:this.lock=D1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Jb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=N1(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=N1(this.memoryStorage)),wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Oi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Oi[this.storageKey]=Object.assign(Object.assign({},Oi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Oi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Oi[this.storageKey]=Object.assign(Object.assign({},Oi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=hF(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),wn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tF(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ne(n)?{error:n}:{error:new Yb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ar}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:h,password:d,options:f}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ci(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},xform:ar})}else if("phone"in e){const{phone:h,password:d,options:f}=e;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ar})}else throw new cc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:C1})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:C1})}else throw new cc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new uc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,u,h,d,f,m;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:S,wallet:w,statement:_,options:E}=e;let R;if(wn())if(typeof w=="object")R=w;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))R=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=w}const O=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const D=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),_?{statement:_}:null));let k;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")k=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)k=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${O.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(s=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((d=(h=E==null?void 0:E.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...E.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const D=await R.signMessage(new TextEncoder().encode(y),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=D}}try{const{data:S,error:w}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:lF(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ar});if(w)throw w;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new uc}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:w})}catch(S){if(ne(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await Fs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ar});if(await Mr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new uc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ne(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ar}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new uc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Ci(this.storage,this.storageKey));const{error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:h}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new cc("You must provide either an email or phone number.")}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ar});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ci(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:AF})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new $r;const{error:s}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ne(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new cc("You must provide either an email or phone number and a type")}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<yp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Fs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=_p()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hr}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Hr})})}catch(n){if(ne(n))return eF(n)&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new $r;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ci(this.storage,this.storageKey));const{data:u,error:h}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Hr});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $r;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=wp(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ne(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $r;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!wn())throw new hc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new k1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new k1("No code detected.");const{data:_,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new hc("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(a);let f=h+d;l&&(f=parseInt(l));const m=f-h;m*1e3<=Li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=f-d;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,h);const{data:x,error:S}=await this._getUser(i);if(S)throw S;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(ne(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Zz(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=cF(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ci(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,h;const{data:d,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return wn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ne(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pF(async s=>(s>0&&await fF(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ar})),(s,i)=>{const o=200*Math.pow(2,s);return i&&vp(i)&&Date.now()+o-r<Li})}catch(r){if(this._debug(n,"error",r),ne(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),wn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Fs(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ji(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:_p()}else if(s&&!s.user&&!s.user){const o=await Fs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Mr(this.storage,this.storageKey+"-user"),await ji(this.storage,this.storageKey,s)):s.user=_p()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${yp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),vp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new eA;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new $r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ne(i)){const o={session:null,error:i};return vp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ji(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=P1(s);await ji(this.storage,this.storageKey,i)}else{const s=P1(n);await ji(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Mr(this.storage,this.storageKey),await Mr(this.storage,this.storageKey+"-code-verifier"),await Mr(this.storage,this.storageKey+"-user"),this.userStorage&&await Mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Li);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Li}ms, refresh threshold is ${lg} ticks`),s<=lg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof nA)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ci(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ne(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ne(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wp(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Xz>s)return r;const{data:i,error:o}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=wp(r);n!=null&&n.allowExpired||EF(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const h=TF(s.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,o,aF(`${a}.${l}`)))throw new hg("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}}Vl.nextInstanceID=0;const VF=Vl;class zF extends VF{constructor(e){super(e)}}var FF=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{u(r.next(h))}catch(d){o(d)}}function l(h){try{u(r.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class $F{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Wz(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:Mz,realtime:zz,auth:Object.assign(Object.assign({},Vz),{storageKey:u}),global:jz},d=Hz(r??{},h);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Bz(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new iz(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Dz(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new L3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return FF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zF({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new _z(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UF=(t,e,n)=>new $F(t,e,n);function BF(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}BF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qF="https://lxxywsyotabtdquemzuo.supabase.co",rA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx4eHl3c3lvdGFidGRxdWVtenVvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4ODcxMDIsImV4cCI6MjA2OTQ2MzEwMn0.BbgvxaEVu18j-M-WatNoTkEl86g3XQtDuPNTZMAwhQY",WF=UF(qF,rA),HF=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],KF=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState({name:"",email:"",callback:!1}),[o,a]=C.useState(!1),[l,u]=C.useState(null),[h,d]=C.useState(!0),[f,m]=C.useState([]);C.useEffect(()=>{fetch("https://lxxywsyotabtdquemzuo.supabase.co/functions/v1/get-availability").then(S=>S.json()).then(S=>{u(S),d(!1),S.bookedSlots&&Array.isArray(S.bookedSlots)&&m(S.bookedSlots)}).catch(()=>d(!1))},[]);const y=S=>{const{name:w,value:_,type:E,checked:R}=S.target;i(O=>({...O,[w]:E==="checkbox"?R:_}))},x=S=>{S.preventDefault(),(async()=>{const{error:_}=await WF.from("meetings").insert([{name:s.name,email:s.email,date:t,slot:n,callback:s.callback}]);if(_)alert("Bd podczas rezerwacji: "+_.message);else{const E={"Content-Type":"application/json",Authorization:`Bearer ${rA}`};console.log("send-confirmation-email fetch headers:",E);try{await fetch("https://lxxywsyotabtdquemzuo.supabase.co/functions/v1/send-confirmation-email",{method:"POST",headers:E,body:JSON.stringify({name:s.name,email:s.email,date:t,slot:n,callback:s.callback})})}catch{}a(!0)}})()};return v.jsxs(v.Fragment,{children:[v.jsx(Ao,{}),v.jsx("section",{className:"pt-10 pb-24 bg-white dark:bg-gray-900 min-h-screen flex items-center justify-center",children:v.jsxs("div",{className:"container mx-auto max-w-xl px-6 mt-20",children:[v.jsx("h1",{className:"text-4xl font-bold mb-10 mt-8 text-center",children:"Zaplanuj spotkanie"}),v.jsx("p",{className:"mb-8 text-center text-lg text-gray-700 dark:text-gray-300",children:"Wybierz dogodny termin i zarezerwuj 1-godzinne spotkanie. Po rezerwacji otrzymasz potwierdzenie na email, a my skontaktujemy si z Tob."}),v.jsx("div",{className:"mb-8",children:h?v.jsx("div",{children:"adowanie dostpnoci..."}):l?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-2",children:[v.jsx("strong",{children:"Status:"})," ",l.status]}),v.jsxs("div",{className:"mb-2",children:[v.jsx("strong",{children:"Godziny pracy:"})," ",l.workingHours.start," - ",l.workingHours.end]}),v.jsxs("div",{className:"mb-2",children:[v.jsx("strong",{children:"Najbliszy dostpny termin:"})," ",new Date(l.nextAvailableSlot).toLocaleString("pl-PL")]})]}):v.jsx("div",{children:"Bd adowania dostpnoci."})}),v.jsxs("div",{className:"mb-8",children:[v.jsx("label",{htmlFor:"date",className:"block text-xl font-semibold mb-2",children:"Wybierz dat spotkania:"}),v.jsx("input",{type:"date",id:"date",name:"date",value:t,onChange:S=>e(S.target.value),className:"mb-4 w-full px-4 py-2 border rounded-lg",required:!0}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Dostpne godziny:"}),v.jsx("div",{className:"grid grid-cols-3 gap-4",children:HF.map(S=>{const w=f.includes(S);return v.jsx("button",{className:`py-2 px-4 rounded-lg border font-medium ${n===S?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"} ${w?"opacity-50 cursor-not-allowed":""}`,onClick:()=>r(S),disabled:!t||w,children:S},S)})})]}),v.jsxs("form",{className:"space-y-6",onSubmit:x,children:[v.jsx("input",{type:"text",name:"name",placeholder:"Imi i nazwisko",value:s.name,onChange:y,required:!0,className:"w-full px-4 py-2 border rounded-lg"}),v.jsx("input",{type:"email",name:"email",placeholder:"Adres e-mail",value:s.email,onChange:y,required:!0,className:"w-full px-4 py-2 border rounded-lg"}),v.jsxs("div",{className:"flex items-center gap-0.5",children:[v.jsx("input",{type:"checkbox",name:"callback",checked:s.callback,onChange:y,className:"align-middle",style:{marginRight:"2px",verticalAlign:"middle"}}),v.jsx("label",{htmlFor:"callback",className:"text-base align-middle",style:{verticalAlign:"middle"},children:"Prosz o kontakt telefoniczny lub mailowy z potwierdzeniem spotkania"})]}),v.jsx("button",{type:"submit",disabled:!t||!n||o,className:"w-full py-3 rounded-lg bg-blue-600 text-white font-bold mt-4",children:"Zarezerwuj spotkanie"})]}),o&&v.jsx("div",{className:"mt-6 text-green-600 text-center font-semibold",children:"Dzikujemy! Twoja rezerwacja zostaa przyjta. Sprawd skrzynk e-mail."}),v.jsx("div",{className:"mt-8 flex justify-center",children:v.jsxs("a",{href:"https://wa.me/48723262802",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-lg bg-green-500 text-white font-bold flex items-center gap-2",children:[v.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M16.72 14.87c-.23-.12-1.36-.67-1.57-.75-.21-.08-.36-.12-.51.12-.15.23-.58.75-.71.9-.13.15-.26.17-.49.06-.23-.12-.97-.36-1.85-1.13-.68-.6-1.13-1.34-1.26-1.57-.13-.23-.01-.35.1-.47.1-.1.23-.26.34-.39.11-.13.15-.23.23-.38.08-.15.04-.29-.02-.41-.06-.12-.51-1.23-.7-1.68-.18-.44-.37-.38-.51-.39-.13-.01-.29-.01-.45-.01-.16 0-.41.06-.63.29-.22.23-.85.83-.85 2.02 0 1.19.87 2.34 1 2.5.13.15 1.71 2.73 4.15 3.72.58.25 1.03.4 1.38.51.58.18 1.11.15 1.53.09.47-.07 1.36-.56 1.55-1.1.19-.54.19-1 .13-1.1-.06-.1-.21-.16-.44-.28z"})}),"WhatsApp"]})})]})}),v.jsx(Ml,{})]})},GF=()=>{const t=Vy();return v.jsxs("div",{className:"bg-white dark:bg-gray-900 min-h-screen flex flex-col",children:[v.jsx(Ao,{}),v.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center pt-56 pb-24 px-4",children:[v.jsxs("section",{className:"w-full max-w-3xl mb-16 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-gray-700 p-10 flex flex-col items-center",children:[v.jsx("h2",{className:"text-4xl md:text-5xl font-light text-gray-900 dark:text-white mb-8 text-center tracking-wide",children:"Ceny ustalane indywidualnie"}),v.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 text-center max-w-xl",children:"Kady projekt i wsppraca s wyceniane indywidualnie, w zalenoci od zakresu, celw i potrzeb klienta. Zapraszam do kontaktu w celu uzyskania szczegowej wyceny."})]}),v.jsxs("section",{className:"w-full max-w-3xl mb-16 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-gray-700 p-10 flex flex-col items-center",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-light text-gray-900 dark:text-white mb-8 text-center tracking-wide",children:"Stawka orientacyjna"}),v.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400 mb-4 text-center",children:"200 z netto za godzin pracy 1:1"}),v.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 text-center max-w-xl",children:"Stawka dotyczy indywidualnych sesji rozwojowych. Ostateczna cena moe si rni w zalenoci od zakresu wsppracy."})]}),v.jsx("button",{className:"mt-8 px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white text-xl font-semibold rounded-full shadow-lg transition-all duration-300",onClick:()=>t("/spotkanie"),children:"Rezerwuj Spotkanie"})]}),v.jsx(Ml,{})]})},sA=`---
title: "Pierwszy post na blogu"
date: "2025-07-28"
description: "To jest przykadowy wpis na blogu."
---

# Witaj na blogu!

To jest przykadowa tre wpisu na blogu. Moesz pisa tutaj w Markdown.

- Punkt pierwszy
- Punkt drugi

Dzikujemy za odwiedziny!
`,iA="";function QF(t){const e=/^---\n([\s\S]+?)\n---/.exec(t);if(!e)return{data:{}};const n=e[1].split(`
`),r={};for(const s of n){const[i,...o]=s.split(":");i&&o.length&&(r[i.trim()]=o.join(":").trim().replace(/^"|"$/g,""))}return{data:r}}const YF=()=>{const[t,e]=C.useState([]);return C.useEffect(()=>{const r=Object.entries(Object.assign({"/blog/example-post.md":sA,"/blog/first-post.md":iA})).map(([s,i])=>{var l;const{data:o}=QF(i||""),a=((l=s.split("/").pop())==null?void 0:l.replace(/\.md$/,""))||"";return{slug:a,title:o.title||a,date:o.date||"",description:o.description||""}});r.sort((s,i)=>i.date.localeCompare(s.date)),e(r)},[]),v.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Blog"}),t.length===0?v.jsx("p",{className:"text-center text-slate-500",children:"Brak wpisw na blogu."}):v.jsx("ul",{className:"space-y-6",children:t.map(n=>v.jsxs("li",{className:"border-b pb-4",children:[v.jsx(Pl,{to:`/blog/${n.slug}`,className:"text-xl font-semibold text-accent hover:underline",children:n.title}),v.jsx("div",{className:"text-xs text-slate-400 mt-1",children:n.date}),n.description&&v.jsx("div",{className:"mt-2 text-slate-600",children:n.description})]},n.slug))})]})},XF=()=>{};var O1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},JF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},aA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[h],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new ZF;const f=i<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e6=function(t){const e=oA(t);return aA.encodeByteArray(e,!0)},Rh=function(t){return e6(t).replace(/\./g,"")},lA=function(t){try{return aA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=()=>t6().__FIREBASE_DEFAULTS__,r6=()=>{if(typeof process>"u"||typeof O1>"u")return;const t=O1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lA(t[1]);return e&&JSON.parse(e)},Pd=()=>{try{return XF()||n6()||r6()||s6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uA=t=>{var e,n;return(n=(e=Pd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},i6=t=>{const e=uA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cA=()=>{var t;return(t=Pd())==null?void 0:t.config},hA=t=>{var e;return(e=Pd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(o)),""].join(".")}const rl={};function l6(){const t={prod:[],emulator:[]};for(const e of Object.keys(rl))rl[e]?t.emulator.push(e):t.prod.push(e);return t}function u6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let L1=!1;function fA(t,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||rl[t]===e||rl[t]||L1)return;rl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=l6().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{L1=!0,o()},f}function h(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=u6(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),x=n("learnmore"),S=document.getElementById(x)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),h(S,x);const R=u();l(_,w),E.append(_,y,S,R),document.body.appendChild(E)}i?(y.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function h6(){var e;const t=(e=Pd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function f6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p6(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m6(){return!h6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mA(){try{return typeof indexedDB=="object"}catch{return!1}}function gA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function g6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6="FirebaseError";class On extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=y6,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wi.prototype.create)}}class wi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?v6(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new On(s,a,r)}}function v6(t,e){return t.replace(w6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const w6=/\{\$([^}]+)}/g;function _6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(j1(i)&&j1(o)){if(!ws(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function j1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ja(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ma(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E6(t,e){const n=new T6(t,e);return n.subscribe.bind(n)}class T6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");x6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Tp),s.error===void 0&&(s.error=Tp),s.complete===void 0&&(s.complete=Tp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=1e3,S6=2,I6=4*60*60*1e3,b6=.5;function M1(t,e=k6,n=S6){const r=e*Math.pow(n,t),s=Math.round(b6*r*(Math.random()-.5)*2);return Math.min(I6,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class Nn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new o6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R6(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P6(t){return t===Ws?void 0:t}function R6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const N6={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},D6=oe.INFO,O6={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},L6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=O6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=D6,this._logHandler=L6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const j6=(t,e)=>e.some(n=>t instanceof n);let V1,z1;function M6(){return V1||(V1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V6(){return z1||(z1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yA=new WeakMap,dg=new WeakMap,vA=new WeakMap,xp=new WeakMap,Rv=new WeakMap;function z6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(us(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yA.set(n,t)}).catch(()=>{}),Rv.set(e,t),e}function F6(t){if(dg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});dg.set(t,e)}let fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $6(t){fg=t(fg)}function U6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kp(this),e,...n);return vA.set(r,e.sort?e.sort():[e]),us(r)}:V6().includes(t)?function(...e){return t.apply(kp(this),e),us(yA.get(this))}:function(...e){return us(t.apply(kp(this),e))}}function B6(t){return typeof t=="function"?U6(t):(t instanceof IDBTransaction&&F6(t),j6(t,M6())?new Proxy(t,fg):t)}function us(t){if(t instanceof IDBRequest)return z6(t);if(xp.has(t))return xp.get(t);const e=B6(t);return e!==t&&(xp.set(t,e),Rv.set(e,t)),e}const kp=t=>Rv.get(t);function wA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=us(o);return r&&o.addEventListener("upgradeneeded",l=>{r(us(o.result),l.oldVersion,l.newVersion,us(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const q6=["get","getKey","getAll","getAllKeys","count"],W6=["put","add","delete","clear"],Sp=new Map;function F1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=W6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||q6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Sp.set(e,i),i}$6(t=>({...t,get:(e,n,r)=>F1(e,n)||t.get(e,n,r),has:(e,n)=>!!F1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pg="@firebase/app",$1="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Rd("@firebase/app"),G6="@firebase/app-compat",Q6="@firebase/analytics-compat",Y6="@firebase/analytics",X6="@firebase/app-check-compat",J6="@firebase/app-check",Z6="@firebase/auth",e$="@firebase/auth-compat",t$="@firebase/database",n$="@firebase/data-connect",r$="@firebase/database-compat",s$="@firebase/functions",i$="@firebase/functions-compat",o$="@firebase/installations",a$="@firebase/installations-compat",l$="@firebase/messaging",u$="@firebase/messaging-compat",c$="@firebase/performance",h$="@firebase/performance-compat",d$="@firebase/remote-config",f$="@firebase/remote-config-compat",p$="@firebase/storage",m$="@firebase/storage-compat",g$="@firebase/firestore",y$="@firebase/ai",v$="@firebase/firestore-compat",w$="firebase",_$="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="[DEFAULT]",E$={[pg]:"fire-core",[G6]:"fire-core-compat",[Y6]:"fire-analytics",[Q6]:"fire-analytics-compat",[J6]:"fire-app-check",[X6]:"fire-app-check-compat",[Z6]:"fire-auth",[e$]:"fire-auth-compat",[t$]:"fire-rtdb",[n$]:"fire-data-connect",[r$]:"fire-rtdb-compat",[s$]:"fire-fn",[i$]:"fire-fn-compat",[o$]:"fire-iid",[a$]:"fire-iid-compat",[l$]:"fire-fcm",[u$]:"fire-fcm-compat",[c$]:"fire-perf",[h$]:"fire-perf-compat",[d$]:"fire-rc",[f$]:"fire-rc-compat",[p$]:"fire-gcs",[m$]:"fire-gcs-compat",[g$]:"fire-fst",[v$]:"fire-fst-compat",[y$]:"fire-vertex","fire-js":"fire-js",[w$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,T$=new Map,gg=new Map;function U1(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zn(t){const e=t.name;if(gg.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;gg.set(e,t);for(const n of Ch.values())U1(n,t);for(const n of T$.values())U1(n,t);return!0}function _i(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new wi("app","Firebase",x$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=_$;function _A(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:mg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw cs.create("bad-app-name",{appName:String(s)});if(n||(n=cA()),!n)throw cs.create("no-options");const i=Ch.get(s);if(i){if(ws(n,i.options)&&ws(r,i.config))return i;throw cs.create("duplicate-app",{appName:s})}const o=new C6(s);for(const l of gg.values())o.addComponent(l);const a=new k$(n,r,o);return Ch.set(s,a),a}function Cv(t=mg){const e=Ch.get(t);if(!e&&t===mg&&cA())return _A();if(!e)throw cs.create("no-app",{appName:t});return e}function cn(t,e,n){let r=E$[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(o.join(" "));return}Zn(new Nn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="firebase-heartbeat-database",I$=1,zl="firebase-heartbeat-store";let Ip=null;function EA(){return Ip||(Ip=wA(S$,I$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function b$(t){try{const n=(await EA()).transaction(zl),r=await n.objectStore(zl).get(TA(t));return await n.done,r}catch(e){if(e instanceof On)br.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(n.message)}}}async function B1(t,e){try{const r=(await EA()).transaction(zl,"readwrite");await r.objectStore(zl).put(e,TA(t)),await r.done}catch(n){if(n instanceof On)br.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(r.message)}}}function TA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=1024,P$=30;class R${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=q1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>P$){const o=D$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=q1(),{heartbeatsToSend:r,unsentEntries:s}=C$(this._heartbeatsCache.heartbeats),i=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return br.warn(n),""}}}function q1(){return new Date().toISOString().substring(0,10)}function C$(t,e=A$){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),W1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),W1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class N${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mA()?gA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function W1(t){return Rh(JSON.stringify({version:2,heartbeats:t})).length}function D$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){Zn(new Nn("platform-logger",e=>new H6(e),"PRIVATE")),Zn(new Nn("heartbeat",e=>new R$(e),"PRIVATE")),cn(pg,$1,t),cn(pg,$1,"esm2020"),cn("fire-js","")}O$("");var L$="firebase",j$="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn(L$,j$,"app");const xA="@firebase/installations",Nv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=1e4,SA=`w:${Nv}`,IA="FIS_v2",M$="https://firebaseinstallations.googleapis.com/v1",V$=60*60*1e3,z$="installations",F$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ui=new wi(z$,F$,$$);function bA(t){return t instanceof On&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA({projectId:t}){return`${M$}/projects/${t}/installations`}function PA(t){return{token:t.token,requestStatus:2,expiresIn:B$(t.expiresIn),creationTime:Date.now()}}async function RA(t,e){const r=(await e.json()).error;return ui.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function CA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function U$(t,{refreshToken:e}){const n=CA(t);return n.append("Authorization",q$(e)),n}async function NA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function B$(t){return Number(t.replace("s","000"))}function q$(t){return`${IA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=AA(t),s=CA(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:IA,appId:t.appId,sdkVersion:SA},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await NA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:PA(u.authToken)}}else throw await RA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=/^[cdef][\w-]{21}$/,yg="";function G$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Q$(t);return K$.test(n)?n:yg}catch{return yg}}function Q$(t){return H$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Map;function LA(t,e){const n=Cd(t);jA(n,e),Y$(n,e)}function jA(t,e){const n=OA.get(t);if(n)for(const r of n)r(e)}function Y$(t,e){const n=X$();n&&n.postMessage({key:t,fid:e}),J$()}let Js=null;function X$(){return!Js&&"BroadcastChannel"in self&&(Js=new BroadcastChannel("[Firebase] FID Change"),Js.onmessage=t=>{jA(t.data.key,t.data.fid)}),Js}function J$(){OA.size===0&&Js&&(Js.close(),Js=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$="firebase-installations-database",eU=1,ci="firebase-installations-store";let bp=null;function Dv(){return bp||(bp=wA(Z$,eU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ci)}}})),bp}async function Nh(t,e){const n=Cd(t),s=(await Dv()).transaction(ci,"readwrite"),i=s.objectStore(ci),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&LA(t,e.fid),e}async function MA(t){const e=Cd(t),r=(await Dv()).transaction(ci,"readwrite");await r.objectStore(ci).delete(e),await r.done}async function Nd(t,e){const n=Cd(t),s=(await Dv()).transaction(ci,"readwrite"),i=s.objectStore(ci),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&LA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ov(t){let e;const n=await Nd(t.appConfig,r=>{const s=tU(r),i=nU(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===yg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tU(t){const e=t||{fid:G$(),registrationStatus:0};return VA(e)}function nU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ui.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sU(t)}:{installationEntry:e}}async function rU(t,e){try{const n=await W$(t,e);return Nh(t.appConfig,n)}catch(n){throw bA(n)&&n.customData.serverCode===409?await MA(t.appConfig):await Nh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function sU(t){let e=await H1(t.appConfig);for(;e.registrationStatus===1;)await DA(100),e=await H1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ov(t);return r||n}return e}function H1(t){return Nd(t,e=>{if(!e)throw ui.create("installation-not-found");return VA(e)})}function VA(t){return iU(t)?{fid:t.fid,registrationStatus:0}:t}function iU(t){return t.registrationStatus===1&&t.registrationTime+kA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU({appConfig:t,heartbeatServiceProvider:e},n){const r=aU(t,n),s=U$(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:SA,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await NA(()=>fetch(r,a));if(l.ok){const u=await l.json();return PA(u)}else throw await RA("Generate Auth Token",l)}function aU(t,{fid:e}){return`${AA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lv(t,e=!1){let n;const r=await Nd(t.appConfig,i=>{if(!zA(i))throw ui.create("not-registered");const o=i.authToken;if(!e&&cU(o))return i;if(o.requestStatus===1)return n=lU(t,e),i;{if(!navigator.onLine)throw ui.create("app-offline");const a=dU(i);return n=uU(t,a),a}});return n?await n:r.authToken}async function lU(t,e){let n=await K1(t.appConfig);for(;n.authToken.requestStatus===1;)await DA(100),n=await K1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Lv(t,e):r}function K1(t){return Nd(t,e=>{if(!zA(e))throw ui.create("not-registered");const n=e.authToken;return fU(n)?{...e,authToken:{requestStatus:0}}:e})}async function uU(t,e){try{const n=await oU(t,e),r={...e,authToken:n};return await Nh(t.appConfig,r),n}catch(n){if(bA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Nh(t.appConfig,r)}throw n}}function zA(t){return t!==void 0&&t.registrationStatus===2}function cU(t){return t.requestStatus===2&&!hU(t)}function hU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+V$}function dU(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function fU(t){return t.requestStatus===1&&t.requestTime+kA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ov(e);return r?r.catch(console.error):Lv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e=!1){const n=t;return await gU(n),(await Lv(n,e)).token}async function gU(t){const{registrationPromise:e}=await Ov(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){if(!t||!t.options)throw Ap("App Configuration");if(!t.name)throw Ap("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ap(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ap(t){return ui.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="installations",vU="installations-internal",wU=t=>{const e=t.getProvider("app").getImmediate(),n=yU(e),r=_i(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_U=t=>{const e=t.getProvider("app").getImmediate(),n=_i(e,FA).getImmediate();return{getId:()=>pU(n),getToken:s=>mU(n,s)}};function EU(){Zn(new Nn(FA,wU,"PUBLIC")),Zn(new Nn(vU,_U,"PRIVATE"))}EU();cn(xA,Nv);cn(xA,Nv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="analytics",TU="firebase_id",xU="origin",kU=60*1e3,SU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=new Rd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qt=new wi("analytics","Analytics",IU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){if(!t.startsWith(jv)){const e=Qt.create("invalid-gtag-resource",{gtagURL:t});return Bt.warn(e.message),""}return t}function $A(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function AU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function PU(t,e){const n=AU("firebase-js-sdk-policy",{createScriptURL:bU}),r=document.createElement("script"),s=`${jv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function RU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function CU(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await $A(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){Bt.error(a)}t("config",s,i)}async function NU(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await $A(n);for(const l of o){const u=a.find(d=>d.measurementId===l),h=u&&e[u.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Bt.error(i)}}function DU(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await NU(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await CU(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Bt.error(a)}}return s}function OU(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=DU(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function LU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=30,MU=1e3;class VU{constructor(e={},n=MU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const UA=new VU;function zU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function FU(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:zU(n)},s=SU.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Qt.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function $U(t,e=UA,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Qt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Qt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new qU;return setTimeout(async()=>{a.abort()},kU),BA({appId:r,apiKey:s,measurementId:i},o,a,e)}async function BA(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=UA){var a;const{appId:i,measurementId:o}=t;try{await UU(r,e)}catch(l){if(o)return Bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await FU(t);return s.deleteThrottleMetadata(i),l}catch(l){const u=l;if(!BU(u)){if(s.deleteThrottleMetadata(i),o)return Bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:o};throw l}const h=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?M1(n,s.intervalMillis,jU):M1(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,d),Bt.debug(`Calling attemptFetch again in ${h} millis`),BA(t,d,r,s)}}function UU(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function BU(t){if(!(t instanceof On)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class qU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function WU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(){if(mA())try{await gA()}catch(t){return Bt.warn(Qt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Bt.warn(Qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function KU(t,e,n,r,s,i,o){const a=$U(t);a.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Bt.error(f)),e.push(a);const l=HU().then(f=>{if(f)return r.getId()}),[u,h]=await Promise.all([a,l]);LU(i)||PU(i,u.measurementId),s("js",new Date);const d=(o==null?void 0:o.config)??{};return d[xU]="firebase",d.update=!0,h!=null&&(d[TU]=h),s("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.app=e}_delete(){return delete sl[this.app.options.appId],Promise.resolve()}}let sl={},G1=[];const Q1={};let Pp="dataLayer",QU="gtag",Y1,qA,X1=!1;function YU(){const t=[];if(pA()&&t.push("This is a browser extension environment."),g6()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Qt.create("invalid-analytics-context",{errorInfo:e});Bt.warn(n.message)}}function XU(t,e,n){YU();const r=t.options.appId;if(!r)throw Qt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qt.create("no-api-key");if(sl[r]!=null)throw Qt.create("already-exists",{id:r});if(!X1){RU(Pp);const{wrappedGtag:i,gtagCore:o}=OU(sl,G1,Q1,Pp,QU);qA=i,Y1=o,X1=!0}return sl[r]=KU(t,G1,Q1,e,Y1,Pp,n),new GU(t)}function JU(t=Cv()){t=Xe(t);const e=_i(t,Dh);return e.isInitialized()?e.getImmediate():ZU(t)}function ZU(t,e={}){const n=_i(t,Dh);if(n.isInitialized()){const s=n.getImmediate();if(ws(e,n.getOptions()))return s;throw Qt.create("already-initialized")}return n.initialize({options:e})}function e5(t,e,n,r){t=Xe(t),WU(qA,sl[t.app.options.appId],e,n,r).catch(s=>Bt.error(s))}const J1="@firebase/analytics",Z1="0.10.18";function t5(){Zn(new Nn(Dh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return XU(r,s,n)},"PUBLIC")),Zn(new Nn("analytics-internal",t,"PRIVATE")),cn(J1,Z1),cn(J1,Z1,"esm2020");function t(e){try{const n=e.getProvider(Dh).getImmediate();return{logEvent:(r,s,i)=>e5(n,r,s,i)}}catch(n){throw Qt.create("interop-component-reg-failed",{reason:n})}}}t5();function WA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n5=WA,HA=new wi("auth","Firebase",WA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Rd("@firebase/auth");function r5(t,...e){Oh.logLevel<=oe.WARN&&Oh.warn(`Auth (${Yo}): ${t}`,...e)}function Fc(t,...e){Oh.logLevel<=oe.ERROR&&Oh.error(`Auth (${Yo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw Mv(t,...e)}function Hn(t,...e){return Mv(t,...e)}function KA(t,e,n){const r={...n5(),[e]:n};return new wi("auth","Firebase",r).create(e,{appName:t.name})}function hs(t){return KA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HA.create(t,...e)}function X(t,e,...n){if(!t)throw Mv(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fc(e),new Error(e)}function Ar(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function s5(){return eT()==="http:"||eT()==="https:"}function eT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s5()||pA()||"connection"in navigator)?navigator.onLine:!0}function o5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=c6()||f6()}get(){return i5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){Ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u5=new cu(3e4,6e4);function Ei(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Cs(t,e,n,r,s={}){return QA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=uu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return d6()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Qo(t.emulatorConfig.host)&&(u.credentials="include"),GA.fetch()(await YA(t,t.config.apiHost,n,a),u)})}async function QA(t,e,n){t._canInitEmulator=!1;const r={...a5,...e};try{const s=new h5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw dc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw dc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw dc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw KA(t,h,u);Dn(t,h)}}catch(s){if(s instanceof On)throw s;Dn(t,"network-request-failed",{message:String(s)})}}async function Dd(t,e,n,r,s={}){const i=await Cs(t,e,n,r,s);return"mfaPendingCredential"in i&&Dn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function YA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Vv(t.config,s):`${t.config.apiScheme}://${s}`;return l5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function c5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),u5.get())})}}function dc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hn(t,e,r);return s.customData._tokenResponse=n,s}function tT(t){return t!==void 0&&t.enterprise!==void 0}class d5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function f5(t,e){return Cs(t,"GET","/v2/recaptchaConfig",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(t,e){return Cs(t,"POST","/v1/accounts:delete",e)}async function Lh(t,e){return Cs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m5(t,e=!1){const n=Xe(t),r=await n.getIdToken(e),s=zv(r);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:il(Rp(s.auth_time)),issuedAtTime:il(Rp(s.iat)),expirationTime:il(Rp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Rp(t){return Number(t)*1e3}function zv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const s=lA(n);return s?JSON.parse(s):(Fc("Failed to decode base64 JWT payload"),null)}catch(s){return Fc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function nT(t){const e=zv(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof On&&g5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function g5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Fl(t,Lh(e,{idToken:n}));X(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(d=s.providerUserInfo)!=null&&d.length?XA(s.providerUserInfo):[],o=w5(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new wg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function v5(t){const e=Xe(t);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t,e){const n=await QA(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await YA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Qo(t.emulatorConfig.host)&&(l.credentials="include"),GA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E5(t,e){return Cs(t,"POST","/v2/accounts:revokeToken",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=nT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await _5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new mo;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(X(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(X(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new y5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m5(this,e)}reload(){return v5(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await Fl(this,p5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:m,providerData:y,stsTokenManager:x}=n;X(d&&x,e,"internal-error");const S=mo.fromJSON(this.name,x);X(typeof d=="string",e,"internal-error"),Vr(r,e.name),Vr(s,e.name),X(typeof f=="boolean",e,"internal-error"),X(typeof m=="boolean",e,"internal-error"),Vr(i,e.name),Vr(o,e.name),Vr(a,e.name),Vr(l,e.name),Vr(u,e.name),Vr(h,e.name);const w=new bn({uid:d,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:u,lastLoginAt:h});return y&&Array.isArray(y)&&(w.providerData=y.map(_=>({..._}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new mo;s.updateFromServerResponse(n);const i=new bn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await jh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];X(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?XA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new mo;a.updateFromIdToken(r);const l=new bn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new wg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;function mr(t){Ar(t instanceof Function,"Expected a class definition");let e=rT.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JA.type="NONE";const sT=JA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e,n){return`firebase:${t}:${e}:${n}`}class go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=$c(this.userKey,s.apiKey,i),this.fullPersistenceKey=$c("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?bn._fromGetAccountInfoResponse(this.auth,n,e):null}return bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new go(mr(sT),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||mr(sT);const o=$c(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const f=await Lh(e,{idToken:h}).catch(()=>{});if(!f)break;d=await bn._fromGetAccountInfoResponse(e,f,h)}else d=bn._fromJSON(e,h);u!==i&&(a=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new go(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new go(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sP(e))return"Blackberry";if(iP(e))return"Webos";if(eP(e))return"Safari";if((e.includes("chrome/")||tP(e))&&!e.includes("edge/"))return"Chrome";if(rP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZA(t=xt()){return/firefox\//i.test(t)}function eP(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tP(t=xt()){return/crios\//i.test(t)}function nP(t=xt()){return/iemobile/i.test(t)}function rP(t=xt()){return/android/i.test(t)}function sP(t=xt()){return/blackberry/i.test(t)}function iP(t=xt()){return/webos/i.test(t)}function Fv(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T5(t=xt()){var e;return Fv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function x5(){return p6()&&document.documentMode===10}function oP(t=xt()){return Fv(t)||rP(t)||iP(t)||sP(t)||/windows phone/i.test(t)||nP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e=[]){let n;switch(t){case"Browser":n=iT(xt());break;case"Worker":n=`${iT(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(t,e={}){return Cs(t,"GET","/v2/passwordPolicy",Ei(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=6;class b5{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??I5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oT(this),this.idTokenSubscription=new oT(this),this.beforeStateQueue=new k5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),r=await bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(In(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(hs(this));const n=e?Xe(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S5(this),n=new b5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&r5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xo(t){return Xe(t)}class oT{constructor(e){this.auth=e,this.observer=null,this.addObserver=E6(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P5(t){Od=t}function lP(t){return Od.loadJS(t)}function R5(){return Od.recaptchaEnterpriseScript}function C5(){return Od.gapiScript}function N5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class D5{constructor(){this.enterprise=new O5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class O5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const L5="recaptcha-enterprise",uP="NO_RECAPTCHA";class j5{constructor(e){this.type=L5,this.auth=Xo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{f5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new d5(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;tT(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(uP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D5().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&tT(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=R5();l.length!==0&&(l+=a),lP(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function aT(t,e,n,r=!1,s=!1){const i=new j5(t);let o;if(s)o=uP;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function lT(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await aT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await aT(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t,e){const n=_i(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ws(i,e??{}))return s;Dn(s,"already-initialized")}return n.initialize({options:e})}function V5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function z5(t,e,n){const r=Xo(t);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=cP(e),{host:o,port:a}=F5(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(ws(u,r.config.emulator)&&ws(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qo(o)?(dA(`${i}//${o}${l}`),fA("Auth",!0)):$5()}function cP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function F5(t){const e=cP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:uT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:uT(o)}}}function uT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function U5(t,e){return Cs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e){return Dd(t,"POST","/v1/accounts:signInWithPassword",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){return Dd(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}async function W5(t,e){return Dd(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends $v{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lT(e,n,"signInWithPassword",B5);case"emailLink":return q5(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lT(e,r,"signUpPassword",U5);case"emailLink":return W5(e,{idToken:n,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t,e){return Dd(t,"POST","/v1/accounts:signInWithIdp",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="http://localhost";class hi extends $v{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new hi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yo(e,n)}buildRequest(){const e={requestUri:H5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G5(t){const e=ja(Ma(t)).link,n=e?ja(Ma(e)).deep_link_id:null,r=ja(Ma(t)).deep_link_id;return(r?ja(Ma(r)).link:null)||r||n||e||t}class Uv{constructor(e){const n=ja(Ma(e)),r=n.apiKey??null,s=n.oobCode??null,i=K5(n.mode??null);X(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=G5(e);try{return new Uv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return $l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Uv.parseLink(n);return X(r,"argument-error"),$l._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends hP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends hu{constructor(){super("facebook.com")}static credential(e){return hi._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hi._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends hu{constructor(){super("github.com")}static credential(e){return hi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends hu{constructor(){super("twitter.com")}static credential(e,n){return hi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await bn._fromIdTokenResponse(e,r,s),o=cT(r);return new No({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=cT(r);return new No({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function cT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends On{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Mh(e,n,r,s)}}function dP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,i,e,r):i})}async function Q5(t,e,n=!1){const r=await Fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return No._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e,n=!1){const{auth:r}=t;if(In(r.app))return Promise.reject(hs(r));const s="reauthenticate";try{const i=await Fl(t,dP(r,s,e,t),n);X(i.idToken,r,"internal-error");const o=zv(i.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),No._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Dn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e,n=!1){if(In(t.app))return Promise.reject(hs(t));const r="signIn",s=await dP(t,r,e),i=await No._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function X5(t,e){return fP(Xo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t){const e=Xo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Z5(t,e,n){return In(t.app)?Promise.reject(hs(t)):X5(Xe(t),Jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J5(t),r})}function e9(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function t9(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function n9(t,e,n,r){return Xe(t).onAuthStateChanged(e,n,r)}function r9(t){return Xe(t).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=1e3,i9=10;class mP extends pP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);x5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,i9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mP.type="LOCAL";const o9=mP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP extends pP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gP.type="SESSION";const yP=gP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ld(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await a9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Bv("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function u9(t){Kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function c9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function d9(){return vP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="firebaseLocalStorageDb",f9=1,zh="firebaseLocalStorage",_P="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jd(t,e){return t.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function p9(){const t=indexedDB.deleteDatabase(wP);return new du(t).toPromise()}function _g(){const t=indexedDB.open(wP,f9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zh,{keyPath:_P})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zh)?e(r):(r.close(),await p9(),e(await _g()))})})}async function hT(t,e,n){const r=jd(t,!0).put({[_P]:e,value:n});return new du(r).toPromise()}async function m9(t,e){const n=jd(t,!1).get(e),r=await new du(n).toPromise();return r===void 0?null:r.value}function dT(t,e){const n=jd(t,!0).delete(e);return new du(n).toPromise()}const g9=800,y9=3;class EP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _g(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ld._getInstance(d9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await c9(),!this.activeServiceWorker)return;this.sender=new l9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _g();return await hT(e,Vh,"1"),await dT(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=jd(s,!1).getAll();return new du(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EP.type="LOCAL";const v9=EP;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e){return e?mr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends $v{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _9(t){return fP(t.auth,new qv(t),t.bypassAuthState)}function E9(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Y5(n,new qv(t),t.bypassAuthState)}async function T9(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Q5(n,new qv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _9;case"linkViaPopup":case"linkViaRedirect":return T9;case"reauthViaPopup":case"reauthViaRedirect":return E9;default:Dn(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new cu(2e3,1e4);class so extends TP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x9.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="pendingRedirect",Uc=new Map;class S9 extends TP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const r=await I9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I9(t,e){const n=P9(e),r=A9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function b9(t,e){Uc.set(t._key(),e)}function A9(t){return mr(t._redirectPersistence)}function P9(t){return $c(k9,t.config.apiKey,t.name)}async function R9(t,e,n=!1){if(In(t.app))return Promise.reject(hs(t));const r=Xo(t),s=w9(r,e),o=await new S9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=10*60*1e3;class N9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xP(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C9&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(e))}saveEventToCache(e){this.cachedEventUids.add(fT(e)),this.lastProcessedEventTime=Date.now()}}function fT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(t,e={}){return Cs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j9=/^https?/;async function M9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await O9(t);for(const n of e)try{if(V9(n))return}catch{}Dn(t,"unauthorized-domain")}function V9(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!j9.test(n))return!1;if(L9.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=new cu(3e4,6e4);function pT(){const t=Kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function F9(t){return new Promise((e,n)=>{var s,i,o;function r(){pT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pT(),n(Hn(t,"network-request-failed"))},timeout:z9.get()})}if((i=(s=Kn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Kn().gapi)!=null&&o.load)r();else{const a=N5("iframefcb");return Kn()[a]=()=>{gapi.load?r():n(Hn(t,"network-request-failed"))},lP(`${C5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function $9(t){return Bc=Bc||F9(t),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=new cu(5e3,15e3),B9="__/auth/iframe",q9="emulator/auth/iframe",W9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K9(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vv(e,q9):`https://${t.config.authDomain}/${B9}`,r={apiKey:e.apiKey,appName:t.name,v:Yo},s=H9.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${uu(r).slice(1)}`}async function G9(t){const e=await $9(t),n=Kn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:K9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W9,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Hn(t,"network-request-failed"),a=Kn().setTimeout(()=>{i(o)},U9.get());function l(){Kn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y9=500,X9=600,J9="_blank",Z9="http://localhost";class mT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eB(t,e,n,r=Y9,s=X9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Q9,width:r.toString(),height:s.toString(),top:i,left:o},u=xt().toLowerCase();n&&(a=tP(u)?J9:n),ZA(u)&&(e=e||Z9,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(T5(u)&&a!=="_self")return tB(e||"",a),new mT(null);const d=window.open(e||"",a,h);X(d,t,"popup-blocked");try{d.focus()}catch{}return new mT(d)}function tB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="__/auth/handler",rB="emulator/auth/handler",sB=encodeURIComponent("fac");async function gT(t,e,n,r,s,i){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yo,eventId:s};if(e instanceof hP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof hu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${sB}=${encodeURIComponent(l)}`:"";return`${iB(t)}?${uu(a).slice(1)}${u}`}function iB({config:t}){return t.emulator?Vv(t,rB):`https://${t.authDomain}/${nB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="webStorageSupport";class oB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yP,this._completeRedirectFn=R9,this._overrideRedirectResult=b9}async _openPopup(e,n,r,s){var o;Ar((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await gT(e,n,r,vg(),s);return eB(e,i,Bv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await gT(e,n,r,vg(),s);return u9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ar(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G9(e),r=new N9(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cp,{type:Cp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Cp];i!==void 0&&n(!!i),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oP()||eP()||Fv()}}const aB=oB;var yT="@firebase/auth",vT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cB(t){Zn(new Nn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aP(t)},u=new A5(r,s,i,l);return V5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zn(new Nn("auth-internal",e=>{const n=Xo(e.getProvider("auth").getImmediate());return(r=>new lB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cn(yT,vT,uB(t)),cn(yT,vT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=5*60,dB=hA("authIdTokenMaxAge")||hB;let wT=null;const fB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dB)return;const s=n==null?void 0:n.token;wT!==s&&(wT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pB(t=Cv()){const e=_i(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M5(t,{popupRedirectResolver:aB,persistence:[v9,o9,yP]}),r=hA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=fB(i.toString());t9(n,o,()=>o(n.currentUser)),e9(n,a=>o(a))}}const s=uA("auth");return s&&z5(n,`http://${s}`),n}function mB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}P5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Hn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",mB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cB("Browser");var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,kP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function b(){}b.prototype=T.prototype,k.D=T.prototype,k.prototype=new b,k.prototype.constructor=k,k.C=function(A,N,L){for(var P=Array(arguments.length-2),G=2;G<arguments.length;G++)P[G-2]=arguments[G];return T.prototype[N].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,T,b){b||(b=0);var A=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)A[N]=T.charCodeAt(b++)|T.charCodeAt(b++)<<8|T.charCodeAt(b++)<<16|T.charCodeAt(b++)<<24;else for(N=0;16>N;++N)A[N]=T[b++]|T[b++]<<8|T[b++]<<16|T[b++]<<24;T=k.g[0],b=k.g[1],N=k.g[2];var L=k.g[3],P=T+(L^b&(N^L))+A[0]+3614090360&4294967295;T=b+(P<<7&4294967295|P>>>25),P=L+(N^T&(b^N))+A[1]+3905402710&4294967295,L=T+(P<<12&4294967295|P>>>20),P=N+(b^L&(T^b))+A[2]+606105819&4294967295,N=L+(P<<17&4294967295|P>>>15),P=b+(T^N&(L^T))+A[3]+3250441966&4294967295,b=N+(P<<22&4294967295|P>>>10),P=T+(L^b&(N^L))+A[4]+4118548399&4294967295,T=b+(P<<7&4294967295|P>>>25),P=L+(N^T&(b^N))+A[5]+1200080426&4294967295,L=T+(P<<12&4294967295|P>>>20),P=N+(b^L&(T^b))+A[6]+2821735955&4294967295,N=L+(P<<17&4294967295|P>>>15),P=b+(T^N&(L^T))+A[7]+4249261313&4294967295,b=N+(P<<22&4294967295|P>>>10),P=T+(L^b&(N^L))+A[8]+1770035416&4294967295,T=b+(P<<7&4294967295|P>>>25),P=L+(N^T&(b^N))+A[9]+2336552879&4294967295,L=T+(P<<12&4294967295|P>>>20),P=N+(b^L&(T^b))+A[10]+4294925233&4294967295,N=L+(P<<17&4294967295|P>>>15),P=b+(T^N&(L^T))+A[11]+2304563134&4294967295,b=N+(P<<22&4294967295|P>>>10),P=T+(L^b&(N^L))+A[12]+1804603682&4294967295,T=b+(P<<7&4294967295|P>>>25),P=L+(N^T&(b^N))+A[13]+4254626195&4294967295,L=T+(P<<12&4294967295|P>>>20),P=N+(b^L&(T^b))+A[14]+2792965006&4294967295,N=L+(P<<17&4294967295|P>>>15),P=b+(T^N&(L^T))+A[15]+1236535329&4294967295,b=N+(P<<22&4294967295|P>>>10),P=T+(N^L&(b^N))+A[1]+4129170786&4294967295,T=b+(P<<5&4294967295|P>>>27),P=L+(b^N&(T^b))+A[6]+3225465664&4294967295,L=T+(P<<9&4294967295|P>>>23),P=N+(T^b&(L^T))+A[11]+643717713&4294967295,N=L+(P<<14&4294967295|P>>>18),P=b+(L^T&(N^L))+A[0]+3921069994&4294967295,b=N+(P<<20&4294967295|P>>>12),P=T+(N^L&(b^N))+A[5]+3593408605&4294967295,T=b+(P<<5&4294967295|P>>>27),P=L+(b^N&(T^b))+A[10]+38016083&4294967295,L=T+(P<<9&4294967295|P>>>23),P=N+(T^b&(L^T))+A[15]+3634488961&4294967295,N=L+(P<<14&4294967295|P>>>18),P=b+(L^T&(N^L))+A[4]+3889429448&4294967295,b=N+(P<<20&4294967295|P>>>12),P=T+(N^L&(b^N))+A[9]+568446438&4294967295,T=b+(P<<5&4294967295|P>>>27),P=L+(b^N&(T^b))+A[14]+3275163606&4294967295,L=T+(P<<9&4294967295|P>>>23),P=N+(T^b&(L^T))+A[3]+4107603335&4294967295,N=L+(P<<14&4294967295|P>>>18),P=b+(L^T&(N^L))+A[8]+1163531501&4294967295,b=N+(P<<20&4294967295|P>>>12),P=T+(N^L&(b^N))+A[13]+2850285829&4294967295,T=b+(P<<5&4294967295|P>>>27),P=L+(b^N&(T^b))+A[2]+4243563512&4294967295,L=T+(P<<9&4294967295|P>>>23),P=N+(T^b&(L^T))+A[7]+1735328473&4294967295,N=L+(P<<14&4294967295|P>>>18),P=b+(L^T&(N^L))+A[12]+2368359562&4294967295,b=N+(P<<20&4294967295|P>>>12),P=T+(b^N^L)+A[5]+4294588738&4294967295,T=b+(P<<4&4294967295|P>>>28),P=L+(T^b^N)+A[8]+2272392833&4294967295,L=T+(P<<11&4294967295|P>>>21),P=N+(L^T^b)+A[11]+1839030562&4294967295,N=L+(P<<16&4294967295|P>>>16),P=b+(N^L^T)+A[14]+4259657740&4294967295,b=N+(P<<23&4294967295|P>>>9),P=T+(b^N^L)+A[1]+2763975236&4294967295,T=b+(P<<4&4294967295|P>>>28),P=L+(T^b^N)+A[4]+1272893353&4294967295,L=T+(P<<11&4294967295|P>>>21),P=N+(L^T^b)+A[7]+4139469664&4294967295,N=L+(P<<16&4294967295|P>>>16),P=b+(N^L^T)+A[10]+3200236656&4294967295,b=N+(P<<23&4294967295|P>>>9),P=T+(b^N^L)+A[13]+681279174&4294967295,T=b+(P<<4&4294967295|P>>>28),P=L+(T^b^N)+A[0]+3936430074&4294967295,L=T+(P<<11&4294967295|P>>>21),P=N+(L^T^b)+A[3]+3572445317&4294967295,N=L+(P<<16&4294967295|P>>>16),P=b+(N^L^T)+A[6]+76029189&4294967295,b=N+(P<<23&4294967295|P>>>9),P=T+(b^N^L)+A[9]+3654602809&4294967295,T=b+(P<<4&4294967295|P>>>28),P=L+(T^b^N)+A[12]+3873151461&4294967295,L=T+(P<<11&4294967295|P>>>21),P=N+(L^T^b)+A[15]+530742520&4294967295,N=L+(P<<16&4294967295|P>>>16),P=b+(N^L^T)+A[2]+3299628645&4294967295,b=N+(P<<23&4294967295|P>>>9),P=T+(N^(b|~L))+A[0]+4096336452&4294967295,T=b+(P<<6&4294967295|P>>>26),P=L+(b^(T|~N))+A[7]+1126891415&4294967295,L=T+(P<<10&4294967295|P>>>22),P=N+(T^(L|~b))+A[14]+2878612391&4294967295,N=L+(P<<15&4294967295|P>>>17),P=b+(L^(N|~T))+A[5]+4237533241&4294967295,b=N+(P<<21&4294967295|P>>>11),P=T+(N^(b|~L))+A[12]+1700485571&4294967295,T=b+(P<<6&4294967295|P>>>26),P=L+(b^(T|~N))+A[3]+2399980690&4294967295,L=T+(P<<10&4294967295|P>>>22),P=N+(T^(L|~b))+A[10]+4293915773&4294967295,N=L+(P<<15&4294967295|P>>>17),P=b+(L^(N|~T))+A[1]+2240044497&4294967295,b=N+(P<<21&4294967295|P>>>11),P=T+(N^(b|~L))+A[8]+1873313359&4294967295,T=b+(P<<6&4294967295|P>>>26),P=L+(b^(T|~N))+A[15]+4264355552&4294967295,L=T+(P<<10&4294967295|P>>>22),P=N+(T^(L|~b))+A[6]+2734768916&4294967295,N=L+(P<<15&4294967295|P>>>17),P=b+(L^(N|~T))+A[13]+1309151649&4294967295,b=N+(P<<21&4294967295|P>>>11),P=T+(N^(b|~L))+A[4]+4149444226&4294967295,T=b+(P<<6&4294967295|P>>>26),P=L+(b^(T|~N))+A[11]+3174756917&4294967295,L=T+(P<<10&4294967295|P>>>22),P=N+(T^(L|~b))+A[2]+718787259&4294967295,N=L+(P<<15&4294967295|P>>>17),P=b+(L^(N|~T))+A[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+L&4294967295}r.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var b=T-this.blockSize,A=this.B,N=this.h,L=0;L<T;){if(N==0)for(;L<=b;)s(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<T;)if(A[N++]=k.charCodeAt(L++),N==this.blockSize){s(this,A),N=0;break}}else for(;L<T;)if(A[N++]=k[L++],N==this.blockSize){s(this,A),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var b=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=b&255,b/=256;for(this.u(k),k=Array(16),T=b=0;4>T;++T)for(var A=0;32>A;A+=8)k[b++]=this.g[T]>>>A&255;return k};function i(k,T){var b=a;return Object.prototype.hasOwnProperty.call(b,k)?b[k]:b[k]=T(k)}function o(k,T){this.h=T;for(var b=[],A=!0,N=k.length-1;0<=N;N--){var L=k[N]|0;A&&L==T||(b[N]=L,A=!1)}this.g=b}var a={};function l(k){return-128<=k&&128>k?i(k,function(T){return new o([T|0],0>T?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return d;if(0>k)return S(u(-k));for(var T=[],b=1,A=0;k>=b;A++)T[A]=k/b|0,b*=4294967296;return new o(T,0)}function h(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return S(h(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(T,8)),A=d,N=0;N<k.length;N+=8){var L=Math.min(8,k.length-N),P=parseInt(k.substring(N,N+L),T);8>L?(L=u(Math.pow(T,L)),A=A.j(L).add(u(P))):(A=A.j(b),A=A.add(u(P)))}return A}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-S(this).m();for(var k=0,T=1,b=0;b<this.g.length;b++){var A=this.i(b);k+=(0<=A?A:4294967296+A)*T,T*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(y(this))return"0";if(x(this))return"-"+S(this).toString(k);for(var T=u(Math.pow(k,6)),b=this,A="";;){var N=R(b,T).g;b=w(b,N.j(T));var L=((0<b.g.length?b.g[0]:b.h)>>>0).toString(k);if(b=N,y(b))return L+A;for(;6>L.length;)L="0"+L;A=L+A}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function y(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function x(k){return k.h==-1}t.l=function(k){return k=w(this,k),x(k)?-1:y(k)?0:1};function S(k){for(var T=k.g.length,b=[],A=0;A<T;A++)b[A]=~k.g[A];return new o(b,~k.h).add(f)}t.abs=function(){return x(this)?S(this):this},t.add=function(k){for(var T=Math.max(this.g.length,k.g.length),b=[],A=0,N=0;N<=T;N++){var L=A+(this.i(N)&65535)+(k.i(N)&65535),P=(L>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);A=P>>>16,L&=65535,P&=65535,b[N]=P<<16|L}return new o(b,b[b.length-1]&-2147483648?-1:0)};function w(k,T){return k.add(S(T))}t.j=function(k){if(y(this)||y(k))return d;if(x(this))return x(k)?S(this).j(S(k)):S(S(this).j(k));if(x(k))return S(this.j(S(k)));if(0>this.l(m)&&0>k.l(m))return u(this.m()*k.m());for(var T=this.g.length+k.g.length,b=[],A=0;A<2*T;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<k.g.length;N++){var L=this.i(A)>>>16,P=this.i(A)&65535,G=k.i(N)>>>16,Ee=k.i(N)&65535;b[2*A+2*N]+=P*Ee,_(b,2*A+2*N),b[2*A+2*N+1]+=L*Ee,_(b,2*A+2*N+1),b[2*A+2*N+1]+=P*G,_(b,2*A+2*N+1),b[2*A+2*N+2]+=L*G,_(b,2*A+2*N+2)}for(A=0;A<T;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=T;A<2*T;A++)b[A]=0;return new o(b,0)};function _(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function E(k,T){this.g=k,this.h=T}function R(k,T){if(y(T))throw Error("division by zero");if(y(k))return new E(d,d);if(x(k))return T=R(S(k),T),new E(S(T.g),S(T.h));if(x(T))return T=R(k,S(T)),new E(S(T.g),T.h);if(30<k.g.length){if(x(k)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var b=f,A=T;0>=A.l(k);)b=O(b),A=O(A);var N=D(b,1),L=D(A,1);for(A=D(A,2),b=D(b,2);!y(A);){var P=L.add(A);0>=P.l(k)&&(N=N.add(b),L=P),A=D(A,1),b=D(b,1)}return T=w(k,N.j(T)),new E(N,T)}for(N=d;0<=k.l(T);){for(b=Math.max(1,Math.floor(k.m()/T.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),L=u(b),P=L.j(T);x(P)||0<P.l(k);)b-=A,L=u(b),P=L.j(T);y(L)&&(L=f),N=N.add(L),k=w(k,P)}return new E(N,k)}t.A=function(k){return R(this,k).h},t.and=function(k){for(var T=Math.max(this.g.length,k.g.length),b=[],A=0;A<T;A++)b[A]=this.i(A)&k.i(A);return new o(b,this.h&k.h)},t.or=function(k){for(var T=Math.max(this.g.length,k.g.length),b=[],A=0;A<T;A++)b[A]=this.i(A)|k.i(A);return new o(b,this.h|k.h)},t.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),b=[],A=0;A<T;A++)b[A]=this.i(A)^k.i(A);return new o(b,this.h^k.h)};function O(k){for(var T=k.g.length+1,b=[],A=0;A<T;A++)b[A]=k.i(A)<<1|k.i(A-1)>>>31;return new o(b,k.h)}function D(k,T){var b=T>>5;T%=32;for(var A=k.g.length-b,N=[],L=0;L<A;L++)N[L]=0<T?k.i(L+b)>>>T|k.i(L+b+1)<<32-T:k.i(L+b);return new o(N,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,ds=o}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SP,Va,IP,qc,Eg,bP,AP,PP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var g=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var j=c[I];if(!(j in g))break e;g=g[j]}c=c[c.length-1],I=g[c],p=p(I),p!=I&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function i(c,p){c instanceof String&&(c+="");var g=0,I=!1,j={next:function(){if(!I&&g<c.length){var M=g++;return{value:p(M,c[M]),done:!1}}return I=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(c){return c||function(){return i(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function h(c,p,g){return c.call.apply(c.bind,arguments)}function d(c,p,g){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,I),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function f(c,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function m(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function y(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(I,j,M){for(var U=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)U[ve-2]=arguments[ve];return p.prototype[j].apply(I,U)}}function x(c){const p=c.length;if(0<p){const g=Array(p);for(let I=0;I<p;I++)g[I]=c[I];return g}return[]}function S(c,p){for(let g=1;g<arguments.length;g++){const I=arguments[g];if(l(I)){const j=c.length||0,M=I.length||0;c.length=j+M;for(let U=0;U<M;U++)c[j+U]=I[U]}else c.push(I)}}class w{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function R(c){return R[" "](c),c}R[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function D(c,p,g){for(const I in c)p.call(g,c[I],I,c)}function k(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function T(c){const p={};for(const g in c)p[g]=c[g];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,p){let g,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(g in I)c[g]=I[g];for(let M=0;M<b.length;M++)g=b[M],Object.prototype.hasOwnProperty.call(I,g)&&(c[g]=I[g])}}function N(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function L(c){a.setTimeout(()=>{throw c},0)}function P(){var c=Q;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class G{constructor(){this.h=this.g=null}add(p,g){const I=Ee.get();I.set(p,g),this.h?this.h.next=I:this.g=I,this.h=I}}var Ee=new w(()=>new He,c=>c.reset());class He{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let re,$=!1,Q=new G,Y=()=>{const c=a.Promise.resolve(void 0);re=()=>{c.then(ye)}};var ye=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(g){L(g)}var p=Ee;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}$=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var Zt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function pn(c,p){if(be.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{R(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:mn[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&pn.aa.h.call(this)}}y(pn,be);var mn={2:"touch",3:"pen",4:"mouse"};pn.prototype.h=function(){pn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var en="closure_listenable_"+(1e6*Math.random()|0),_u=0;function nf(c,p,g,I,j){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!I,this.ha=j,this.key=++_u,this.da=this.fa=!1}function Eu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tu(c){this.src=c,this.g={},this.h=0}Tu.prototype.add=function(c,p,g,I,j){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var U=sf(c,p,I,j);return-1<U?(p=c[U],g||(p.fa=!1)):(p=new nf(p,this.src,M,!!I,j),p.fa=g,c.push(p)),p};function rf(c,p){var g=p.type;if(g in c.g){var I=c.g[g],j=Array.prototype.indexOf.call(I,p,void 0),M;(M=0<=j)&&Array.prototype.splice.call(I,j,1),M&&(Eu(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function sf(c,p,g,I){for(var j=0;j<c.length;++j){var M=c[j];if(!M.da&&M.listener==p&&M.capture==!!g&&M.ha==I)return j}return-1}var of="closure_lm_"+(1e6*Math.random()|0),af={};function N0(c,p,g,I,j){if(Array.isArray(p)){for(var M=0;M<p.length;M++)N0(c,p[M],g,I,j);return null}return g=L0(g),c&&c[en]?c.K(p,g,u(I)?!!I.capture:!1,j):uC(c,p,g,!1,I,j)}function uC(c,p,g,I,j,M){if(!p)throw Error("Invalid event type");var U=u(j)?!!j.capture:!!j,ve=uf(c);if(ve||(c[of]=ve=new Tu(c)),g=ve.add(p,g,I,U,M),g.proxy)return g;if(I=cC(),g.proxy=I,I.src=c,I.listener=g,c.addEventListener)Zt||(j=U),j===void 0&&(j=!1),c.addEventListener(p.toString(),I,j);else if(c.attachEvent)c.attachEvent(O0(p.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function cC(){function c(g){return p.call(c.src,c.listener,g)}const p=hC;return c}function D0(c,p,g,I,j){if(Array.isArray(p))for(var M=0;M<p.length;M++)D0(c,p[M],g,I,j);else I=u(I)?!!I.capture:!!I,g=L0(g),c&&c[en]?(c=c.i,p=String(p).toString(),p in c.g&&(M=c.g[p],g=sf(M,g,I,j),-1<g&&(Eu(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete c.g[p],c.h--)))):c&&(c=uf(c))&&(p=c.g[p.toString()],c=-1,p&&(c=sf(p,g,I,j)),(g=-1<c?p[c]:null)&&lf(g))}function lf(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[en])rf(p.i,c);else{var g=c.type,I=c.proxy;p.removeEventListener?p.removeEventListener(g,I,c.capture):p.detachEvent?p.detachEvent(O0(g),I):p.addListener&&p.removeListener&&p.removeListener(I),(g=uf(p))?(rf(g,c),g.h==0&&(g.src=null,p[of]=null)):Eu(c)}}}function O0(c){return c in af?af[c]:af[c]="on"+c}function hC(c,p){if(c.da)c=!0;else{p=new pn(p,this);var g=c.listener,I=c.ha||c.src;c.fa&&lf(c),c=g.call(I,p)}return c}function uf(c){return c=c[of],c instanceof Tu?c:null}var cf="__closure_events_fn_"+(1e9*Math.random()>>>0);function L0(c){return typeof c=="function"?c:(c[cf]||(c[cf]=function(p){return c.handleEvent(p)}),c[cf])}function ht(){pe.call(this),this.i=new Tu(this),this.M=this,this.F=null}y(ht,pe),ht.prototype[en]=!0,ht.prototype.removeEventListener=function(c,p,g,I){D0(this,c,p,g,I)};function kt(c,p){var g,I=c.F;if(I)for(g=[];I;I=I.F)g.push(I);if(c=c.M,I=p.type||p,typeof p=="string")p=new be(p,c);else if(p instanceof be)p.target=p.target||c;else{var j=p;p=new be(I,c),A(p,j)}if(j=!0,g)for(var M=g.length-1;0<=M;M--){var U=p.g=g[M];j=xu(U,I,!0,p)&&j}if(U=p.g=c,j=xu(U,I,!0,p)&&j,j=xu(U,I,!1,p)&&j,g)for(M=0;M<g.length;M++)U=p.g=g[M],j=xu(U,I,!1,p)&&j}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],I=0;I<g.length;I++)Eu(g[I]);delete c.g[p],c.h--}}this.F=null},ht.prototype.K=function(c,p,g,I){return this.i.add(String(c),p,!1,g,I)},ht.prototype.L=function(c,p,g,I){return this.i.add(String(c),p,!0,g,I)};function xu(c,p,g,I){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,M=0;M<p.length;++M){var U=p[M];if(U&&!U.da&&U.capture==g){var ve=U.listener,rt=U.ha||U.src;U.fa&&rf(c.i,U),j=ve.call(rt,I)!==!1&&j}}return j&&!I.defaultPrevented}function j0(c,p,g){if(typeof c=="function")g&&(c=f(c,g));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function M0(c){c.g=j0(()=>{c.g=null,c.i&&(c.i=!1,M0(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class dC extends pe{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:M0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(c){pe.call(this),this.h=c,this.g={}}y(ra,pe);var V0=[];function z0(c){D(c.g,function(p,g){this.g.hasOwnProperty(g)&&lf(p)},c),c.g={}}ra.prototype.N=function(){ra.aa.N.call(this),z0(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hf=a.JSON.stringify,fC=a.JSON.parse,pC=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function df(){}df.prototype.h=null;function F0(c){return c.h||(c.h=c.i())}function $0(){}var sa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ff(){be.call(this,"d")}y(ff,be);function pf(){be.call(this,"c")}y(pf,be);var Os={},U0=null;function ku(){return U0=U0||new ht}Os.La="serverreachability";function B0(c){be.call(this,Os.La,c)}y(B0,be);function ia(c){const p=ku();kt(p,new B0(p))}Os.STAT_EVENT="statevent";function q0(c,p){be.call(this,Os.STAT_EVENT,c),this.stat=p}y(q0,be);function St(c){const p=ku();kt(p,new q0(p,c))}Os.Ma="timingevent";function W0(c,p){be.call(this,Os.Ma,c),this.size=p}y(W0,be);function oa(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function aa(){this.g=!0}aa.prototype.xa=function(){this.g=!1};function mC(c,p,g,I,j,M){c.info(function(){if(c.g)if(M)for(var U="",ve=M.split("&"),rt=0;rt<ve.length;rt++){var he=ve[rt].split("=");if(1<he.length){var dt=he[0];he=he[1];var ft=dt.split("_");U=2<=ft.length&&ft[1]=="type"?U+(dt+"="+he+"&"):U+(dt+"=redacted&")}}else U=null;else U=M;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+p+`
`+g+`
`+U})}function gC(c,p,g,I,j,M,U){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+p+`
`+g+`
`+M+" "+U})}function Si(c,p,g,I){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+vC(c,g)+(I?" "+I:"")})}function yC(c,p){c.info(function(){return"TIMEOUT: "+p})}aa.prototype.info=function(){};function vC(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var I=g[c];if(!(2>I.length)){var j=I[1];if(Array.isArray(j)&&!(1>j.length)){var M=j[0];if(M!="noop"&&M!="stop"&&M!="close")for(var U=1;U<j.length;U++)j[U]=""}}}}return hf(g)}catch{return p}}var Su={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},H0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mf;function Iu(){}y(Iu,df),Iu.prototype.g=function(){return new XMLHttpRequest},Iu.prototype.i=function(){return{}},mf=new Iu;function Dr(c,p,g,I){this.j=c,this.i=p,this.l=g,this.R=I||1,this.U=new ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new K0}function K0(){this.i=null,this.g="",this.h=!1}var G0={},gf={};function yf(c,p,g){c.L=1,c.v=Ru(sr(p)),c.m=g,c.P=!0,Q0(c,null)}function Q0(c,p){c.F=Date.now(),bu(c),c.A=sr(c.v);var g=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),uw(g.i,"t",I),c.C=0,g=c.j.J,c.h=new K0,c.g=bw(c.j,g?p:null,!c.m),0<c.O&&(c.M=new dC(f(c.Y,c,c.g),c.O)),p=c.U,g=c.g,I=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(V0[0]=j.toString()),j=V0);for(var M=0;M<j.length;M++){var U=N0(g,j[M],I||p.handleEvent,!1,p.h||p);if(!U)break;p.g[U.key]=U}p=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),ia(),mC(c.i,c.u,c.A,c.l,c.R,c.m)}Dr.prototype.ca=function(c){c=c.target;const p=this.M;p&&ir(c)==3?p.j():this.Y(c)},Dr.prototype.Y=function(c){try{if(c==this.g)e:{const ft=ir(this.g);var p=this.g.Ba();const Ai=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||gw(this.g)))){this.J||ft!=4||p==7||(p==8||0>=Ai?ia(3):ia(2)),vf(this);var g=this.g.Z();this.X=g;t:if(Y0(this)){var I=gw(this.g);c="";var j=I.length,M=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ls(this),la(this);var U="";break t}this.h.i=new a.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(I[p],{stream:!(M&&p==j-1)});I.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=g==200,gC(this.i,this.u,this.A,this.l,this.R,ft,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,rt=this.g;if((ve=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ve)){var he=ve;break t}}he=null}if(g=he)Si(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wf(this,g);else{this.o=!1,this.s=3,St(12),Ls(this),la(this);break e}}if(this.P){g=!0;let gn;for(;!this.J&&this.C<U.length;)if(gn=wC(this,U),gn==gf){ft==4&&(this.s=4,St(14),g=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==G0){this.s=4,St(15),Si(this.i,this.l,U,"[Invalid Chunk]"),g=!1;break}else Si(this.i,this.l,gn,null),wf(this,gn);if(Y0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||U.length!=0||this.h.h||(this.s=1,St(16),g=!1),this.o=this.o&&g,!g)Si(this.i,this.l,U,"[Invalid Chunked Response]"),Ls(this),la(this);else if(0<U.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Sf(dt),dt.M=!0,St(11))}}else Si(this.i,this.l,U,null),wf(this,U);ft==4&&Ls(this),this.o&&!this.J&&(ft==4?xw(this.j,this):(this.o=!1,bu(this)))}else jC(this.g),g==400&&0<U.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Ls(this),la(this)}}}catch{}finally{}};function Y0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wC(c,p){var g=c.C,I=p.indexOf(`
`,g);return I==-1?gf:(g=Number(p.substring(g,I)),isNaN(g)?G0:(I+=1,I+g>p.length?gf:(p=p.slice(I,I+g),c.C=I+g,p)))}Dr.prototype.cancel=function(){this.J=!0,Ls(this)};function bu(c){c.S=Date.now()+c.I,X0(c,c.I)}function X0(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=oa(f(c.ba,c),p)}function vf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Dr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(yC(this.i,this.A),this.L!=2&&(ia(),St(17)),Ls(this),this.s=2,la(this)):X0(this,this.S-c)};function la(c){c.j.G==0||c.J||xw(c.j,c)}function Ls(c){vf(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,z0(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function wf(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||_f(g.h,c))){if(!c.K&&_f(g.h,c)&&g.G==3){try{var I=g.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)ju(g),Ou(g);else break e;kf(g),St(18)}}else g.za=j[1],0<g.za-g.T&&37500>j[2]&&g.F&&g.v==0&&!g.C&&(g.C=oa(f(g.Za,g),6e3));if(1>=ew(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ms(g,11)}else if((c.K||g.g==c)&&ju(g),!_(p))for(j=g.Da.g.parse(p),p=0;p<j.length;p++){let he=j[p];if(g.T=he[0],he=he[1],g.G==2)if(he[0]=="c"){g.K=he[1],g.ia=he[2];const dt=he[3];dt!=null&&(g.la=dt,g.j.info("VER="+g.la));const ft=he[4];ft!=null&&(g.Aa=ft,g.j.info("SVER="+g.Aa));const Ai=he[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(I=1.5*Ai,g.L=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const gn=c.g;if(gn){const Vu=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vu){var M=I.h;M.g||Vu.indexOf("spdy")==-1&&Vu.indexOf("quic")==-1&&Vu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Ef(M,M.h),M.h=null))}if(I.D){const If=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;If&&(I.ya=If,Te(I.I,I.D,If))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),I=g;var U=c;if(I.qa=Iw(I,I.J?I.ia:null,I.W),U.K){tw(I.h,U);var ve=U,rt=I.L;rt&&(ve.I=rt),ve.B&&(vf(ve),bu(ve)),I.g=U}else Ew(I);0<g.i.length&&Lu(g)}else he[0]!="stop"&&he[0]!="close"||Ms(g,7);else g.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Ms(g,7):xf(g):he[0]!="noop"&&g.l&&g.l.ta(he),g.v=0)}}ia(4)}catch{}}var _C=class{constructor(c,p){this.g=c,this.map=p}};function J0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Z0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ew(c){return c.h?1:c.g?c.g.size:0}function _f(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ef(c,p){c.g?c.g.add(p):c.h=p}function tw(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}J0.prototype.cancel=function(){if(this.i=nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return x(c.i)}function EC(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],g=c.length,I=0;I<g;I++)p.push(c[I]);return p}p=[],g=0;for(I in c)p[g++]=c[I];return p}function TC(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const I in c)p[g++]=I;return p}}}function rw(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=TC(c),I=EC(c),j=I.length,M=0;M<j;M++)p.call(void 0,I[M],g&&g[M],c)}var sw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xC(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var I=c[g].indexOf("="),j=null;if(0<=I){var M=c[g].substring(0,I);j=c[g].substring(I+1)}else M=c[g];p(M,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function js(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof js){this.h=c.h,Au(this,c.j),this.o=c.o,this.g=c.g,Pu(this,c.s),this.l=c.l;var p=c.i,g=new ha;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),iw(this,g),this.m=c.m}else c&&(p=String(c).match(sw))?(this.h=!1,Au(this,p[1]||"",!0),this.o=ua(p[2]||""),this.g=ua(p[3]||"",!0),Pu(this,p[4]),this.l=ua(p[5]||"",!0),iw(this,p[6]||"",!0),this.m=ua(p[7]||"")):(this.h=!1,this.i=new ha(null,this.h))}js.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ca(p,ow,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ca(p,ow,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(ca(g,g.charAt(0)=="/"?IC:SC,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",ca(g,AC)),c.join("")};function sr(c){return new js(c)}function Au(c,p,g){c.j=g?ua(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Pu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function iw(c,p,g){p instanceof ha?(c.i=p,PC(c.i,c.h)):(g||(p=ca(p,bC)),c.i=new ha(p,c.h))}function Te(c,p,g){c.i.set(p,g)}function Ru(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ua(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ca(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,kC),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kC(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ow=/[#\/\?@]/g,SC=/[#\?:]/g,IC=/[#\?]/g,bC=/[#\?@]/g,AC=/#/g;function ha(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Or(c){c.g||(c.g=new Map,c.h=0,c.i&&xC(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=ha.prototype,t.add=function(c,p){Or(this),this.i=null,c=Ii(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function aw(c,p){Or(c),p=Ii(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function lw(c,p){return Or(c),p=Ii(c,p),c.g.has(p)}t.forEach=function(c,p){Or(this),this.g.forEach(function(g,I){g.forEach(function(j){c.call(p,j,I,this)},this)},this)},t.na=function(){Or(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let I=0;I<p.length;I++){const j=c[I];for(let M=0;M<j.length;M++)g.push(p[I])}return g},t.V=function(c){Or(this);let p=[];if(typeof c=="string")lw(this,c)&&(p=p.concat(this.g.get(Ii(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return Or(this),this.i=null,c=Ii(this,c),lw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function uw(c,p,g){aw(c,p),0<g.length&&(c.i=null,c.g.set(Ii(c,p),x(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var I=p[g];const M=encodeURIComponent(String(I)),U=this.V(I);for(I=0;I<U.length;I++){var j=M;U[I]!==""&&(j+="="+encodeURIComponent(String(U[I]))),c.push(j)}}return this.i=c.join("&")};function Ii(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function PC(c,p){p&&!c.j&&(Or(c),c.i=null,c.g.forEach(function(g,I){var j=I.toLowerCase();I!=j&&(aw(this,I),uw(this,j,g))},c)),c.j=p}function RC(c,p){const g=new aa;if(a.Image){const I=new Image;I.onload=m(Lr,g,"TestLoadImage: loaded",!0,p,I),I.onerror=m(Lr,g,"TestLoadImage: error",!1,p,I),I.onabort=m(Lr,g,"TestLoadImage: abort",!1,p,I),I.ontimeout=m(Lr,g,"TestLoadImage: timeout",!1,p,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else p(!1)}function CC(c,p){const g=new aa,I=new AbortController,j=setTimeout(()=>{I.abort(),Lr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:I.signal}).then(M=>{clearTimeout(j),M.ok?Lr(g,"TestPingServer: ok",!0,p):Lr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Lr(g,"TestPingServer: error",!1,p)})}function Lr(c,p,g,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(g)}catch{}}function NC(){this.g=new pC}function DC(c,p,g){const I=g||"";try{rw(c,function(j,M){let U=j;u(j)&&(U=hf(j)),p.push(I+M+"="+encodeURIComponent(U))})}catch(j){throw p.push(I+"type="+encodeURIComponent("_badmap")),j}}function Cu(c){this.l=c.Ub||null,this.j=c.eb||!1}y(Cu,df),Cu.prototype.g=function(){return new Nu(this.l,this.j)},Cu.prototype.i=function(c){return function(){return c}}({});function Nu(c,p){ht.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Nu,ht),t=Nu.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,fa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?da(this):fa(this),this.readyState==3&&cw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,da(this))},t.Qa=function(c){this.g&&(this.response=c,da(this))},t.ga=function(){this.g&&da(this)};function da(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fa(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function fa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hw(c){let p="";return D(c,function(g,I){p+=I,p+=":",p+=g,p+=`\r
`}),p}function Tf(c,p,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=hw(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Te(c,p,g))}function je(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(je,ht);var OC=/^https?$/i,LC=["POST","PUT"];t=je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mf.g(),this.v=this.o?F0(this.o):F0(mf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(M){dw(this,M);return}if(c=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)g.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const M of I.keys())g.set(M,I.get(M));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(LC,p,void 0))||I||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,U]of g)this.g.setRequestHeader(M,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mw(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){dw(this,M)}};function dw(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,fw(c),Du(c)}function fw(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,kt(this,"complete"),kt(this,"abort"),Du(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Du(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pw(this):this.bb())},t.bb=function(){pw(this)};function pw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ir(c)!=4||c.Z()!=2)){if(c.u&&ir(c)==4)j0(c.Ea,0,c);else if(kt(c,"readystatechange"),ir(c)==4){c.h=!1;try{const U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var I;if(I=U===0){var j=String(c.D).match(sw)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),I=!OC.test(j?j.toLowerCase():"")}g=I}if(g)kt(c,"complete"),kt(c,"success");else{c.m=6;try{var M=2<ir(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",fw(c)}}finally{Du(c)}}}}function Du(c,p){if(c.g){mw(c);const g=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||kt(c,"ready");try{g.onreadystatechange=I}catch{}}}function mw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ir(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),fC(p)}};function gw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jC(c){const p={};c=(c.g&&2<=ir(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(_(c[I]))continue;var g=N(c[I]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=p[j]||[];p[j]=M,M.push(g)}k(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function yw(c){this.Aa=0,this.i=[],this.j=new aa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,c),this.cb=pa("retryDelaySeedMs",1e4,c),this.Wa=pa("forwardChannelMaxRetries",2,c),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new J0(c&&c.concurrentRequestLimit),this.Da=new NC,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yw.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,I){St(0),this.W=c,this.H=p||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.I=Iw(this,null,this.W),Lu(this)};function xf(c){if(vw(c),c.G==3){var p=c.U++,g=sr(c.I);if(Te(g,"SID",c.K),Te(g,"RID",p),Te(g,"TYPE","terminate"),ma(c,g),p=new Dr(c,c.j,p),p.L=2,p.v=Ru(sr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=bw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),bu(p)}Sw(c)}function Ou(c){c.g&&(Sf(c),c.g.cancel(),c.g=null)}function vw(c){Ou(c),c.u&&(a.clearTimeout(c.u),c.u=null),ju(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Lu(c){if(!Z0(c.h)&&!c.s){c.s=!0;var p=c.Ga;re||Y(),$||(re(),$=!0),Q.add(p,c),c.B=0}}function MC(c,p){return ew(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=oa(f(c.Ga,c,p),kw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Dr(this,this.j,c);let M=this.o;if(this.S&&(M?(M=T(M),A(M,this.S)):M=this.S),this.m!==null||this.O||(j.H=M,M=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=_w(this,j,p),g=sr(this.I),Te(g,"RID",c),Te(g,"CVER",22),this.D&&Te(g,"X-HTTP-Session-Id",this.D),ma(this,g),M&&(this.O?p="headers="+encodeURIComponent(String(hw(M)))+"&"+p:this.m&&Tf(g,this.m,M)),Ef(this.h,j),this.Ua&&Te(g,"TYPE","init"),this.P?(Te(g,"$req",p),Te(g,"SID","null"),j.T=!0,yf(j,g,null)):yf(j,g,p),this.G=2}}else this.G==3&&(c?ww(this,c):this.i.length==0||Z0(this.h)||ww(this))};function ww(c,p){var g;p?g=p.l:g=c.U++;const I=sr(c.I);Te(I,"SID",c.K),Te(I,"RID",g),Te(I,"AID",c.T),ma(c,I),c.m&&c.o&&Tf(I,c.m,c.o),g=new Dr(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=_w(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ef(c.h,g),yf(g,I,p)}function ma(c,p){c.H&&D(c.H,function(g,I){Te(p,I,g)}),c.l&&rw({},function(g,I){Te(p,I,g)})}function _w(c,p,g){g=Math.min(c.i.length,g);var I=c.l?f(c.l.Na,c.l,c):null;e:{var j=c.i;let M=-1;for(;;){const U=["count="+g];M==-1?0<g?(M=j[0].g,U.push("ofs="+M)):M=0:U.push("ofs="+M);let ve=!0;for(let rt=0;rt<g;rt++){let he=j[rt].g;const dt=j[rt].map;if(he-=M,0>he)M=Math.max(0,j[rt].g-100),ve=!1;else try{DC(dt,U,"req"+he+"_")}catch{I&&I(dt)}}if(ve){I=U.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,I}function Ew(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;re||Y(),$||(re(),$=!0),Q.add(p,c),c.v=0}}function kf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=oa(f(c.Fa,c),kw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Tw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=oa(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),Ou(this),Tw(this))};function Sf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Tw(c){c.g=new Dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=sr(c.qa);Te(p,"RID","rpc"),Te(p,"SID",c.K),Te(p,"AID",c.T),Te(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(p,"TO",c.ja),Te(p,"TYPE","xmlhttp"),ma(c,p),c.m&&c.o&&Tf(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Ru(sr(p)),g.m=null,g.P=!0,Q0(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Ou(this),kf(this),St(19))};function ju(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function xw(c,p){var g=null;if(c.g==p){ju(c),Sf(c),c.g=null;var I=2}else if(_f(c.h,p))g=p.D,tw(c.h,p),I=1;else return;if(c.G!=0){if(p.o)if(I==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;I=ku(),kt(I,new W0(I,g)),Lu(c)}else Ew(c);else if(j=p.s,j==3||j==0&&0<p.X||!(I==1&&MC(c,p)||I==2&&kf(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),j){case 1:Ms(c,5);break;case 4:Ms(c,10);break;case 3:Ms(c,6);break;default:Ms(c,2)}}}function kw(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function Ms(c,p){if(c.j.info("Error code "+p),p==2){var g=f(c.fb,c),I=c.Xa;const j=!I;I=new js(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Au(I,"https"),Ru(I),j?RC(I.toString(),g):CC(I.toString(),g)}else St(2);c.G=0,c.l&&c.l.sa(p),Sw(c),vw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Sw(c){if(c.G=0,c.ka=[],c.l){const p=nw(c.h);(p.length!=0||c.i.length!=0)&&(S(c.ka,p),S(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function Iw(c,p,g){var I=g instanceof js?sr(g):new js(g);if(I.g!="")p&&(I.g=p+"."+I.g),Pu(I,I.s);else{var j=a.location;I=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var M=new js(null);I&&Au(M,I),p&&(M.g=p),j&&Pu(M,j),g&&(M.l=g),I=M}return g=c.D,p=c.ya,g&&p&&Te(I,g,p),Te(I,"VER",c.la),ma(c,I),I}function bw(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new je(new Cu({eb:g})):new je(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Aw(){}t=Aw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mu(){}Mu.prototype.g=function(c,p){return new qt(c,p)};function qt(c,p){ht.call(this),this.g=new yw(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new bi(this)}y(qt,ht),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){xf(this.g)},qt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=hf(c),c=g);p.i.push(new _C(p.Ya++,c)),p.G==3&&Lu(p)},qt.prototype.N=function(){this.g.l=null,delete this.j,xf(this.g),delete this.g,qt.aa.N.call(this)};function Pw(c){ff.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(Pw,ff);function Rw(){pf.call(this),this.status=1}y(Rw,pf);function bi(c){this.g=c}y(bi,Aw),bi.prototype.ua=function(){kt(this.g,"a")},bi.prototype.ta=function(c){kt(this.g,new Pw(c))},bi.prototype.sa=function(c){kt(this.g,new Rw)},bi.prototype.ra=function(){kt(this.g,"b")},Mu.prototype.createWebChannel=Mu.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,PP=function(){return new Mu},AP=function(){return ku()},bP=Os,Eg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Su.NO_ERROR=0,Su.TIMEOUT=8,Su.HTTP_ERROR=6,qc=Su,H0.COMPLETE="complete",IP=H0,$0.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Va=$0,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,SP=je}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const ET="@firebase/firestore",TT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Rd("@firebase/firestore");function Mi(){return di.logLevel}function q(t,...e){if(di.logLevel<=oe.DEBUG){const n=e.map(Wv);di.debug(`Firestore (${Zo}): ${t}`,...n)}}function Pr(t,...e){if(di.logLevel<=oe.ERROR){const n=e.map(Wv);di.error(`Firestore (${Zo}): ${t}`,...n)}}function Do(t,...e){if(di.logLevel<=oe.WARN){const n=e.map(Wv);di.warn(`Firestore (${Zo}): ${t}`,...n)}}function Wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RP(t,r,n)}function RP(t,e,n){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pr(r),new Error(r)}function de(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||RP(e,s,r)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends On{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class yB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vB{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new CP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new vt(e)}}class wB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _B{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=TB(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Tg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Np(s)===Np(i)?ae(s,i):Np(s)?1:-1}return ae(t.length,e.length)}const xB=55296,kB=57343;function Np(t){const e=t.charCodeAt(0);return e>=xB&&e<=kB}function Oo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="__name__";class zn{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&J(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=zn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ae(e.length,n.length)}static compareSegments(e,n){const r=zn.isNumericId(e),s=zn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?zn.extractNumericId(e).compare(zn.extractNumericId(n)):Tg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class ke extends zn{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const SB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends zn{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return SB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kT}static keyField(){return new at([kT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new H(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new H(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new H(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(ke.fromString(e))}static fromName(e){return new K(ke.fromString(e).popFirst(5))}static empty(){return new K(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e,n){if(!n)throw new H(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IB(t,e,n,r){if(e===!0&&r===!0)throw new H(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ST(t){if(!K.isDocumentKey(t))throw new H(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IT(t){if(K.isDocumentKey(t))throw new H(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kv(t);throw new H(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,e){const n={typeString:t};return e&&(n.value=e),n}function fu(t,e){if(!DP(t))throw new H(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new H(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=-62135596800,AT=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*AT);return new Se(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bT)throw new H(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AT}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,Se._jsonSchema))return new Se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:We("string",Se._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Se(0,0))}static max(){return new ee(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function bB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(r===1e9?new Se(n+1,0):new Se(n,r));return new _s(s,K.empty(),e)}function AB(t){return new _s(t.readTime,t.key,Ul)}class _s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _s(ee.min(),K.empty(),Ul)}static max(){return new _s(ee.max(),K.empty(),Ul)}}function PB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==RB)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(s=>s?V.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new V((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new V((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function NB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ta(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Md.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=-1;function Vd(t){return t==null}function Fh(t){return t===0&&1/t==-1/0}function DB(t){return typeof t=="number"&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="";function OB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PT(e)),e=LB(t.get(n),e);return PT(e)}function LB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case OP:n+="";break;default:n+=i}}return n}function PT(t){return t+OP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ot.RED,this.left=s??ot.EMPTY,this.right=i??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CT(this.data.getIterator())}getIteratorFrom(e){return new CT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class CT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Kt([])}unionWith(e){let n=new Ye(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jP("Invalid base64 string: "+i):i}}(e);return new ct(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const jB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(t){if(de(!!t,39018),typeof t=="string"){let e=0;const n=jB.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ts(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="server_timestamp",VP="__type__",zP="__previous_value__",FP="__local_write_time__";function Qv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[VP])==null?void 0:r.stringValue)===MP}function zd(t){const e=t.mapValue.fields[zP];return Qv(e)?zd(e):e}function Bl(t){const e=Es(t.mapValue.fields[FP].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n,r,s,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const $h="(default)";class ql{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="__type__",VB="__max__",mc={mapValue:{}},UP="__vector__",Uh="value";function xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:FB(t)?9007199254740991:zB(t)?10:11:J(28295,{value:t})}function er(t,e){if(t===e)return!0;const n=xs(t);if(n!==xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Es(s.timestampValue),a=Es(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ts(s.bytesValue).isEqual(Ts(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Fe(s.geoPointValue.latitude)===Fe(i.geoPointValue.latitude)&&Fe(s.geoPointValue.longitude)===Fe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Fe(s.integerValue)===Fe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Fe(s.doubleValue),a=Fe(i.doubleValue);return o===a?Fh(o)===Fh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Oo(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(RT(o)!==RT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!er(o[l],a[l])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function Wl(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function Lo(t,e){if(t===e)return 0;const n=xs(t),r=xs(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Fe(i.integerValue||i.doubleValue),l=Fe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return NT(t.timestampValue,e.timestampValue);case 4:return NT(Bl(t),Bl(e));case 5:return Tg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ts(i),l=Ts(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=ae(a[u],l[u]);if(h!==0)return h}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ae(Fe(i.latitude),Fe(o.latitude));return a!==0?a:ae(Fe(i.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,m,y,x;const a=i.fields||{},l=o.fields||{},u=(f=a[Uh])==null?void 0:f.arrayValue,h=(m=l[Uh])==null?void 0:m.arrayValue,d=ae(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return d!==0?d:DT(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===mc.mapValue&&o===mc.mapValue)return 0;if(i===mc.mapValue)return 1;if(o===mc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=Tg(l[d],h[d]);if(f!==0)return f;const m=Lo(a[l[d]],u[h[d]]);if(m!==0)return m}return ae(l.length,h.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:n})}}function NT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Es(t),r=Es(e),s=ae(n.seconds,r.seconds);return s!==0?s:ae(n.nanos,r.nanos)}function DT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Lo(n[s],r[s]);if(i)return i}return ae(n.length,r.length)}function jo(t){return xg(t)}function xg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=xg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${xg(n.fields[o])}`;return s+"}"}(t.mapValue):J(61005,{value:t})}function Wc(t){switch(xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zd(t);return e?16+Wc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ts(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Wc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ns(r.fields,(i,o)=>{s+=i.length+Wc(o)}),s}(t.mapValue);default:throw J(13486,{value:t})}}function kg(t){return!!t&&"integerValue"in t}function Yv(t){return!!t&&"arrayValue"in t}function OT(t){return!!t&&"nullValue"in t}function LT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function zB(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$P])==null?void 0:r.stringValue)===UP}function ol(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ol(t.arrayValue.values[n]);return e}return{...t}}function FB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(n)}setAll(e){let n=at.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ol(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Hc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ns(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Mt(ol(this.value))}}function BP(t){const e=[];return Ns(t.fields,(n,r)=>{const s=new at([n]);if(Hc(r)){const i=BP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,ee.min(),ee.min(),ee.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,s){return new _t(e,1,n,ee.min(),r,s,0)}static newNoDocument(e,n){return new _t(e,2,n,ee.min(),ee.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,ee.min(),ee.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function jT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Lo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function MT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function $B(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{}class Ge extends qP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BB(e,n,r):n==="array-contains"?new HB(e,r):n==="in"?new KB(e,r):n==="not-in"?new GB(e,r):n==="array-contains-any"?new QB(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qB(e,r):new WB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lo(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends qP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tr(e,n)}matches(e){return WP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WP(t){return t.op==="and"}function HP(t){return UB(t)&&WP(t)}function UB(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Sg(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(HP(t))return t.filters.map(e=>Sg(e)).join(",");{const e=t.filters.map(n=>Sg(n)).join(",");return`${t.op}(${e})`}}function KP(t,e){return t instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&er(r.value,s.value)}(t,e):t instanceof tr?function(r,s){return s instanceof tr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&KP(o,s.filters[a]),!0):!1}(t,e):void J(19439)}function GP(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(GP).join(" ,")+"}"}(t):"Filter"}class BB extends Ge{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class qB extends Ge{constructor(e,n){super(e,"in",n),this.keys=QP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WB extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=QP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class HB extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yv(n)&&Wl(n.arrayValue,this.value)}}class KB extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class GB extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class QB extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function VT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new YB(t,e,n,r,s,i,o)}function Xv(t){const e=te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),e.Te=n}return e.Te}function Jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$B(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MT(t.startAt,e.startAt)&&MT(t.endAt,e.endAt)}function Ig(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XB(t,e,n,r,s,i,o,a){return new Fd(t,e,n,r,s,i,o,a)}function YP(t){return new Fd(t)}function zT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JB(t){return t.collectionGroup!==null}function al(t){const e=te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(at.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new qh(i,r))}),n.has(at.keyField().canonicalString())||e.Ie.push(new qh(at.keyField(),r))}return e.Ie}function Gn(t){const e=te(t);return e.Ee||(e.Ee=ZB(e,al(t))),e.Ee}function ZB(t,e){if(t.limitType==="F")return VT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new qh(s.field,i)});const n=t.endAt?new Bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bh(t.startAt.position,t.startAt.inclusive):null;return VT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bg(t,e,n){return new Fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return Jv(Gn(t),Gn(e))&&t.limitType===e.limitType}function XP(t){return`${Xv(Gn(t))}|lt:${t.limitType}`}function Vi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>GP(s)).join(", ")}]`),Vd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>jo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>jo(s)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function Ud(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of al(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=jT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,al(r),s)||r.endAt&&!function(o,a,l){const u=jT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,al(r),s))}(t,e)}function e8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JP(t){return(e,n)=>{let r=!1;for(const s of al(t)){const i=t8(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function t8(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Lo(l,u):J(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return LP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=new Le(K.comparator);function Rr(){return n8}const ZP=new Le(K.comparator);function za(...t){let e=ZP;for(const n of t)e=e.insert(n.key,n);return e}function eR(t){let e=ZP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zs(){return ll()}function tR(){return ll()}function ll(){return new Ti(t=>t.toString(),(t,e)=>t.isEqual(e))}const r8=new Le(K.comparator),s8=new Ye(K.comparator);function le(...t){let e=s8;for(const n of t)e=e.add(n);return e}const i8=new Ye(ae);function o8(){return i8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function nR(t){return{integerValue:""+t}}function a8(t,e){return DB(e)?nR(e):Zv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function l8(t,e,n){return t instanceof Wh?function(s,i){const o={fields:{[VP]:{stringValue:MP},[FP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Qv(i)&&(i=zd(i)),i&&(o.fields[zP]=i),{mapValue:o}}(n,e):t instanceof Hl?sR(t,e):t instanceof Kl?iR(t,e):function(s,i){const o=rR(s,i),a=FT(o)+FT(s.Ae);return kg(o)&&kg(s.Ae)?nR(a):Zv(s.serializer,a)}(t,e)}function u8(t,e,n){return t instanceof Hl?sR(t,e):t instanceof Kl?iR(t,e):n}function rR(t,e){return t instanceof Hh?function(r){return kg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Wh extends Bd{}class Hl extends Bd{constructor(e){super(),this.elements=e}}function sR(t,e){const n=oR(e);for(const r of t.elements)n.some(s=>er(s,r))||n.push(r);return{arrayValue:{values:n}}}class Kl extends Bd{constructor(e){super(),this.elements=e}}function iR(t,e){let n=oR(e);for(const r of t.elements)n=n.filter(s=>!er(s,r));return{arrayValue:{values:n}}}class Hh extends Bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FT(t){return Fe(t.integerValue||t.doubleValue)}function oR(t){return Yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function c8(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Hl&&s instanceof Hl||r instanceof Kl&&s instanceof Kl?Oo(r.elements,s.elements,er):r instanceof Hh&&s instanceof Hh?er(r.Ae,s.Ae):r instanceof Wh&&s instanceof Wh}(t.transform,e.transform)}class h8{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qd{}function aR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new e0(t.key,Rn.none()):new pu(t.key,t.data,Rn.none());{const n=t.data,r=Mt.empty();let s=new Ye(at.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ds(t.key,r,new Kt(s.toArray()),Rn.none())}}function d8(t,e,n){t instanceof pu?function(s,i,o){const a=s.value.clone(),l=UT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ds?function(s,i,o){if(!Kc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=UT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(lR(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ul(t,e,n,r){return t instanceof pu?function(i,o,a,l){if(!Kc(i.precondition,o))return a;const u=i.value.clone(),h=BT(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ds?function(i,o,a,l){if(!Kc(i.precondition,o))return a;const u=BT(i.fieldTransforms,l,o),h=o.data;return h.setAll(lR(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return Kc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function f8(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=rR(r.transform,s||null);i!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,i))}return n||null}function $T(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Oo(r,s,(i,o)=>c8(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pu extends qd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ds extends qd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UT(t,e,n){const r=new Map;de(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,u8(o,a,n[s]))}return r}function BT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,l8(i,o,e))}return r}class e0 extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p8 extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&d8(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=aR(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(n,r)=>$T(n,r))&&Oo(this.baseMutations,e.baseMutations,(n,r)=>$T(n,r))}}class t0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){de(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return r8}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new t0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,ue;function v8(t){switch(t){case z.OK:return J(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function uR(t){if(t===void 0)return Pr("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ue.OK:return z.OK;case Ue.CANCELLED:return z.CANCELLED;case Ue.UNKNOWN:return z.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return z.INTERNAL;case Ue.UNAVAILABLE:return z.UNAVAILABLE;case Ue.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ue.NOT_FOUND:return z.NOT_FOUND;case Ue.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ue.ABORTED:return z.ABORTED;case Ue.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ue.DATA_LOSS:return z.DATA_LOSS;default:return J(39323,{code:t})}}(ue=Ue||(Ue={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=new ds([4294967295,4294967295],0);function qT(t){const e=w8().encode(t),n=new kP;return n.update(e),new Uint8Array(n.digest())}function WT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ds([n,r],0),new ds([s,i],0)]}class n0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fa(`Invalid padding: ${n}`);if(r<0)throw new Fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ds.fromNumber(r)));return s.compare(_8)===1&&(s=new ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qT(e),[r,s]=WT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new n0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=qT(e),[r,s]=WT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(ee.min(),s,new Le(ae),Rr(),le())}}class mu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mu(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class cR{constructor(e,n){this.targetId=e,this.Ce=n}}class hR{constructor(e,n,r=ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class HT{constructor(){this.ve=0,this.Fe=KT(),this.Me=ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=le(),n=le(),r=le();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:J(38017,{changeType:i})}}),new mu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=KT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class E8{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rr(),this.Je=gc(),this.He=gc(),this.Ye=new Le(ae)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Ig(i))if(r===0){const o=new K(i.path);this.et(n,o,_t.newNoDocument(o,ee.min()))}else de(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ts(r).toUint8Array()}catch(l){if(l instanceof jP)return Do("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new n0(o,s,i)}catch(l){return Do(l instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Ig(a.target)){const l=new K(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,_t.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=le();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Wd(e,n,this.Ye,this.je,r);return this.je=Rr(),this.Je=gc(),this.He=gc(),this.Ye=new Le(ae),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new HT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ye(ae),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ye(ae),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new HT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gc(){return new Le(K.comparator)}function KT(){return new Le(K.comparator)}const T8={asc:"ASCENDING",desc:"DESCENDING"},x8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k8={and:"AND",or:"OR"};class S8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ag(t,e){return t.useProto3Json||Vd(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I8(t,e){return Kh(t,e.toTimestamp())}function Qn(t){return de(!!t,49232),ee.fromTimestamp(function(n){const r=Es(n);return new Se(r.seconds,r.nanos)}(t))}function r0(t,e){return Pg(t,e).canonicalString()}function Pg(t,e){const n=function(s){return new ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fR(t){const e=ke.fromString(t);return de(vR(e),10190,{key:e.toString()}),e}function Rg(t,e){return r0(t.databaseId,e.path)}function Dp(t,e){const n=fR(e);if(n.get(1)!==t.databaseId.projectId)throw new H(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(mR(n))}function pR(t,e){return r0(t.databaseId,e)}function b8(t){const e=fR(t);return e.length===4?ke.emptyPath():mR(e)}function Cg(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mR(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function GT(t,e,n){return{name:Rg(t,e),fields:n.value.mapValue.fields}}function A8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(de(h===void 0||typeof h=="string",58123),ct.fromBase64String(h||"")):(de(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?z.UNKNOWN:uR(u.code);return new H(h,u.message||"")}(o);n=new hR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Dp(t,r.document.name),i=Qn(r.document.updateTime),o=r.document.createTime?Qn(r.document.createTime):ee.min(),a=new Mt({mapValue:{fields:r.document.fields}}),l=_t.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Gc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Dp(t,r.document),i=r.readTime?Qn(r.readTime):ee.min(),o=_t.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Gc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Dp(t,r.document),i=r.removedTargetIds||[];n=new Gc([],i,s,null)}else{if(!("filter"in e))return J(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new y8(s,i),a=r.targetId;n=new cR(a,o)}}return n}function P8(t,e){let n;if(e instanceof pu)n={update:GT(t,e.key,e.value)};else if(e instanceof e0)n={delete:Rg(t,e.key)};else if(e instanceof Ds)n={update:GT(t,e.key,e.data),updateMask:V8(e.fieldMask)};else{if(!(e instanceof p8))return J(16599,{Vt:e.type});n={verify:Rg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Wh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw J(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:I8(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J(27497)}(t,e.precondition)),n}function R8(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Qn(s.updateTime):Qn(i);return o.isEqual(ee.min())&&(o=Qn(i)),new h8(o,s.transformResults||[])}(n,e))):[]}function C8(t,e){return{documents:[pR(t,e.path)]}}function N8(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pR(t,s);const i=function(u){if(u.length!==0)return yR(tr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:zi(f.field),direction:L8(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ag(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function D8(t){let e=b8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){de(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(d){const f=gR(d);return f instanceof tr&&HP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new qh(Fi(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Vd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new Bh(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,m=d.values||[];return new Bh(m,f)}(n.endAt)),XB(e,s,o,i,a,"F",l,u)}function O8(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fi(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fi(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fi(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fi(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Fi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>gR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(n.compositeFilter.op))}(t):J(30097,{filter:t})}function L8(t){return T8[t]}function j8(t){return x8[t]}function M8(t){return k8[t]}function zi(t){return{fieldPath:t.canonicalString()}}function Fi(t){return at.fromServerFormat(t.fieldPath)}function yR(t){return t instanceof Ge?function(n){if(n.op==="=="){if(LT(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NAN"}};if(OT(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LT(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NAN"}};if(OT(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(n.field),op:j8(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(s=>yR(s));return r.length===1?r[0]:{compositeFilter:{op:M8(n.op),filters:r}}}(t):J(54877,{filter:t})}function V8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,r,s,i=ee.min(),o=ee.min(),a=ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.yt=e}}function F8(t){const e=D8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(){this.Cn=new U8}addToCollectionParentIndex(e,n){return this.Cn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(_s.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class U8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ye(ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ye(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wR=41943040;class Ot{static withCacheSize(e){return new Ot(e,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot.DEFAULT_COLLECTION_PERCENTILE=10,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ot.DEFAULT=new Ot(wR,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ot.DISABLED=new Ot(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="LruGarbageCollector",B8=1048576;function XT([t,e],[n,r]){const s=ae(t,n);return s===0?ae(e,r):s}class q8{constructor(e){this.Ir=e,this.buffer=new Ye(XT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();XT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class W8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(YT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ta(n)?q(YT,"Ignoring IndexedDB error during garbage collection: ",n):await ea(n)}await this.Vr(3e5)})}}class H8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(Md.ce);const r=new q8(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(QT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Mi()<=oe.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function K8(t,e){return new H8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(){this.changes=new Ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ul(r.mutation,s,Kt.empty(),Se.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const s=Zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=za();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Rr();const o=ll(),a=function(){return ll()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Ds)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ul(h.mutation,u,h.mutation.getFieldMask(),Se.now())):o.set(u.key,Kt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new Q8(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ll();let s=new Le((o,a)=>o-a),i=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Kt.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(s.get(a.batchId)||le()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=tR();h.forEach(f=>{if(!i.has(f)){const m=aR(n.get(f),r.get(f));m!==null&&d.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):V.resolve(Zs());let a=Ul,l=i;return o.next(u=>V.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,le())).next(h=>({batchId:a,changes:eR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=za();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=za();return this.indexManager.getCollectionParents(e,i).next(a=>V.forEach(a,l=>{const u=function(d,f){return new Fd(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,_t.newInvalidDocument(h)))});let a=za();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&ul(h.mutation,u,Kt.empty(),Se.now()),Ud(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return V.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Qn(s.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:F8(s.bundledQuery),readTime:Qn(s.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(){this.overlays=new Le(K.comparator),this.qr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zs();return V.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const s=Zs(),i=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return V.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Le((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Zs(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Zs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return V.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new g8(n,r));let i=this.qr.get(n);i===void 0&&(i=le(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.Qr=new Ye(Ze.$r),this.Ur=new Ye(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ze(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new K(new ke([])),r=new Ze(n,e),s=new Ze(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new K(new ke([])),r=new Ze(n,e),s=new Ze(n,e+1);let i=le();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ze(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return K.comparator(e.key,n.key)||ae(e.Yr,n.Yr)}static Kr(e,n){return ae(e.Yr,n.Yr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(Ze.$r)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new m8(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Ze(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return V.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?Gv:this.tr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),s=new Ze(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),V.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(ae);return n.forEach(s=>{const i=new Ze(s,0),o=new Ze(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),V.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new Ze(new K(i),0);let a=new Ye(ae);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),V.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){de(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return V.forEach(n.mutations,s=>{const i=new Ze(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ze(n,0),s=this.Zr.firstAfterOrEqual(r);return V.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.ri=e,this.docs=function(){return new Le(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():_t.newInvalidDocument(s))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Rr();const o=n.path,a=new K(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||PB(AB(h),r)<=0||(s.has(h.key)||Ud(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return V.resolve(i)}getAllFromCollectionGroup(e,n,r,s){J(9500)}ii(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new n7(this)}getSize(e){return V.resolve(this.size)}}class n7 extends G8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.persistence=e,this.si=new Ti(n=>Xv(n),Jv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.oi=0,this._i=new s0,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),V.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Pr(n),V.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),V.waitFor(i).next(()=>s)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),V.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.ui={},this.overlays={},this.ci=new Md(0),this.li=!1,this.li=!0,this.hi=new Z8,this.referenceDelegate=e(this),this.Pi=new r7(this),this.indexManager=new $8,this.remoteDocumentCache=function(s){return new t7(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new z8(n),this.Ii=new X8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new e7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new s7(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return V.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class s7 extends CB{constructor(e){super(),this.currentSequenceNumber=e}}class i0{constructor(e){this.persistence=e,this.Ri=new s0,this.Vi=null}static mi(e){return new i0(e)}get fi(){if(this.Vi)return this.Vi;throw J(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.fi,r=>{const s=K.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return V.or([()=>V.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.pi=new Ti(r=>OB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=K8(this,n)}static mi(e,n){return new Gh(e,n)}Ei(){}di(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return V.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?V.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wc(e.data.value)),n}br(e,n,r){return V.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return V.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=le(),s=le();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new o0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return m6()?8:NB(xt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new i7;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Mi()<=oe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Vi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),V.resolve()):(Mi()<=oe.DEBUG&&q("QueryEngine","Query:",Vi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Mi()<=oe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Vi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):V.resolve())}ys(e,n){if(zT(n))return V.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=bg(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=le(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,bg(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return zT(n)||s.isEqual(ee.min())?V.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?V.resolve(null):(Mi()<=oe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vi(n)),this.vs(e,o,n,bB(s,Ul)).next(a=>a))})}Ds(e,n){let r=new Ye(JP(e));return n.forEach((s,i)=>{Ud(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Mi()<=oe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Vi(n)),this.ps.getDocumentsMatchingQuery(e,n,_s.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LocalStore",a7=3e8;class l7{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Le(ae),this.xs=new Ti(i=>Xv(i),Jv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function u7(t,e,n,r){return new l7(t,e,n,r)}async function ER(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=le();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function c7(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let m=V.resolve();return f.forEach(y=>{m=m.next(()=>h.getEntry(l,y)).next(x=>{const S=u.docVersions.get(y);de(S!==null,48541),x.version.compareTo(S)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=le();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function TR(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function h7(t,e){const n=te(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const f=s.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,d)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(ct.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(d,m),function(x,S,w){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=a7?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,h)&&a.push(n.Pi.updateTargetData(i,m))});let l=Rr(),u=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(d7(i,o,e.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!r.isEqual(ee.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function d7(t,e,n){let r=le(),s=le();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Rr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(a0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function f7(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function p7(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,V.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Zr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ng(t,e,n){const r=te(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ta(o))throw o;q(a0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function JT(t,e,n){const r=te(t);let s=ee.min(),i=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=te(l),f=d.xs.get(h);return f!==void 0?V.resolve(d.Ms.get(f)):d.Pi.getTargetData(u,h)}(r,o,Gn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ee.min(),n?i:le())).next(a=>(m7(r,e8(e),a),{documents:a,Qs:i})))}function m7(t,e,n){let r=t.Os.get(e)||ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class ZT{constructor(){this.activeTargetIds=o8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g7{constructor(){this.Mo=new ZT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ZT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="ConnectivityMonitor";class tx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(ex,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(ex,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function Dg(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="RestConnection",v7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===$h?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Dg(),a=this.zo(e,n.toUriEncodedString());q(Op,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),h=Qo(u);return this.Jo(e,a,l,r,h).then(d=>(q(Op,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Do(Op,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=v7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class E7 extends w7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Dg();return new Promise((a,l)=>{const u=new SP;u.setWithCredentials(!0),u.listenOnce(IP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qc.NO_ERROR:const d=u.getResponseJson();q(gt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case qc.TIMEOUT:q(gt,`RPC '${e}' ${o} timed out`),l(new H(z.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const f=u.getStatus();if(q(gt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const x=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(y.status);l(new H(x,y.message))}else l(new H(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new H(z.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{q(gt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);q(gt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Dg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PP(),a=AP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");q(gt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,m=!1;const y=new _7({Yo:S=>{m?q(gt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(f||(q(gt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),q(gt,`RPC '${e}' stream ${s} sending:`,S),d.send(S))},Zo:()=>d.close()}),x=(S,w,_)=>{S.listen(w,E=>{try{_(E)}catch(R){setTimeout(()=>{throw R},0)}})};return x(d,Va.EventType.OPEN,()=>{m||(q(gt,`RPC '${e}' stream ${s} transport opened.`),y.o_())}),x(d,Va.EventType.CLOSE,()=>{m||(m=!0,q(gt,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(d))}),x(d,Va.EventType.ERROR,S=>{m||(m=!0,Do(gt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),y.a_(new H(z.UNAVAILABLE,"The operation could not be completed")))}),x(d,Va.EventType.MESSAGE,S=>{var w;if(!m){const _=S.data[0];de(!!_,16349);const E=_,R=(E==null?void 0:E.error)||((w=E[0])==null?void 0:w.error);if(R){q(gt,`RPC '${e}' stream ${s} received error:`,R);const O=R.status;let D=function(b){const A=Ue[b];if(A!==void 0)return uR(A)}(O),k=R.message;D===void 0&&(D=z.INTERNAL,k="Unknown error status: "+O+" with message "+R.message),m=!0,y.a_(new H(D,k)),d.close()}else q(gt,`RPC '${e}' stream ${s} received:`,_),y.u_(_)}}),x(a,bP.STAT_EVENT,S=>{S.stat===Eg.PROXY?q(gt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Eg.NOPROXY&&q(gt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){return new S8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="PersistentStream";class kR{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new H(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(nx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(nx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T7 extends kR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=A8(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Qn(o.readTime):ee.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Cg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Ig(l)?{documents:C8(i,l)}:{query:N8(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=dR(i,o.resumeToken);const u=Ag(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=Kh(i,o.snapshotVersion.toTimestamp());const u=Ag(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=O8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Cg(this.serializer),n.removeTarget=e,this.q_(n)}}class x7 extends kR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=R8(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Cg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>P8(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{}class S7 extends k7{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new H(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Pg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Pg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class I7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pr(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="RemoteStore";class b7{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{xi(this)&&(q(pi,"Restarting streams for network reachability change."),await async function(l){const u=te(l);u.Ea.add(4),await gu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Kd(u)}(this))})}),this.Ra=new I7(r,s)}}async function Kd(t){if(xi(t))for(const e of t.da)await e(!0)}async function gu(t){for(const e of t.da)await e(!1)}function SR(t,e){const n=te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),h0(n)?c0(n):na(n).O_()&&u0(n,e))}function l0(t,e){const n=te(t),r=na(n);n.Ia.delete(e),r.O_()&&IR(n,e),n.Ia.size===0&&(r.O_()?r.L_():xi(n)&&n.Ra.set("Unknown"))}function u0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}na(t).Y_(e)}function IR(t,e){t.Va.Ue(e),na(t).Z_(e)}function c0(t){t.Va=new E8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),na(t).start(),t.Ra.ua()}function h0(t){return xi(t)&&!na(t).x_()&&t.Ia.size>0}function xi(t){return te(t).Ea.size===0}function bR(t){t.Va=void 0}async function A7(t){t.Ra.set("Online")}async function P7(t){t.Ia.forEach((e,n)=>{u0(t,e)})}async function R7(t,e){bR(t),h0(t)?(t.Ra.ha(e),c0(t)):t.Ra.set("Unknown")}async function C7(t,e,n){if(t.Ra.set("Online"),e instanceof hR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){q(pi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(t,r)}else if(e instanceof Gc?t.Va.Ze(e):e instanceof cR?t.Va.st(e):t.Va.tt(e),!n.isEqual(ee.min()))try{const r=await TR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(ct.EMPTY_BYTE_STRING,h.snapshotVersion)),IR(i,l);const d=new Zr(h.target,l,u,h.sequenceNumber);u0(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(pi,"Failed to raise snapshot:",r),await Qh(t,r)}}async function Qh(t,e,n){if(!ta(e))throw e;t.Ea.add(1),await gu(t),t.Ra.set("Offline"),n||(n=()=>TR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(pi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Kd(t)})}function AR(t,e){return e().catch(n=>Qh(t,n,e))}async function Gd(t){const e=te(t),n=ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gv;for(;N7(e);)try{const s=await f7(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,D7(e,s)}catch(s){await Qh(e,s)}PR(e)&&RR(e)}function N7(t){return xi(t)&&t.Ta.length<10}function D7(t,e){t.Ta.push(e);const n=ks(t);n.O_()&&n.X_&&n.ea(e.mutations)}function PR(t){return xi(t)&&!ks(t).x_()&&t.Ta.length>0}function RR(t){ks(t).start()}async function O7(t){ks(t).ra()}async function L7(t){const e=ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function j7(t,e,n){const r=t.Ta.shift(),s=t0.from(r,e,n);await AR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gd(t)}async function M7(t,e){e&&ks(t).X_&&await async function(r,s){if(function(o){return v8(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();ks(r).B_(),await AR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gd(r)}}(t,e),PR(t)&&RR(t)}async function rx(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),q(pi,"RemoteStore received new credentials");const r=xi(n);n.Ea.add(3),await gu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kd(n)}async function V7(t,e){const n=te(t);e?(n.Ea.delete(2),await Kd(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function na(t){return t.ma||(t.ma=function(n,r,s){const i=te(n);return i.sa(),new T7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:A7.bind(null,t),t_:P7.bind(null,t),r_:R7.bind(null,t),H_:C7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),h0(t)?c0(t):t.Ra.set("Unknown")):(await t.ma.stop(),bR(t))})),t.ma}function ks(t){return t.fa||(t.fa=function(n,r,s){const i=te(n);return i.sa(),new x7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:O7.bind(null,t),r_:M7.bind(null,t),ta:L7.bind(null,t),na:j7.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gd(t)):(await t.fa.stop(),t.Ta.length>0&&(q(pi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new d0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f0(t,e){if(Pr("AsyncQueue",`${e}: ${t}`),ta(t))return new H(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=za(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.ga=new Le(K.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):J(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vo(e,n,vo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class F7{constructor(){this.queries=ix(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=te(n),i=s.queries;s.queries=ix(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new H(z.ABORTED,"Firestore shutting down"))}}function ix(){return new Ti(t=>XP(t),$d)}async function $7(t,e){const n=te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new z7,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=f0(o,`Initialization of query '${Vi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&p0(n)}async function U7(t,e){const n=te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function B7(t,e){const n=te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&p0(n)}function q7(t,e,n){const r=te(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function p0(t){t.Ca.forEach(e=>{e.next()})}var Og,ox;(ox=Og||(Og={})).Ma="default",ox.Cache="cache";class W7{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.key=e}}class NR{constructor(e){this.key=e}}class H7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=le(),this.mutatedKeys=le(),this.eu=JP(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new sx,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const f=s.get(h),m=Ud(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?y!==x&&(r.track({type:3,doc:m}),S=!0):this.su(f,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(m?(o=o.add(m),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(m,y){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Rt:S})}};return x(m)-x(y)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Vo(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=le(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new NR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new CR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const m0="SyncEngine";class K7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class G7{constructor(e){this.key=e,this.hu=!1}}class Q7{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ti(a=>XP(a),$d),this.Iu=new Map,this.Eu=new Set,this.du=new Le(K.comparator),this.Au=new Map,this.Ru=new s0,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Y7(t,e,n=!0){const r=VR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await DR(r,e,n,!0),s}async function X7(t,e){const n=VR(t);await DR(n,e,!0,!1)}async function DR(t,e,n,r){const s=await p7(t.localStore,Gn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await J7(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&SR(t.remoteStore,s),a}async function J7(t,e,n,r,s){t.pu=(d,f,m)=>async function(x,S,w,_){let E=S.view.ru(w);E.Cs&&(E=await JT(x.localStore,S.query,!1).then(({documents:k})=>S.view.ru(k,E)));const R=_&&_.targetChanges.get(S.targetId),O=_&&_.targetMismatches.get(S.targetId)!=null,D=S.view.applyChanges(E,x.isPrimaryClient,R,O);return lx(x,S.targetId,D.au),D.snapshot}(t,d,f,m);const i=await JT(t.localStore,e,!0),o=new H7(e,i.Qs),a=o.ru(i.documents),l=mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);lx(t,n,u.au);const h=new K7(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Z7(t,e,n){const r=te(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!$d(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ng(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&l0(r.remoteStore,s.targetId),Lg(r,s.targetId)}).catch(ea)):(Lg(r,s.targetId),await Ng(r.localStore,s.targetId,!0))}async function eq(t,e){const n=te(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),l0(n.remoteStore,r.targetId))}async function tq(t,e,n){const r=lq(t);try{const s=await function(o,a){const l=te(o),u=Se.now(),h=a.reduce((m,y)=>m.add(y.key),le());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Rr(),x=le();return l.Ns.getEntries(m,h).next(S=>{y=S,y.forEach((w,_)=>{_.isValidDocument()||(x=x.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(S=>{d=S;const w=[];for(const _ of a){const E=f8(_,d.get(_.key).overlayedDocument);E!=null&&w.push(new Ds(_.key,E,BP(E.value.mapValue),Rn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,w,a)}).next(S=>{f=S;const w=S.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(m,S.batchId,w)})}).then(()=>({batchId:f.batchId,changes:eR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Le(ae)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await yu(r,s.changes),await Gd(r.remoteStore)}catch(s){const i=f0(s,"Failed to persist write");n.reject(i)}}async function OR(t,e){const n=te(t);try{const r=await h7(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(de(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?de(o.hu,14607):s.removedDocuments.size>0&&(de(o.hu,42227),o.hu=!1))}),await yu(n,r,e)}catch(r){await ea(r)}}function ax(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.Sa)f.va(a)&&(u=!0)}),u&&p0(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nq(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Le(K.comparator);o=o.insert(i,_t.newNoDocument(i,ee.min()));const a=le().add(i),l=new Wd(ee.min(),new Map,new Le(ae),o,a);await OR(r,l),r.du=r.du.remove(i),r.Au.delete(e),g0(r)}else await Ng(r.localStore,e,!1).then(()=>Lg(r,e,n)).catch(ea)}async function rq(t,e){const n=te(t),r=e.batch.batchId;try{const s=await c7(n.localStore,e);jR(n,r,null),LR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yu(n,s)}catch(s){await ea(s)}}async function sq(t,e,n){const r=te(t);try{const s=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(de(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);jR(r,e,n),LR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yu(r,s)}catch(s){await ea(s)}}function LR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jR(t,e,n){const r=te(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||MR(t,r)})}function MR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(l0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),g0(t))}function lx(t,e,n){for(const r of n)r instanceof CR?(t.Ru.addReference(r.key,e),iq(t,r)):r instanceof NR?(q(m0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||MR(t,r.key)):J(19791,{wu:r})}function iq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(m0,"New document in limbo: "+n),t.Eu.add(r),g0(t))}function g0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new K(ke.fromString(e)),r=t.fu.next();t.Au.set(r,new G7(n)),t.du=t.du.insert(n,r),SR(t.remoteStore,new Zr(Gn(YP(n.path)),r,"TargetPurposeLimboResolution",Md.ce))}}async function yu(t,e,n){const r=te(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){s.push(u);const d=o0.As(l.targetId,u);i.push(d)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const h=te(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(u,f=>V.forEach(f.Es,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>V.forEach(f.ds,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!ta(d))throw d;q(a0,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const m=h.Ms.get(f),y=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(y);h.Ms=h.Ms.insert(f,x)}}}(r.localStore,i))}async function oq(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){q(m0,"User change. New user:",e.toKey());const r=await ER(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new H(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(n,r.Ls)}}function aq(t,e){const n=te(t),r=n.Au.get(e);if(r&&r.hu)return le().add(r.key);{let s=le();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function VR(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nq.bind(null,e),e.Pu.H_=B7.bind(null,e.eventManager),e.Pu.yu=q7.bind(null,e.eventManager),e}function lq(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sq.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return u7(this.persistence,new o7,e.initialUser,this.serializer)}Cu(e){return new _R(i0.mi,this.serializer)}Du(e){return new g7}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class uq extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){de(this.persistence.referenceDelegate instanceof Gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new W8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ot.withCacheSize(this.cacheSizeBytes):Ot.DEFAULT;return new _R(r=>Gh.mi(r,n),this.serializer)}}class jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ax(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oq.bind(null,this.syncEngine),await V7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new F7}()}createDatastore(e){const n=Hd(e.databaseInfo.databaseId),r=function(i){return new E7(i)}(e.databaseInfo);return function(i,o,a,l){return new S7(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new b7(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ax(this.syncEngine,n,0),function(){return tx.v()?new tx:new y7}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const d=new Q7(s,i,o,a,l,u);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=te(s);q(pi,"RemoteStore shutting down."),i.Ea.add(5),await gu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class hq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=vt.UNAUTHENTICATED,this.clientId=Hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{q(Ss,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Ss,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=f0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jp(t,e){t.asyncQueue.verifyOperationInProgress(),q(Ss,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ER(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ux(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dq(t);q(Ss,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>rx(e.remoteStore,s)),t._onlineComponents=e}async function dq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Ss,"Using user provided OfflineComponentProvider");try{await jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await jp(t,new Yh)}}else q(Ss,"Using default OfflineComponentProvider"),await jp(t,new uq(void 0));return t._offlineComponents}async function zR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Ss,"Using user provided OnlineComponentProvider"),await ux(t,t._uninitializedComponentsProvider._online)):(q(Ss,"Using default OnlineComponentProvider"),await ux(t,new jg))),t._onlineComponents}function fq(t){return zR(t).then(e=>e.syncEngine)}async function pq(t){const e=await zR(t),n=e.eventManager;return n.onListen=Y7.bind(null,e.syncEngine),n.onUnlisten=Z7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=X7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eq.bind(null,e.syncEngine),n}function mq(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new cq({next:f=>{h.Nu(),o.enqueueAndForget(()=>U7(i,d)),f.fromCache&&l.source==="server"?u.reject(new H(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new W7(a,h,{includeMetadataChanges:!0,qa:!0});return $7(i,d)}(await pq(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firestore.googleapis.com",hx=!0;class dx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$R,this.ssl=hx}else this.host=e.host,this.ssl=e.ssl??hx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B8)throw new H(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gB;switch(r.type){case"firstParty":return new _B(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=cx.get(n);r&&(q("ComponentProvider","Removing Datastore"),cx.delete(n),r.terminate())}(this),Promise.resolve()}}function gq(t,e,n,r={}){var u;t=fi(t,Qd);const s=Qo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(dA(`https://${a}`),fA("Firestore",!0)),i.host!==$R&&i.host!==a&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!ws(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=vt.MOCK_USER;else{h=a6(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new H(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new vt(f)}t._authCredentials=new yB(new CP(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yd(this.firestore,e,this._query)}}class tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fu(n,tt._jsonSchema))return new tt(e,r||null,new K(ke.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:We("string",tt._jsonSchemaVersion),referencePath:We("string")};class ps extends Yd{constructor(e,n,r){super(e,n,YP(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new K(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function fx(t,e,...n){if(t=Xe(t),NP("collection","path",e),t instanceof Qd){const r=ke.fromString(e,...n);return IT(r),new ps(t,null,r)}{if(!(t instanceof tt||t instanceof ps))throw new H(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return IT(r),new ps(t.firestore,null,r)}}function Mg(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=Hv.newId()),NP("doc","path",e),t instanceof Qd){const r=ke.fromString(e,...n);return ST(r),new tt(t,null,new K(r))}{if(!(t instanceof tt||t instanceof ps))throw new H(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return ST(r),new tt(t.firestore,t instanceof ps?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="AsyncQueue";class mx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xR(this,"async_queue_retry"),this._c=()=>{const r=Lp();r&&q(px,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new fs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ta(e))throw e;q(px,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Pr("INTERNAL UNHANDLED ERROR: ",gx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=d0.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&J(47125,{Pc:gx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vu extends Qd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new mx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mx(e),this._firestoreClient=void 0,await e}}}function yq(t,e){const n=typeof t=="object"?t:Cv(),r=typeof t=="string"?t:$h,s=_i(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=i6("firestore");i&&gq(s,...i)}return s}function UR(t){if(t._terminated)throw new H(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vq(t),t._firestoreClient}function vq(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,h){return new MB(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,FR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this._byteString=e}static fromBase64String(e){try{return new on(ct.fromBase64String(e))}catch(n){throw new H(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new on(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:on._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,on._jsonSchema))return on.fromBase64String(e.bytes)}}on._jsonSchemaVersion="firestore/bytes/1.0",on._jsonSchema={type:We("string",on._jsonSchemaVersion),bytes:We("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yn._jsonSchemaVersion}}static fromJSON(e){if(fu(e,Yn._jsonSchema))return new Yn(e.latitude,e.longitude)}}Yn._jsonSchemaVersion="firestore/geoPoint/1.0",Yn._jsonSchema={type:We("string",Yn._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Xn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Xn(e.vectorValues);throw new H(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xn._jsonSchemaVersion="firestore/vectorValue/1.0",Xn._jsonSchema={type:We("string",Xn._jsonSchemaVersion),vectorValues:We("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=/^__.*__$/;class _q{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class BR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ac:t})}}class v0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new v0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qR(this.Ac)&&wq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Eq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hd(e)}Cc(e,n,r,s=!1){return new v0({Ac:e,methodName:n,Dc:r,path:at.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WR(t){const e=t._freezeSettings(),n=Hd(t._databaseId);return new Eq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tq(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);w0("Data must be an object, but it was:",o,r);const a=HR(r,o);let l,u;if(i.merge)l=new Kt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const f=Vg(e,d,n);if(!o.contains(f))throw new H(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);GR(h,f)||h.push(f)}l=new Kt(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new _q(new Mt(a),l,u)}class Jd extends y0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}function xq(t,e,n,r){const s=t.Cc(1,e,n);w0("Data must be an object, but it was:",s,r);const i=[],o=Mt.empty();Ns(r,(l,u)=>{const h=_0(e,l,n);u=Xe(u);const d=s.yc(h);if(u instanceof Jd)i.push(h);else{const f=Zd(u,d);f!=null&&(i.push(h),o.set(h,f))}});const a=new Kt(i);return new BR(o,a,s.fieldTransforms)}function kq(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Vg(e,r,n)],l=[s];if(i.length%2!=0)throw new H(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Vg(e,i[f])),l.push(i[f+1]);const u=[],h=Mt.empty();for(let f=a.length-1;f>=0;--f)if(!GR(u,a[f])){const m=a[f];let y=l[f];y=Xe(y);const x=o.yc(m);if(y instanceof Jd)u.push(m);else{const S=Zd(y,x);S!=null&&(u.push(m),h.set(m,S))}}const d=new Kt(u);return new BR(h,d,o.fieldTransforms)}function Zd(t,e){if(KR(t=Xe(t)))return w0("Unsupported field value:",e,t),HR(t,e);if(t instanceof y0)return function(r,s){if(!qR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Zd(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return a8(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Se.fromDate(r);return{timestampValue:Kh(s.serializer,i)}}if(r instanceof Se){const i=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(s.serializer,i)}}if(r instanceof Yn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof on)return{bytesValue:dR(s.serializer,r._byteString)};if(r instanceof tt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:r0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Xn)return function(o,a){return{mapValue:{fields:{[$P]:{stringValue:UP},[Uh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Zv(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Kv(r)}`)}(t,e)}function HR(t,e){const n={};return LP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(t,(r,s)=>{const i=Zd(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function KR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Se||t instanceof Yn||t instanceof on||t instanceof tt||t instanceof y0||t instanceof Xn)}function w0(t,e,n){if(!KR(n)||!DP(n)){const r=Kv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Vg(t,e,n){if((e=Xe(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return _0(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Sq=new RegExp("[~\\*/\\[\\]]");function _0(t,e,n){if(e.search(Sq)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xd(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new H(z.INVALID_ARGUMENT,a+t+l)}function GR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Iq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Iq extends QR{data(){return super.data()}}function YR(t,e){return typeof e=="string"?_0(t,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Aq{convertValue(e,n="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ns(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Uh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Fe(o.doubleValue));return new Xn(n)}convertGeoPoint(e){return new Yn(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=Es(e);return new Se(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);de(vR(r),9688,{name:e});const s=new ql(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||Pr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class vc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wo extends QR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",wo._jsonSchema={type:We("string",wo._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class Qc extends wo{data(e={}){return super.data(e)}}class _o{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qc(this._firestore,this._userDataWriter,r.key,r,new vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Qc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Qc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Rq(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Rq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:We("string",_o._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};class Cq extends Aq{constructor(e){super(),this.firestore=e}convertBytes(e){return new on(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}function Nq(t){t=fi(t,Yd);const e=fi(t.firestore,vu),n=UR(e),r=new Cq(e);return bq(t._query),mq(n,t._query).then(s=>new _o(e,r,t,s))}function Dq(t,e,n,...r){t=fi(t,tt);const s=fi(t.firestore,vu),i=WR(s);let o;return o=typeof(e=Xe(e))=="string"||e instanceof Xd?kq(i,"updateDoc",t._key,e,n,r):xq(i,"updateDoc",t._key,e),E0(s,[o.toMutation(t._key,Rn.exists(!0))])}function Oq(t){return E0(fi(t.firestore,vu),[new e0(t._key,Rn.none())])}function Lq(t,e){const n=fi(t.firestore,vu),r=Mg(t),s=Pq(t.converter,e);return E0(n,[Tq(WR(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function E0(t,e){return function(r,s){const i=new fs;return r.asyncQueue.enqueueAndForget(async()=>tq(await fq(r),s,i)),i.promise}(UR(t),e)}(function(e,n=!0){(function(s){Zo=s})(Yo),Zn(new Nn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new vu(new vB(r.getProvider("auth-internal")),new EB(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(u.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),cn(ET,TT,e),cn(ET,TT,"esm2020")})();const jq={apiKey:"AIzaSyDnluqE5xixhktIM-VN0ZOw4dDLFpJGrXE",authDomain:"lukaszpietrzyk-72409.firebaseapp.com",projectId:"lukaszpietrzyk-72409",storageBucket:"lukaszpietrzyk-72409.appspot.com",messagingSenderId:"953248181072",appId:"1:953248181072:web:b225b722233e36ff695a55",measurementId:"G-VGWVGYJVR4"},T0=_A(jq);JU(T0);const Mp=pB(T0),wc=yq(T0),Mq=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,a]=C.useState(""),[l,u]=C.useState(!1),[h,d]=C.useState([]),[f,m]=C.useState(""),[y,x]=C.useState(""),[S,w]=C.useState(null),[_,E]=C.useState(!1);C.useEffect(()=>{const k=n9(Mp,T=>{e(T)});return()=>k()},[]),C.useEffect(()=>{t?R():d([])},[t]);const R=async()=>{E(!0);const k=await Nq(fx(wc,"posts"));d(k.docs.map(T=>({id:T.id,...T.data()}))),E(!1)},O=async k=>{k.preventDefault(),u(!0),a("");try{await Z5(Mp,n,s)}catch(T){a(T.message||"Login failed")}u(!1)},D=async()=>{await r9(Mp)};return v.jsxs("div",{style:{padding:"2rem",textAlign:"center",maxWidth:600,margin:"0 auto"},children:[v.jsx("h1",{children:"Blog Admin"}),t?v.jsxs(v.Fragment,{children:[v.jsxs("p",{children:["Welcome, ",t.email,"!"]}),v.jsx("button",{onClick:D,style:{marginTop:16},children:"Logout"}),v.jsx("hr",{style:{margin:"2rem 0"}}),v.jsx("h2",{children:S?"Edit Post":"Create New Post"}),v.jsxs("form",{onSubmit:async k=>{k.preventDefault(),E(!0),S?(await Dq(Mg(wc,"posts",S),{title:f,content:y}),w(null)):await Lq(fx(wc,"posts"),{title:f,content:y,created:new Date().toISOString()}),m(""),x(""),R(),E(!1)},style:{display:"flex",flexDirection:"column",gap:12,marginTop:24},children:[v.jsx("input",{type:"text",placeholder:"Title",value:f,onChange:k=>m(k.target.value),required:!0}),v.jsx("textarea",{placeholder:"Content",value:y,onChange:k=>x(k.target.value),rows:6,required:!0}),v.jsx("button",{type:"submit",disabled:_,children:_?S?"Saving...":"Creating...":S?"Save Changes":"Create Post"}),S&&v.jsx("button",{type:"button",onClick:()=>{w(null),m(""),x("")},children:"Cancel Edit"})]}),v.jsx("hr",{style:{margin:"2rem 0"}}),v.jsx("h2",{children:"All Posts"}),_?v.jsx("p",{children:"Loading..."}):v.jsx("ul",{style:{listStyle:"none",padding:0},children:h.map(k=>v.jsxs("li",{style:{border:"1px solid #ccc",borderRadius:8,margin:"1rem 0",padding:16,textAlign:"left"},children:[v.jsx("strong",{children:k.title}),v.jsx("div",{style:{whiteSpace:"pre-wrap",margin:"0.5rem 0"},children:k.content}),v.jsx("button",{onClick:()=>{w(k.id),m(k.title),x(k.content)},children:"Edit"}),v.jsx("button",{onClick:async()=>{E(!0),await Oq(Mg(wc,"posts",k.id)),R(),E(!1)},style:{marginLeft:8,color:"red"},children:"Delete"})]},k.id))})]}):v.jsxs("form",{onSubmit:O,style:{display:"flex",flexDirection:"column",gap:12,marginTop:24},children:[v.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:k=>r(k.target.value),required:!0}),v.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:k=>i(k.target.value),required:!0}),v.jsx("button",{type:"submit",disabled:l,children:l?"Logging in...":"Login"}),o&&v.jsx("div",{style:{color:"red",marginTop:8},children:o})]})]})};function x0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ki=x0();function XR(t){ki=t}var cl={exec:()=>null};function fe(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(At.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,e)};return r}var At={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Vq=/^(?:[ \t]*(?:\n|$))+/,zq=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Fq=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,wu=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,$q=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,k0=/(?:[*+-]|\d{1,9}[.)])/,JR=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ZR=fe(JR).replace(/bull/g,k0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Uq=fe(JR).replace(/bull/g,k0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),S0=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Bq=/^[^\n]+/,I0=/(?!\s*\])(?:\\.|[^\[\]\\])+/,qq=fe(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",I0).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Wq=fe(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,k0).getRegex(),ef="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",b0=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Hq=fe("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",b0).replace("tag",ef).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),eC=fe(S0).replace("hr",wu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ef).getRegex(),Kq=fe(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",eC).getRegex(),A0={blockquote:Kq,code:zq,def:qq,fences:Fq,heading:$q,hr:wu,html:Hq,lheading:ZR,list:Wq,newline:Vq,paragraph:eC,table:cl,text:Bq},yx=fe("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",wu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ef).getRegex(),Gq={...A0,lheading:Uq,table:yx,paragraph:fe(S0).replace("hr",wu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",yx).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ef).getRegex()},Qq={...A0,html:fe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",b0).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cl,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:fe(S0).replace("hr",wu).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ZR).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Yq=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Xq=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,tC=/^( {2,}|\\)\n(?!\s*$)/,Jq=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,tf=/[\p{P}\p{S}]/u,P0=/[\s\p{P}\p{S}]/u,nC=/[^\s\p{P}\p{S}]/u,Zq=fe(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,P0).getRegex(),rC=/(?!~)[\p{P}\p{S}]/u,eW=/(?!~)[\s\p{P}\p{S}]/u,tW=/(?:[^\s\p{P}\p{S}]|~)/u,nW=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,sC=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,rW=fe(sC,"u").replace(/punct/g,tf).getRegex(),sW=fe(sC,"u").replace(/punct/g,rC).getRegex(),iC="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",iW=fe(iC,"gu").replace(/notPunctSpace/g,nC).replace(/punctSpace/g,P0).replace(/punct/g,tf).getRegex(),oW=fe(iC,"gu").replace(/notPunctSpace/g,tW).replace(/punctSpace/g,eW).replace(/punct/g,rC).getRegex(),aW=fe("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,nC).replace(/punctSpace/g,P0).replace(/punct/g,tf).getRegex(),lW=fe(/\\(punct)/,"gu").replace(/punct/g,tf).getRegex(),uW=fe(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),cW=fe(b0).replace("(?:-->|$)","-->").getRegex(),hW=fe("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",cW).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Jh=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,dW=fe(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Jh).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),oC=fe(/^!?\[(label)\]\[(ref)\]/).replace("label",Jh).replace("ref",I0).getRegex(),aC=fe(/^!?\[(ref)\](?:\[\])?/).replace("ref",I0).getRegex(),fW=fe("reflink|nolink(?!\\()","g").replace("reflink",oC).replace("nolink",aC).getRegex(),R0={_backpedal:cl,anyPunctuation:lW,autolink:uW,blockSkip:nW,br:tC,code:Xq,del:cl,emStrongLDelim:rW,emStrongRDelimAst:iW,emStrongRDelimUnd:aW,escape:Yq,link:dW,nolink:aC,punctuation:Zq,reflink:oC,reflinkSearch:fW,tag:hW,text:Jq,url:cl},pW={...R0,link:fe(/^!?\[(label)\]\((.*?)\)/).replace("label",Jh).getRegex(),reflink:fe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Jh).getRegex()},zg={...R0,emStrongRDelimAst:oW,emStrongLDelim:sW,url:fe(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},mW={...zg,br:fe(tC).replace("{2,}","*").getRegex(),text:fe(zg.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},_c={normal:A0,gfm:Gq,pedantic:Qq},Aa={normal:R0,gfm:zg,breaks:mW,pedantic:pW},gW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vx=t=>gW[t];function jn(t,e){if(e){if(At.escapeTest.test(t))return t.replace(At.escapeReplace,vx)}else if(At.escapeTestNoEncode.test(t))return t.replace(At.escapeReplaceNoEncode,vx);return t}function wx(t){try{t=encodeURI(t).replace(At.percentDecode,"%")}catch{return null}return t}function _x(t,e){var i;let n=t.replace(At.findPipe,(o,a,l)=>{let u=!1,h=a;for(;--h>=0&&l[h]==="\\";)u=!u;return u?"|":" |"}),r=n.split(At.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!((i=r.at(-1))!=null&&i.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(At.slashPipe,"|");return r}function Pa(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}function yW(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function Ex(t,e,n,r,s){let i=e.href,o=e.title||null,a=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function vW(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(i=>{let o=i.match(n.other.beginningSpace);if(o===null)return i;let[a]=o;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}var Zh=class{constructor(t){B(this,"options");B(this,"rules");B(this,"lexer");this.options=t||ki}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Pa(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=vW(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=Pa(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Pa(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=Pa(e[0],`
`).split(`
`),r="",s="",i=[];for(;n.length>0;){let o=!1,a=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),o=!0;else if(!o)a.push(n[l]);else break;n=n.slice(l);let u=a.join(`
`),h=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${u}`:u,s=s?`${s}
${h}`:h;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,i,!0),this.lexer.state.top=d,n.length===0)break;let f=i.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){let m=f,y=m.raw+`
`+n.join(`
`),x=this.blockquote(y);i[i.length-1]=x,r=r.substring(0,r.length-m.raw.length)+x.raw,s=s.substring(0,s.length-m.text.length)+x.text;break}else if((f==null?void 0:f.type)==="list"){let m=f,y=m.raw+`
`+n.join(`
`),x=this.list(y);i[i.length-1]=x,r=r.substring(0,r.length-f.raw.length)+x.raw,s=s.substring(0,s.length-m.raw.length)+x.raw,n=y.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),o=!1;for(;t;){let l=!1,u="",h="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;u=e[0],t=t.substring(u.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),f=t.split(`
`,1)[0],m=!d.trim(),y=0;if(this.options.pedantic?(y=2,h=d.trimStart()):m?y=e[1].length+1:(y=e[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,h=d.slice(y),y+=e[1].length),m&&this.rules.other.blankLine.test(f)&&(u+=f+`
`,t=t.substring(f.length+1),l=!0),!l){let w=this.rules.other.nextBulletRegex(y),_=this.rules.other.hrRegex(y),E=this.rules.other.fencesBeginRegex(y),R=this.rules.other.headingBeginRegex(y),O=this.rules.other.htmlBeginRegex(y);for(;t;){let D=t.split(`
`,1)[0],k;if(f=D,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),k=f):k=f.replace(this.rules.other.tabCharGlobal,"    "),E.test(f)||R.test(f)||O.test(f)||w.test(f)||_.test(f))break;if(k.search(this.rules.other.nonSpaceChar)>=y||!f.trim())h+=`
`+k.slice(y);else{if(m||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||E.test(d)||R.test(d)||_.test(d))break;h+=`
`+f}!m&&!f.trim()&&(m=!0),u+=D+`
`,t=t.substring(D.length+1),d=k.slice(y)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(o=!0));let x=null,S;this.options.gfm&&(x=this.rules.other.listIsTask.exec(h),x&&(S=x[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:u,task:!!x,checked:S,loose:!1,text:h,tokens:[]}),s.raw+=u}let a=s.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){let u=s.items[l].tokens.filter(d=>d.type==="space"),h=u.length>0&&u.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=h}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:s}}}table(t){var o;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=_x(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?i.align.push("right"):this.rules.other.tableAlignCenter.test(a)?i.align.push("center"):this.rules.other.tableAlignLeft.test(a)?i.align.push("left"):i.align.push(null);for(let a=0;a<n.length;a++)i.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:i.align[a]});for(let a of s)i.rows.push(_x(a,i.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:i.align[u]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Pa(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=yW(e[2],"()");if(i===-2)return;if(i>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Ex(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Ex(n,s,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,i,o,a=s,l=0,u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+s);(r=u.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){a+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){l+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+l);let h=[...r[0]][0].length,d=t.slice(0,s+r.index+h+o);if(Math.min(s,o)%2){let m=d.slice(1,-1);return{type:"em",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}let f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,s;if(e[2]==="@")r=e[0],s="mailto:"+r;else{let i;do i=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(i!==e[0]);r=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},gr=class Fg{constructor(e){B(this,"tokens");B(this,"options");B(this,"state");B(this,"tokenizer");B(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ki,this.options.tokenizer=this.options.tokenizer||new Zh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:At,block:_c.normal,inline:Aa.normal};this.options.pedantic?(n.block=_c.pedantic,n.inline=Aa.pedantic):this.options.gfm&&(n.block=_c.gfm,this.options.breaks?n.inline=Aa.breaks:n.inline=Aa.gfm),this.tokenizer.rules=n}static get rules(){return{block:_c,inline:Aa}}static lex(e,n){return new Fg(n).lex(e)}static lexInline(e,n){return new Fg(n).inlineTokens(e)}lex(e){e=e.replace(At.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var s,i,o;for(this.options.pedantic&&(e=e.replace(At.tabCharGlobal,"    ").replace(At.spaceLine,""));e;){let a;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(u=>(a=u.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let u=n.at(-1);a.raw.length===1&&u!==void 0?u.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+a.raw,u.text+=`
`+a.text,this.inlineQueue.at(-1).src=u.text):n.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+a.raw,u.text+=`
`+a.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),n.push(a);continue}let l=e;if((o=this.options.extensions)!=null&&o.startBlock){let u=1/0,h=e.slice(1),d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},h),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(l=e.substring(0,u+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){let u=n.at(-1);r&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+a.raw,u.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(a),r=l.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let u=n.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+a.raw,u.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(a);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var a,l,u;let r=e,s=null;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)h.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let h;if((l=(a=this.options.extensions)==null?void 0:a.inline)!=null&&l.some(f=>(h=f.call({lexer:this},e,n))?(e=e.substring(h.raw.length),n.push(h),!0):!1))continue;if(h=this.tokenizer.escape(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.tag(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.link(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(h.raw.length);let f=n.at(-1);h.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=h.raw,f.text+=h.text):n.push(h);continue}if(h=this.tokenizer.emStrong(e,r,o)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.codespan(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.br(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.del(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.autolink(e)){e=e.substring(h.raw.length),n.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(e))){e=e.substring(h.raw.length),n.push(h);continue}let d=e;if((u=this.options.extensions)!=null&&u.startInline){let f=1/0,m=e.slice(1),y;this.options.extensions.startInline.forEach(x=>{y=x.call({lexer:this},m),typeof y=="number"&&y>=0&&(f=Math.min(f,y))}),f<1/0&&f>=0&&(d=e.substring(0,f+1))}if(h=this.tokenizer.inlineText(d)){e=e.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(o=h.raw.slice(-1)),i=!0;let f=n.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=h.raw,f.text+=h.text):n.push(h);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}},ed=class{constructor(t){B(this,"options");B(this,"parser");this.options=t||ki}space(t){return""}code({text:t,lang:e,escaped:n}){var i;let r=(i=(e||"").match(At.notSpaceStart))==null?void 0:i[0],s=t.replace(At.endingNewline,"")+`
`;return r?'<pre><code class="language-'+jn(r)+'">'+(n?s:jn(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:jn(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let a=t.items[o];r+=this.listitem(a)}let s=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(t){var n;let e="";if(t.task){let r=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+jn(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);e+=this.tablerow({text:n});let r="";for(let s=0;s<t.rows.length;s++){let i=t.rows[s];n="";for(let o=0;o<i.length;o++)n+=this.tablecell(i[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${jn(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),s=wx(t);if(s===null)return r;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+jn(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=wx(t);if(s===null)return jn(n);t=s;let i=`<img src="${t}" alt="${n}"`;return e&&(i+=` title="${jn(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:jn(t.text)}},C0=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},yr=class $g{constructor(e){B(this,"options");B(this,"renderer");B(this,"textRenderer");this.options=e||ki,this.options.renderer=this.options.renderer||new ed,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new C0}static parse(e,n){return new $g(n).parse(e)}static parseInline(e,n){return new $g(n).parseInline(e)}parse(e,n=!0){var s,i;let r="";for(let o=0;o<e.length;o++){let a=e[o];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){let u=a,h=this.options.extensions.renderers[u.type].call({parser:this},u);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){r+=h||"";continue}}let l=a;switch(l.type){case"space":{r+=this.renderer.space(l);continue}case"hr":{r+=this.renderer.hr(l);continue}case"heading":{r+=this.renderer.heading(l);continue}case"code":{r+=this.renderer.code(l);continue}case"table":{r+=this.renderer.table(l);continue}case"blockquote":{r+=this.renderer.blockquote(l);continue}case"list":{r+=this.renderer.list(l);continue}case"html":{r+=this.renderer.html(l);continue}case"paragraph":{r+=this.renderer.paragraph(l);continue}case"text":{let u=l,h=this.renderer.text(u);for(;o+1<e.length&&e[o+1].type==="text";)u=e[++o],h+=`
`+this.renderer.text(u);n?r+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):r+=h;continue}default:{let u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}parseInline(e,n=this.renderer){var s,i;let r="";for(let o=0;o<e.length;o++){let a=e[o];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){let u=this.options.extensions.renderers[a.type].call({parser:this},a);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=u||"";continue}}let l=a;switch(l.type){case"escape":{r+=n.text(l);break}case"html":{r+=n.html(l);break}case"link":{r+=n.link(l);break}case"image":{r+=n.image(l);break}case"strong":{r+=n.strong(l);break}case"em":{r+=n.em(l);break}case"codespan":{r+=n.codespan(l);break}case"br":{r+=n.br(l);break}case"del":{r+=n.del(l);break}case"text":{r+=n.text(l);break}default:{let u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}},Vp,Yc=(Vp=class{constructor(t){B(this,"options");B(this,"block");this.options=t||ki}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?gr.lex:gr.lexInline}provideParser(){return this.block?yr.parse:yr.parseInline}},B(Vp,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Vp),wW=class{constructor(...t){B(this,"defaults",x0());B(this,"options",this.setOptions);B(this,"parse",this.parseMarkdown(!0));B(this,"parseInline",this.parseMarkdown(!1));B(this,"Parser",yr);B(this,"Renderer",ed);B(this,"TextRenderer",C0);B(this,"Lexer",gr);B(this,"Tokenizer",Zh);B(this,"Hooks",Yc);this.use(...t)}walkTokens(t,e){var r,s;let n=[];for(let i of t)switch(n=n.concat(e.call(this,i)),i.type){case"table":{let o=i;for(let a of o.header)n=n.concat(this.walkTokens(a.tokens,e));for(let a of o.rows)for(let l of a)n=n.concat(this.walkTokens(l.tokens,e));break}case"list":{let o=i;n=n.concat(this.walkTokens(o.items,e));break}default:{let o=i;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(a=>{let l=o[a].flat(1/0);n=n.concat(this.walkTokens(l,e))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...o){let a=s.renderer.apply(this,o);return a===!1&&(a=i.apply(this,o)),a}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){let s=this.defaults.renderer||new ed(this.defaults);for(let i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,a=n.renderer[o],l=s[o];s[o]=(...u)=>{let h=a.apply(s,u);return h===!1&&(h=l.apply(s,u)),h||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Zh(this.defaults);for(let i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,a=n.tokenizer[o],l=s[o];s[o]=(...u)=>{let h=a.apply(s,u);return h===!1&&(h=l.apply(s,u)),h}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new Yc;for(let i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,a=n.hooks[o],l=s[o];Yc.passThroughHooks.has(i)?s[o]=u=>{if(this.defaults.async)return Promise.resolve(a.call(s,u)).then(d=>l.call(s,d));let h=a.call(s,u);return l.call(s,h)}:s[o]=(...u)=>{let h=a.apply(s,u);return h===!1&&(h=l.apply(s,u)),h}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(i.call(this,o)),s&&(a=a.concat(s.call(this,o))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return gr.lex(t,e??this.defaults)}parser(t,e){return yr.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let o=s.hooks?s.hooks.provideLexer():t?gr.lex:gr.lexInline,a=s.hooks?s.hooks.provideParser():t?yr.parse:yr.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(e):e).then(l=>o(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>a(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let l=o(e,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let u=a(l,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(l){return i(l)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+jn(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},mi=new wW;function me(t,e){return mi.parse(t,e)}me.options=me.setOptions=function(t){return mi.setOptions(t),me.defaults=mi.defaults,XR(me.defaults),me};me.getDefaults=x0;me.defaults=ki;me.use=function(...t){return mi.use(...t),me.defaults=mi.defaults,XR(me.defaults),me};me.walkTokens=function(t,e){return mi.walkTokens(t,e)};me.parseInline=mi.parseInline;me.Parser=yr;me.parser=yr.parse;me.Renderer=ed;me.TextRenderer=C0;me.Lexer=gr;me.lexer=gr.lex;me.Tokenizer=Zh;me.Hooks=Yc;me.parse=me;me.options;me.setOptions;me.use;me.walkTokens;me.parseInline;yr.parse;gr.lex;function _W(t){const e=/^---\n([\s\S]+?)\n---/.exec(t);if(!e)return{data:{},content:t};const n=e[1].split(`
`),r={};for(const i of n){const[o,...a]=i.split(":");o&&a.length&&(r[o.trim()]=a.join(":").trim().replace(/^"|"$/g,""))}const s=t.slice(e[0].length).trim();return{data:r,content:s}}const EW=()=>{const{slug:t}=ZD(),[e,n]=C.useState(null),[r,s]=C.useState(!1);return C.useEffect(()=>{if(!t)return;const o=Object.entries(Object.assign({"/blog/example-post.md":sA,"/blog/first-post.md":iA})).find(([d])=>d.endsWith(`/${t}.md`));if(!o){s(!0);return}const[a,l]=o,{data:u,content:h}=_W(l||"");n({meta:{slug:t,title:u.title||t,date:u.date||"",description:u.description||""},content:h})},[t]),r?v.jsxs(v.Fragment,{children:[v.jsx(Ao,{}),v.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 text-center",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Nie znaleziono wpisu"}),v.jsx(Pl,{to:"/blog",className:"text-accent hover:underline",children:"Powrt do bloga"})]}),v.jsx(Ml,{})]}):e?v.jsxs(v.Fragment,{children:[v.jsx(Ao,{}),v.jsxs("article",{className:"max-w-2xl mx-auto py-12 px-4 prose dark:prose-invert",children:[v.jsx(Pl,{to:"/blog",className:"text-accent hover:underline",children:" Powrt do bloga"}),v.jsx("h1",{className:"mt-4 mb-2 text-3xl font-bold",children:e.meta.title}),v.jsx("div",{className:"text-xs text-slate-400 mb-6",children:e.meta.date}),v.jsx("div",{dangerouslySetInnerHTML:{__html:me(e.content)}})]}),v.jsx(Ml,{})]}):null};function TW(){return v.jsx(GO,{children:v.jsx(VO,{children:v.jsx("div",{className:"bg-slate-50 dark:bg-gray-900 text-slate-700 dark:text-slate-300 transition-colors duration-300 font-sans",children:v.jsxs(pO,{children:[v.jsx(zr,{path:"/",element:v.jsx(W4,{})}),v.jsx(zr,{path:"/test",element:v.jsx(P3,{})}),v.jsx(zr,{path:"/spotkanie",element:v.jsx(KF,{})}),v.jsx(zr,{path:"/cennik",element:v.jsx(GF,{})}),v.jsx(zr,{path:"/blog",element:v.jsx(YF,{})}),v.jsx(zr,{path:"/blog/:slug",element:v.jsx(EW,{})}),v.jsx(zr,{path:"/blog-admin",element:v.jsx(Mq,{})})]})})})})}const lC=document.getElementById("root");if(!lC)throw new Error("Could not find root element to mount to");const xW=zp.createRoot(lC);xW.render(v.jsx(Nx.StrictMode,{children:v.jsx(TW,{})}));
